"use strict";(self.webpackChunksunbird_obsrv=self.webpackChunksunbird_obsrv||[]).push([[731],{1195:(e,t,a)=>{a.d(t,{A:()=>h});var n=a(83462),o=a(98533),s=a(42518),r=a(81e3),i=a(4219),l=a(35316),c=a(29347),d=a(73012),u=a(70579);const h=e=>{let{handleClose:t,action:a=null,open:h=!1,context:p={}}=e;return p.show=void 0===p.show||p.show,(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(n.A,{open:h,onClose:t,children:(0,u.jsxs)(r.A,{sx:{p:1,py:1.5},children:[(0,u.jsx)(i.A,{children:null===p||void 0===p?void 0:p.title}),(0,u.jsxs)(l.A,{children:[(0,u.jsx)(o.A,{children:null===p||void 0===p?void 0:p.content}),null===p||void 0===p?void 0:p.component]}),!0===p.show&&(0,u.jsxs)(c.A,{children:[(0,u.jsx)(s.A,{"data-edataid":d.alert_dialog_cancel,color:"error",onClick:e=>t(),children:"Cancel"}),(0,u.jsx)(s.A,{"data-edataid":d.alert_dialog_agree,variant:"contained",onClick:()=>{a&&a(),t(!0)},autoFocus:!0,children:"Agree"})]})]})})})}},75359:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(65043),o=a(74600),s=a(71806),r=a(84882),i=a(28076),l=a(10039),c=a(73460),d=a(71094),u=a(28912),h=a(70579);const p=function(e){let{columns:t,data:a,renderHeader:p}=e;const[m,f]=(0,n.useState)(a||[]),g=(0,n.useMemo)((()=>u.sB),[]),A=(0,n.useMemo)((()=>({Filter:u.ev})),[]),v=(0,n.useMemo)((()=>({filters:[],hiddenColumns:["tags"]})),[]),{getTableProps:x,getTableBodyProps:y,headerGroups:b,rows:j,prepareRow:k,state:w,preGlobalFilteredRows:C,setGlobalFilter:_,toggleRowExpanded:M}=(0,d.useTable)({columns:t,data:m,defaultColumn:A,initialState:v,filterTypes:g,autoResetExpanded:!1},d.useGlobalFilter,d.useFilters,d.useExpanded);return(0,n.useEffect)((()=>{f(a)}),[a]),(0,h.jsxs)(o.A,{spacing:2,children:[p?p({preGlobalFilteredRows:C,setGlobalFilter:_,toggleRowExpanded:M,state:w}):null,(0,h.jsxs)(s.A,{...x(),children:[(0,h.jsx)(r.A,{sx:{borderTopWidth:2},children:b.map((e=>(0,h.jsx)(i.A,{...e.getHeaderGroupProps(),children:e.headers.map((e=>{const{style:t={}}=e;return(0,h.jsx)(l.A,{style:t,...e.getHeaderProps([{className:e.className}]),children:e.render("Header")})}))})))}),(0,h.jsxs)(c.A,{...y(),children:[b.map((e=>(0,h.jsx)(i.A,{...e.getHeaderGroupProps(),children:e.headers.map((e=>(0,h.jsx)(l.A,{...e.getHeaderProps([{className:e.className}]),children:e.canFilter?e.render("Filter"):null})))}))),j.map((e=>(k(e),(0,h.jsx)(i.A,{...e.getRowProps(),children:e.cells.map((e=>(0,h.jsx)(l.A,{...e.getCellProps([{className:e.column.className}]),children:e.render("Cell")})))}))))]})]})]})}},14731:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var n=a(81e3),o=a(69392),s=a(83462),r=a(68903),i=a(79226),l=a(8248),c=a(75359),d=a(65043),u=a(97508),h=a(73216),p=a(34124),m=a(8387),f=a(42518),g=a(74600),A=a(53536),v=a.n(A),x=a(85865),y=a(43845),b=a(60446),j=a.n(b),k=a(43117),w=a(77677),C=a(67407),_=a(61966),M=a(3981),R=a(51544),F=a(37538),T=a(1195),P=a(70532),S=a(70579);const z=()=>{const[e,t]=(0,d.useState)(!1),{id:a}=(0,h.g)(),[A,b]=(0,d.useState)({}),z=(0,u.wA)(),B=(0,h.Zp)(),[D,N]=(0,d.useState)(!1),[H,E]=(0,d.useState)(null),L=async e=>{try{const t=await(0,p.c)({id:e}),a=v().omit(v().get(t,"result"),["manager"]);b(a)}catch(a){z((0,m.z3)({message:"Failed to fetch channel metadata"}))}finally{t(!1)}},I=(0,d.useMemo)((()=>[{name:"back",label:"Back",variant:"outlined",color:"primary",isDisabled:e=>!1,onClick:()=>B(-1)},{label:"Test",icon:(0,S.jsx)(k.A,{}),isDisabled:e=>!1,onClick:async e=>{N(!0)}},{label:"Publish",icon:(0,S.jsx)(w.A,{}),isDisabled:e=>{const{payload:t}=e,{status:a}=t;return"live"===v().toLower(a)},color:"success",onClick:async e=>{const{payload:a,dispatch:n}=e,{id:o}=a;E({action:async()=>{t(!0);try{await(0,p.Rn)({id:o}),L(o),n((0,m.kX)({message:"Channel published successfully"}))}catch(e){n((0,m.z3)({message:"Failed to publish channel"}))}finally{t(!1)}},handleClose:()=>{E(null)},context:(0,F.hQ)({action:"Publish",title:"channel"})})}},{label:"Edit",icon:(0,S.jsx)(C.A,{}),isDisabled:e=>!1,onClick:e=>{const{payload:t,navigate:a}=e,{id:n}=t;a(`/alertChannels/edit/${n}`)}},{label:"Retire",icon:(0,S.jsx)(_.A,{}),isDisabled:e=>{const{payload:t}=e,{status:a}=t;return"retired"===v().toLower(a)},color:"error",onClick:async e=>{const{payload:a,dispatch:n}=e,{id:o}=a;E({action:async()=>{t(!0);try{await(0,p.Xd)({id:o}),L(o),n((0,m.kX)({message:"Channel retired successfully"}))}catch(e){n((0,m.z3)({message:"Failed to retire channel"}))}finally{t(!1)}},handleClose:()=>{E(null)},context:(0,F.hQ)({action:"Retire",title:"channel"})})}}]),[]),U=e=>{var t,a;const o=(null===e||void 0===e||null===(t=e.cell)||void 0===t||null===(a=t.row)||void 0===a?void 0:a.original)||{},s=null===o||void 0===o?void 0:o.label;let r=null===o||void 0===o?void 0:o.value;var i;if(["createdAt","updatedAt"].includes(s)&&(i=r,r=j()(i).format("MMMM D, YYYY h:mm A")),"object"===typeof r)return(0,S.jsx)(n.A,{children:v().entries(r).map((e=>{let[t,a]=e;return(0,S.jsx)(y.A,{label:`${t} : ${a}`,color:"info",variant:"combined",sx:{marginRight:"0.5rem"}},t)}))});switch(s){case"status":case"type":return(0,S.jsx)(n.A,{children:(0,S.jsx)(y.A,{label:r.toUpperCase(),color:"draft"==r?"warning":"retired"==r?"secondary":"success",size:"small",variant:"status"==s?"filled":"combined"})});default:return(0,S.jsx)(n.A,{children:(0,S.jsx)(x.A,{variant:"h6",children:r})})}},G=(0,d.useMemo)((()=>[{Header:"Key",accessor:"label",disableFilters:!0,style:{width:"20vw"},Cell:e=>(0,S.jsx)(n.A,{children:(0,S.jsx)(x.A,{variant:"h6",children:v().capitalize((0,R.I)(null===e||void 0===e?void 0:e.value))})})},{Header:"Value",accessor:"value",disableFilters:!0,style:{width:"auto"},Cell:U}]),[]),K=e=>{const{label:t,isDisabled:a,icon:n,onClick:o,color:s,variant:r="contained"}=e,i={payload:A,dispatch:z,navigate:B};return(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsx)(f.A,{onClick:e=>o(i),startIcon:n,color:s,variant:r,disabled:a({payload:A}),children:t})]})};(0,d.useEffect)((()=>{a&&(t(!0),L(a))}),[a]);const Y=()=>{const e=v().get(A,"name")||"Loading...";v().get(A,"status");return(0,S.jsx)(g.A,{direction:"row",alignItems:"center",children:(0,S.jsx)(o.A,{title:"Notification Channel Name",children:(0,S.jsx)(x.A,{variant:"h5",padding:1,mr:1,children:e})})})},q=(e,t)=>{const a=v().omit(e,t||[]);return v().compact(v().map(v().entries(a),(e=>{const[t,a]=e;return a&&"string"===typeof a?{label:t,value:a}:null})))},Q=[...q(A,["id"]),...q(v().get(A,"config"),[])];return(0,S.jsx)(S.Fragment,{children:e?(0,S.jsx)(i.A,{content:!1,children:(0,P.Y)({config:{type:"table",width:"100%",totallines:6}})}):(0,S.jsx)(i.A,{title:Y(),secondary:(0,S.jsx)(g.A,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:v().map(I,K)}),contentSX:{px:3,background:"inherit"},content:!1,children:(0,S.jsxs)(r.Ay,{container:!0,rowSpacing:2,columnSpacing:2,children:[(0,S.jsx)(r.Ay,{item:!0,xs:12,children:(0,S.jsx)(l.A,{children:(0,S.jsx)(c.A,{columns:G,data:Q})})}),(0,S.jsx)(r.Ay,{item:!0,xs:12,children:(0,S.jsx)(s.A,{open:D,fullWidth:!0,children:(0,S.jsx)(M.A,{onClose:e=>N(!1),channel:A})})}),(0,S.jsx)(r.Ay,{children:H?(0,S.jsx)(T.A,{...H,open:!0}):null})]})})})}},51544:(e,t,a)=>{a.d(t,{I:()=>r});var n=a(53536),o=a.n(n);const s={createdAt:"Created On",updatedAt:"Updated On",created_by:"Created By",updated_by:"Updated By",webhookUrl:"Webhook URL",recipientAddresses:"Recipient Addresses",expression:"Metric",alert_state:"Alert State",alerts_count:"Alerts Count",notificationChannel:"Notification Channel",alertType:"Alert Type",tableName:"Table name",databaseName:"Database name",batchSize:"Batch size",kafkaBrokers:"Kafka Broker URL",postgresql:"PostgreSQL",mysql:"MySQL","fileFormat.type":"File format","fileFormat.compressed":"Is file compressed?","pollingInterval.type":"Polling Interval","authenticationMechanism.type":"Auth Mechanism","authenticationMechanism.config.access_key":"Access Key","authenticationMechanism.config.secret_key":"Secret Key","authenticationMechanism.config.region":"Region","authenticationMechanism.config.name":"Account name","authenticationMechanism.username":"Username","authenticationMechanism.password":"Password","pollingInterval.schedule":"Schedule",pollingIntervalType:"Polling Interval","connection.host":"Host name","connection.port":"Port number",object:"Cloud store",kafka:"Events (Kafka)",jdbc:"Relational Database",timestampColumn:"Timestamp column",source:"Service Provider",silenceEndTime:"UnMutes in","transformation_function.type":"type","transformation_function.expr":"expression","connector_config.topic":"topic","connector_config.kafkaBrokers":"brokers","connector_config.type":"type","connector_config.connection.host":"host","connector_config.connection.port":"port","connector_config.databaseName":"db","connector_config.tableName":"table",mode:"Mode",arrivalFormat:"Arrival format",dataType:"Data type",isRequired:"Required field",is_batch_event:"Is Batch ?",extraction_key:"Extraction key","dedup_config.drop_duplicates":"Drop duplicates ?",dedup_key:"Dedupe key",drop_duplicates:"Drop duplicates ?",dataset_name:"Master dataset name",denorm_key:"Output field",batch_id:"Batch identifier",validation_mode:"Validation mode",type:"Type",bucket:"Bucket name",prefix:"Prefix",region:"Region",topic:"Kafka topic","dedup_config.dedup_key":"Batch identifier",source_kafka_topic:"Topic",source_kafka_broker_servers:"Kafka Broker URL","kafka-connector-1.0.0":"kafka"},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=o().get(s,e);return t?a:a||e}},61966:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(89379),o=a(65043);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var r=a(8436),i=function(e,t){return o.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const l=o.forwardRef(i)},67407:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(89379),o=a(65043);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var r=a(8436),i=function(e,t){return o.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const l=o.forwardRef(i)},77677:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(89379),o=a(65043);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};var r=a(8436),i=function(e,t){return o.createElement(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const l=o.forwardRef(i)},98533:(e,t,a)=>{a.d(t,{A:()=>v});var n=a(98587),o=a(58168),s=a(65043),r=a(58387),i=a(65049),l=a(34535),c=a(61475),d=a(98206),u=a(85865),h=a(14987),p=a(60239);function m(e){return(0,p.Ay)("MuiDialogContentText",e)}(0,h.A)("MuiDialogContentText",["root"]);var f=a(70579);const g=["children","className"],A=(0,l.Ay)(u.A,{shouldForwardProp:e=>(0,c.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),v=s.forwardRef((function(e,t){const a=(0,d.b)({props:e,name:"MuiDialogContentText"}),{className:s}=a,l=(0,n.A)(a,g),c=(e=>{const{classes:t}=e,a=(0,i.A)({root:["root"]},m,t);return(0,o.A)({},t,a)})(l);return(0,f.jsx)(A,(0,o.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:l,className:(0,r.A)(c.root,s)},a,{classes:c}))}))}}]);
//# sourceMappingURL=731.67ee0555.chunk.js.map