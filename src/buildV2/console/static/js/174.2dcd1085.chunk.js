"use strict";(self.webpackChunksunbird_obsrv=self.webpackChunksunbird_obsrv||[]).push([[174],{99600:(e,t,s)=>{s.d(t,{A:()=>r});const r={home:{home:"home"},login:"login",metrics:{infra:"metrics:infra",overallInfra:"metrics:infra",api:"metrics:api",ingestion:"metrics:ingestion",processing:"metrics:processing",storage:"metrics:storage"},dataset:{list:"dataset:list",create:"dataset:create",edit:"dataset:edit",pages:{schema:"json-schema",input:"input",field:"fields",processing:"processing",advanced:"advanced",review:"review"}},masterdataset:{create:"masterDataset:create",edit:"masterDataset:edit",pages:{schema:"json-schema",input:"input",field:"fields",review:"review"}},systemSettings:{list:"systemSettings:list"}}},13691:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(65043),a=s(73216),n=s(60028);const i=e=>{let{type:t="",subtype:s="PAGINATE",pageid:i,object:c={}}=e;const l=(0,a.zy)(),{pathname:o}=l,d={type:t,subtype:s,pageid:i||o,uri:o};(0,r.useEffect)((()=>{(0,n.rH)({edata:d,object:c})}),[i])}},63174:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var r=s(53536),a=s.n(r),n=s(68903),i=s(85865),c=s(69392),l=s(74600),o=s(85976),d=s(65043),m=s(97508),h=s(79226),g=s(77366),u=s(73216),p=s(8387),A=s(94786),x=s(81045),y=s(41121);var j=s(26240),v=s(54011),f=s(99600),b=s(13691),I=s(73012),M=s(92073),$=s(66734),w=s(70579);const k=(0,$.A)([(0,w.jsx)("path",{d:"M15.11 12.45 14 10.24l-3.11 6.21c-.16.34-.51.55-.89.55s-.73-.21-.89-.55L7.38 13H2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5h-6c-.38 0-.73-.21-.89-.55"},"0"),(0,w.jsx)("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v5h6c.38 0 .73.21.89.55L10 13.76l3.11-6.21c.34-.68 1.45-.68 1.79 0L16.62 11H22V6c0-1.1-.9-2-2-2"},"1")],"MonitorHeart");var E=s(15244),L=s(7943),C=s(43845),H=s(15813),z=s(57332);const _=e=>{const t={color:"success",label:"Loading Health..."},{metadata:s}=e,{query:r,transformer:n}=s,[i,c]=(0,d.useState)(t),l=async()=>{try{const e=await(Array.isArray(r)?(0,z._)(r):(0,z.p)(r));(e=>{if(Array.isArray(e)){const[t,s]=e;c({color:s,label:t})}else c({color:"success",label:e})})(n&&n(e)||e)}catch(e){}};return(0,d.useEffect)((()=>{c(t);const e=(()=>{const e=H.A.clusterMenu.frequency;return l(),setInterval((()=>l()),1e3*e)})();return()=>e&&clearInterval(e)}),[r,n]),(0,w.jsx)("div",{onClick:e=>l(),children:(0,w.jsx)(C.A,{icon:(()=>{const e=a().toLower(a().get(i,"label"));return["healthy","unhealthy"].includes(e)?"healthy"===e?(0,w.jsx)(E.A,{}):(0,w.jsx)(L.A,{}):(0,w.jsx)(k,{})})(),color:a().get(i,"color"),label:a().get(i,"label")})})},F=e=>{const{id:t}=e,s=(0,j.A)(),a=(0,m.wA)(),$=(0,u.Zp)(),k=(0,u.g)(),[E,L]=(0,d.useState)(),C=(s.palette.mode,t||r.get(k,"metricId"));(0,b.A)({type:"detail",pageid:r.get(f.A,["metrics",C])});const H=e=>{let{errMsg:t}=e;$("/"),t&&a((0,p.z3)({message:t}))};(0,d.useEffect)((()=>{(()=>{C||H({errMsg:"Metric Id Missing"});const e=r.find(g.v,["id",C]);e||H({errMsg:"Invalid Metric"}),L(e)})()}),[C]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(h.A,{title:(()=>{const e=r.get(E,"health");return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(l.A,{direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:2,children:[(0,w.jsx)("div",{children:`${(null===E||void 0===E?void 0:E.primaryLabel)||""} Metrics `}),e&&(0,w.jsx)(_,{metadata:e}),(0,w.jsx)(c.A,{title:null===E||void 0===E?void 0:E.description,children:(0,w.jsx)(A.A,{})})]})})})(),secondary:(()=>{const e=r.get(E,"links.grafana.link");return e?(0,w.jsx)(c.A,{title:"Navigate to Grafana Dashboard",onClick:t=>(e=>{const t=(0,y.Ct)("GRAFANA_URL");if(t){const s=`${t}/${e}`;window.open(s)}})(e),children:(0,w.jsx)(o.A,{"data-edataid":`${I.grafana_navigate}:${C}`,color:"secondary",variant:"light",sx:{color:"text.primary",bgcolor:"transparent",ml:.75},children:(0,w.jsx)(x.A,{alt:"Gradana",src:v.A})})}):null})(),children:(0,w.jsx)(n.Ay,{container:!0,spacing:2,marginBottom:1,alignItems:"stretch",children:(e=>{if(e){const{charts:t}=e;return r.flatten(r.map(t,((e,t)=>{const{size:s,metadata:a=[],groups:c=[]}=e,{xs:l,sm:o,lg:m,md:h}=s,g=r.map(c,(e=>{const{metadata:t,title:s}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.Ay,{item:!0,xs:12,children:(0,w.jsx)(i.A,{variant:"h5",children:s})}),r.map(t,((e,t)=>{const{id:s=(0,M.A)(),chart:r,description:a,noItem:i=!1,size:c={}}=e,{xs:g,sm:u,lg:p,md:A}=c;return i?d.cloneElement(r,{description:a,metricId:C,key:`${t}-${Math.random()}`}):(0,w.jsx)(n.Ay,{item:!0,xs:g||l,sm:u||o,md:A||h,lg:p||m,alignItems:"stretch",children:d.cloneElement(r,{description:a,metricId:C,uuid:s})},`${t}-${Math.random()}`)})),(0,w.jsx)(n.Ay,{item:!0,xs:12})]})})),u=r.map(a,((e,t)=>{const{id:s=(0,M.A)(),chart:r,description:a,noItem:i=!1}=e;return i?d.cloneElement(r,{description:a,metricId:C,key:`${t}-${Math.random()}`}):(0,w.jsx)(n.Ay,{item:!0,xs:l,sm:o,md:h,lg:m,alignItems:"stretch",children:d.cloneElement(r,{description:a,metricId:C,uuid:s})},`${t}-${Math.random()}`)}));return r.size(c)>0?g:u})))}})(E)})})})}}}]);
//# sourceMappingURL=174.2dcd1085.chunk.js.map