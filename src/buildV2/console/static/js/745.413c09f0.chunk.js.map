{"version":3,"file":"static/js/745.413c09f0.chunk.js","mappings":"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AAgBtJ,EAAUoC,aAAepC,EAAUkF,KACnDqiC,EAC4C,oBAAvCvnC,EAAUi9B,yBACb,6BACA,4BAEN,MAAMjtB,MACJ,2FACE1G,EACA,SACAi+B,EACA,uDACwB,OAAvBN,EAA8B,OAASA,EAAqB,KAC9B,OAA9BC,EACG,OAASA,EACT,KACqB,OAAxBC,EAA+B,OAASA,EAAsB,IATjE,uIAaJ,CAaA,GARkD,oBAAvCnnC,EAAUi9B,2BACnBxS,EAAUsS,mBAAqBA,EAC/BtS,EAAU0S,0BAA4BA,GAMS,oBAAtC1S,EAAUkT,wBAAwC,CAC3D,GAA4C,oBAAjClT,EAAU+c,mBACnB,MAAM,IAAIx3B,MACR,qHAIJya,EAAU6S,oBAAsBA,EAEhC,IAAIkK,EAAqB/c,EAAU+c,mBAEnC/c,EAAU+c,mBAAqB,SAC7BhK,EACAH,EACAoK,GAUA,IAAIC,EAAWhoB,KAAK+d,4BAChB/d,KAAKge,wBACL+J,EAEJD,EAAmBr3B,KAAKuP,KAAM8d,EAAWH,EAAWqK,EACtD,CACF,CAGF,CC8hBAC,CAAS/E,GAET,S,YC1rBAtzB,EAAOjM,QAAU,CACf,eACA,kBACA,qBACA,iBACA,gBACA,aACA,gBACA,mBACA,eACA,cACA,YACA,eACA,kBACA,cACA,aACA,MACA,SACA,YACA,QACA,OACA,YACA,eACA,kBACA,cACA,aACA,iBACA,oBACA,uBACA,mBACA,kBACA,qBACA,wBACA,2BACA,uBACA,sBACA,oBACA,uBACA,0BACA,sBACA,qBACA,oBACA,uBACA,0BACA,sBACA,qBACA,0BACA,6BACA,gCACA,4BACA,2BACA,gBACA,mBACA,sBACA,kBACA,iBACA,qBACA,wBACA,2BACA,uBACA,sBACA,0BACA,6BACA,gCACA,4BACA,2BACA,qBACA,wBACA,2BACA,uBACA,sBACA,aACA,gBACA,mBACA,eACA,cACA,uBACA,0BACA,6BACA,yBACA,wBACA,sBACA,yBACA,4BACA,wBACA,uBACA,iBACA,oBACA,uBACA,mBACA,kBACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,mBACA,sBACA,yBACA,qBACA,oBACA,qBACA,wBACA,2BACA,uBACA,sBACA,mBACA,sBACA,yBACA,qBACA,oBACA,iBACA,oBACA,uBACA,mBACA,kBACA,YACA,eACA,kBACA,cACA,aACA,SACA,YACA,eACA,WACA,UACA,iBACA,oBACA,uBACA,mBACA,kBACA,sBACA,yBACA,4BACA,wBACA,uBACA,sBACA,yBACA,4BACA,wBACA,uBACA,sBACA,yBACA,4BACA,wBACA,uBACA,mBACA,sBACA,yBACA,qBACA,oBACA,wBACA,2BACA,8BACA,0BACA,yBACA,wBACA,2BACA,8BACA,0BACA,yBACA,wBACA,2BACA,8BACA,0BACA,yBACA,eACA,kBACA,qBACA,iBACA,gBACA,oBACA,uBACA,0BACA,sBACA,qBACA,yBACA,4BACA,+BACA,2BACA,0BACA,0BACA,6BACA,gCACA,4BACA,2BACA,oBACA,uBACA,0BACA,sBACA,qBACA,oBACA,uBACA,0BACA,sBACA,qBACA,iBACA,oBACA,uBACA,mBACA,kBACA,cACA,iBACA,oBACA,gBACA,eACA,cACA,iBACA,oBACA,gBACA,eACA,oBACA,uBACA,0BACA,sBACA,qBACA,oBACA,uBACA,0BACA,sBACA,qBACA,mBACA,sBACA,yBACA,qBACA,oBACA,oBACA,uBACA,0BACA,sBACA,qBACA,mBACA,sBACA,yBACA,qBACA,oBACA,kBACA,qBACA,wBACA,oBACA,mBACA,uBACA,0BACA,6BACA,yBACA,wBACA,uBACA,0BACA,6BACA,yBACA,wBACA,uBACA,0BACA,6BACA,yBACA,wBACA,oBACA,uBACA,0BACA,sBACA,qBACA,yBACA,4BACA,+BACA,2BACA,0BACA,yBACA,4BACA,+BACA,2BACA,0BACA,yBACA,4BACA,+BACA,2BACA,0BACA,aACA,gBACA,mBACA,eACA,cACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,eACA,kBACA,qBACA,iBACA,gBACA,cACA,iBACA,oBACA,gBACA,eACA,mBACA,sBACA,yBACA,qBACA,oBACA,mBACA,sBACA,yBACA,qBACA,oBACA,mBACA,sBACA,yBACA,qBACA,oBACA,gBACA,mBACA,sBACA,kBACA,iBACA,cACA,iBACA,oBACA,gBACA,eACA,YACA,eACA,kBACA,cACA,aACA,iBACA,oBACA,uBACA,mBACA,kBACA,sBACA,yBACA,4BACA,wBACA,uBACA,uBACA,0BACA,6BACA,yBACA,wBACA,iBACA,oBACA,uBACA,mBACA,kBACA,iBACA,oBACA,uBACA,mBACA,kBACA,cACA,iBACA,oBACA,gBACA,eACA,SACA,YACA,eACA,WACA,UACA,qBACA,wBACA,2BACA,uBACA,sBACA,YACA,eACA,kBACA,cACA,aACA,YACA,eACA,kBACA,cACA,aACA,aACA,gBACA,mBACA,eACA,cACA,cACA,iBACA,oBACA,gBACA,eACA,cACA,iBACA,oBACA,gBACA,eACA,cACA,iBACA,oBACA,gBACA,eACA,aACA,gBACA,mBACA,eACA,cACA,KACA,QACA,WACA,OACA,MACA,QACA,WACA,cACA,UACA,SACA,OACA,UACA,aACA,SACA,QACA,WACA,cACA,iBACA,aACA,YACA,KACA,QACA,WACA,OACA,MACA,QACA,WACA,cACA,UACA,SACA,cACA,iBACA,oBACA,gBACA,eACA,aACA,gBACA,mBACA,eACA,cACA,YACA,eACA,kBACA,cACA,aACA,aACA,gBACA,mBACA,eACA,cACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,aACA,gBACA,mBACA,eACA,cACA,cACA,iBACA,oBACA,gBACA,eACA,UACA,aACA,gBACA,YACA,WACA,UACA,aACA,gBACA,YACA,WACA,mBACA,sBACA,yBACA,qBACA,oBACA,eACA,kBACA,qBACA,iBACA,gBACA,SACA,YACA,eACA,WACA,UACA,MACA,SACA,YACA,QACA,OACA,YACA,eACA,kBACA,cACA,aACA,UACA,aACA,gBACA,YACA,WACA,OACA,UACA,aACA,SACA,QACA,MACA,SACA,YACA,QACA,OACA,OACA,UACA,aACA,SACA,QACA,KACA,QACA,WACA,OACA,MACA,aACA,gBACA,mBACA,eACA,cACA,KACA,QACA,WACA,OACA,MACA,SACA,YACA,eACA,WACA,UACA,YACA,eACA,kBACA,cACA,aACA,gBACA,mBACA,sBACA,kBACA,iBACA,WACA,cACA,iBACA,aACA,YACA,WACA,cACA,iBACA,aACA,YACA,aACA,gBACA,mBACA,eACA,cACA,WACA,cACA,iBACA,aACA,YACA,QACA,WACA,cACA,UACA,SACA,OACA,UACA,aACA,SACA,QACA,aACA,gBACA,mBACA,eACA,cACA,sBACA,yBACA,4BACA,wBACA,uBACA,cACA,iBACA,oBACA,gBACA,eACA,uBACA,0BACA,6BACA,yBACA,wBACA,WACA,cACA,iBACA,aACA,YACA,iBACA,oBACA,uBACA,mBACA,kBACA,cACA,iBACA,oBACA,gBACA,eACA,YACA,eACA,kBACA,cACA,aACA,gBACA,mBACA,sBACA,kBACA,iBACA,cACA,iBACA,oBACA,gBACA,eACA,wBACA,2BACA,8BACA,0BACA,yBACA,kBACA,qBACA,wBACA,oBACA,mBACA,uBACA,0BACA,6BACA,yBACA,wBACA,uBACA,0BACA,6BACA,yBACA,wBACA,qBACA,wBACA,2BACA,uBACA,sBACA,sBACA,yBACA,4BACA,wBACA,uBACA,aACA,gBACA,mBACA,eACA,cACA,KACA,QACA,WACA,OACA,MACA,OACA,UACA,aACA,SACA,QACA,OACA,UACA,aACA,SACA,QACA,WACA,cACA,iBACA,aACA,YACA,kBACA,qBACA,wBACA,oBACA,mBACA,eACA,kBACA,qBACA,iBACA,gBACA,eACA,kBACA,qBACA,iBACA,gBACA,aACA,gBACA,mBACA,eACA,cACA,gBACA,mBACA,sBACA,kBACA,iBACA,gBACA,mBACA,sBACA,kBACA,iBACA,kBACA,qBACA,wBACA,oBACA,mBACA,UACA,aACA,gBACA,YACA,WACA,UACA,aACA,gBACA,YACA,WACA,aACA,gBACA,mBACA,eACA,cACA,aACA,gBACA,mBACA,eACA,cACA,eACA,kBACA,qBACA,iBACA,gBACA,eACA,kBACA,qBACA,iBACA,gBACA,oBACA,uBACA,0BACA,sBACA,qBACA,sBACA,yBACA,4BACA,wBACA,uBACA,mBACA,sBACA,yBACA,qBACA,oBACA,SACA,YACA,eACA,WACA,UACA,UACA,aACA,gBACA,YACA,WACA,KACA,QACA,WACA,OACA,MACA,mBACA,sBACA,yBACA,qBACA,oBACA,iBACA,oBACA,uBACA,mBACA,kBACA,kBACA,qBACA,wBACA,oBACA,mBACA,UACA,aACA,gBACA,YACA,WACA,KACA,QACA,WACA,OACA,MACA,UACA,aACA,gBACA,YACA,WACA,UACA,aACA,gBACA,YACA,WACA,aACA,gBACA,mBACA,eACA,cACA,YACA,eACA,kBACA,cACA,aACA,iBACA,oBACA,uBACA,mBACA,kBACA,MACA,SACA,YACA,QACA,OACA,OACA,UACA,aACA,SACA,QACA,gBACA,mBACA,sBACA,kBACA,iBACA,YACA,eACA,kBACA,cACA,aACA,aACA,gBACA,mBACA,eACA,cACA,YACA,eACA,kBACA,cACA,aACA,iBACA,oBACA,uBACA,mBACA,kBACA,oBACA,uBACA,0BACA,sBACA,qBACA,gBACA,mBACA,sBACA,kBACA,iBACA,SACA,YACA,eACA,WACA,UACA,iBACA,oBACA,uBACA,mBACA,kBACA,mBACA,sBACA,yBACA,qBACA,oBACA,eACA,kBACA,qBACA,iBACA,gBACA,kBACA,qBACA,wBACA,oBACA,mBACA,oBACA,uBACA,0BACA,sBACA,qBACA,aACA,gBACA,mBACA,eACA,cACA,cACA,iBACA,oBACA,gBACA,eACA,YACA,eACA,kBACA,cACA,aACA,OACA,UACA,aACA,SACA,QACA,WACA,cACA,iBACA,aACA,YACA,gBACA,mBACA,sBACA,kBACA,iBACA,YACA,eACA,kBACA,cACA,aACA,WACA,cACA,iBACA,aACA,YACA,aACA,gBACA,mBACA,eACA,cACA,eACA,kBACA,qBACA,iBACA,gBACA,aACA,gBACA,mBACA,eACA,cACA,WACA,cACA,iBACA,aACA,YACA,WACA,cACA,iBACA,aACA,YACA,YACA,eACA,kBACA,cACA,aACA,WACA,cACA,iBACA,aACA,YACA,eACA,kBACA,qBACA,iBACA,gBACA,YACA,eACA,kBACA,cACA,aACA,gBACA,mBACA,sBACA,kBACA,iBACA,WACA,cACA,iBACA,aACA,YACA,eACA,kBACA,qBACA,iBACA,gBACA,KACA,QACA,WACA,OACA,MACA,KACA,QACA,WACA,OACA,MACA,YACA,eACA,kBACA,cACA,aACA,iBACA,oBACA,uBACA,mBACA,kBACA,iBACA,oBACA,uBACA,mBACA,kBACA,mBACA,sBACA,yBACA,qBACA,oBACA,kBACA,qBACA,wBACA,oBACA,mBACA,oBACA,uBACA,0BACA,sBACA,qBACA,UACA,aACA,gBACA,YACA,WACA,QACA,WACA,cACA,UACA,SACA,UACA,aACA,gBACA,YACA,WACA,UACA,aACA,gBACA,YACA,WACA,eACA,kBACA,qBACA,iBACA,gBACA,gBACA,mBACA,sBACA,kBACA,iBACA,eACA,kBACA,qBACA,iBACA,gBACA,eACA,kBACA,qBACA,iBACA,gBACA,WACA,cACA,iBACA,aACA,YACA,eACA,kBACA,qBACA,iBACA,gBACA,YACA,eACA,kBACA,cACA,aACA,YACA,eACA,kBACA,cACA,aACA,UACA,aACA,gBACA,YACA,WACA,kBACA,qBACA,wBACA,oBACA,mBACA,oBACA,uBACA,0BACA,sBACA,qBACA,gBACA,mBACA,sBACA,kBACA,iBACA,mBACA,sBACA,yBACA,qBACA,oBACA,qBACA,wBACA,2BACA,uBACA,sBACA,cACA,iBACA,oBACA,gBACA,eACA,eACA,kBACA,qBACA,iBACA,gBACA,aACA,gBACA,mBACA,eACA,cACA,iBACA,oBACA,uBACA,mBACA,kBACA,kBACA,qBACA,wBACA,oBACA,mBACA,kBACA,qBACA,wBACA,oBACA,mBACA,KACA,QACA,WACA,OACA,MACA,cACA,iBACA,oBACA,gBACA,eACA,oBACA,uBACA,0BACA,sBACA,qBACA,gBACA,mBACA,sBACA,kBACA,iBACA,WACA,cACA,iBACA,aACA,YACA,KACA,QACA,WACA,OACA,MACA,KACA,QACA,WACA,OACA,MACA,IACA,OACA,UACA,MACA,KACA,SACA,YACA,eACA,WACA,UACA,MACA,SACA,YACA,QACA,OACA,MACA,SACA,YACA,QACA,OACA,SACA,YACA,eACA,WACA,UACA,SACA,YACA,eACA,WACA,UACA,QACA,WACA,cACA,UACA,SACA,YACA,eACA,kBACA,cACA,aACA,YACA,eACA,kBACA,cACA,aACA,eACA,kBACA,qBACA,iBACA,gBACA,IACA,OACA,UACA,MACA,KACA,iBACA,oBACA,uBACA,mBACA,kBACA,uBACA,0BACA,6BACA,yBACA,wBACA,wBACA,2BACA,8BACA,0BACA,yBACA,iBACA,oBACA,uBACA,mBACA,kBACA,sBACA,yBACA,4BACA,wBACA,uBACA,cACA,iBACA,oBACA,gBACA,eACA,eACA,kBACA,qBACA,iBACA,gBACA,UACA,aACA,gBACA,YACA,WACA,cACA,iBACA,oBACA,gBACA,eACA,YACA,eACA,kBACA,cACA,aACA,gBACA,mBACA,sBACA,kBACA,iBACA,qBACA,wBACA,2BACA,uBACA,sBACA,iBACA,oBACA,uBACA,mBACA,kBACA,sBACA,yBACA,4BACA,wBACA,uBACA,qBACA,wBACA,2BACA,uBACA,sBACA,sBACA,yBACA,4BACA,wBACA,uBACA,eACA,kBACA,qBACA,iBACA,gBACA,oBACA,uBACA,0BACA,sBACA,qBACA,uBACA,0BACA,6BACA,yBACA,wBACA,oBACA,uBACA,0BACA,sBACA,qBACA,aACA,gBACA,mBACA,eACA,cACA,kBACA,qBACA,wBACA,oBACA,mBACA,eACA,kBACA,qBACA,iBACA,gBACA,gBACA,mBACA,sBACA,kBACA,iBACA,aACA,gBACA,mBACA,eACA,cACA,gBACA,mBACA,sBACA,kBACA,iBACA,wBACA,2BACA,8BACA,0BACA,yBACA,MACA,SACA,YACA,QACA,OACA,cACA,iBACA,oBACA,gBACA,eACA,YACA,eACA,kBACA,cACA,aACA,eACA,kBACA,qBACA,iBACA,gBACA,kBACA,qBACA,wBACA,oBACA,mBACA,iBACA,oBACA,uBACA,mBACA,kBACA,aACA,gBACA,mBACA,eACA,cACA,kBACA,qBACA,wBACA,oBACA,mBACA,qBACA,wBACA,2BACA,uBACA,sBACA,qBACA,wBACA,2BACA,uBACA,sBACA,2BACA,8BACA,iCACA,6BACA,4BACA,OACA,UACA,aACA,SACA,QACA,cACA,iBACA,oBACA,gBACA,eACA,QACA,WACA,cACA,UACA,SACA,gBACA,mBACA,sBACA,kBACA,iBACA,KACA,QACA,WACA,OACA,MACA,aACA,gBACA,mBACA,eACA,cACA,OACA,UACA,aACA,SACA,QACA,OACA,UACA,aACA,SACA,QACA,KACA,QACA,WACA,OACA,MACA,aACA,gBACA,mBACA,eACA,cACA,SACA,YACA,eACA,WACA,UACA,QACA,WACA,cACA,UACA,SACA,aACA,gBACA,mBACA,eACA,cACA,YACA,eACA,kBACA,cACA,aACA,cACA,iBACA,oBACA,gBACA,eACA,WACA,cACA,iBACA,aACA,YACA,cACA,iBACA,oBACA,gBACA,eACA,SACA,YACA,eACA,WACA,UACA,WACA,cACA,iBACA,aACA,YACA,OACA,UACA,aACA,SACA,QACA,KACA,QACA,WACA,OACA,MACA,oBACA,uBACA,0BACA,sBACA,qBACA,aACA,gBACA,mBACA,eACA,c,kBCljDF,IAAI+hB,EAAahiB,EAAQ,OACrB29B,EAAY39B,EAAQ,OAExBkM,EAAOjM,QAAU,SAASxD,EAAOqE,EAAUoF,GACzC,IAAI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","sources":["../node_modules/@ant-design/icons/es/components/Icon.js","../node_modules/@ant-design/icons-svg/es/asn/CheckCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/CheckCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","../node_modules/@ant-design/icons/es/icons/DeleteFilled.js","../node_modules/@ant-design/icons-svg/es/asn/FileSearchOutlined.js","../node_modules/@ant-design/icons/es/icons/FileSearchOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LinkOutlined.js","../node_modules/@ant-design/icons/es/icons/LinkOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/QuestionCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/QuestionCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","../node_modules/@ant-design/icons/es/icons/UploadOutlined.js","../node_modules/@mui/icons-material/AddBox.js","../node_modules/@mui/icons-material/AddOutlined.js","../node_modules/@mui/icons-material/AutoFixHigh.js","../node_modules/@mui/icons-material/FileDownloadOutlined.js","../node_modules/@mui/icons-material/InfoOutlined.js","../node_modules/@mui/icons-material/RemoveCircle.js","../node_modules/@mui/lab/node_modules/@mui/utils/esm/resolveProps/resolveProps.js","../node_modules/@mui/lab/LoadingButton/loadingButtonClasses.js","../node_modules/@mui/lab/LoadingButton/LoadingButton.js","../node_modules/@mui/lab/node_modules/@mui/utils/esm/composeClasses/composeClasses.js","../node_modules/@mui/lab/node_modules/@mui/utils/esm/ClassNameGenerator/ClassNameGenerator.js","../node_modules/@mui/lab/node_modules/@mui/utils/esm/generateUtilityClass/generateUtilityClass.js","../node_modules/@mui/lab/node_modules/@mui/utils/esm/generateUtilityClasses/generateUtilityClasses.js","../node_modules/@mui/material/ButtonGroup/buttonGroupClasses.js","../node_modules/@mui/material/ButtonGroup/ButtonGroup.js","../node_modules/@mui/material/RadioGroup/radioGroupClasses.js","../node_modules/@mui/material/RadioGroup/RadioGroup.js","../node_modules/jsonata/jsonata.js","../node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","../node_modules/react-split-pane/dist/index.esm.js","../node_modules/react-style-proptype/src/css-properties.js","../node_modules/react-style-proptype/src/index.js","../node_modules/@monaco-editor/loader/lib/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/state-local/lib/es/state-local.js","../node_modules/@monaco-editor/loader/lib/es/config/index.js","../node_modules/@monaco-editor/loader/lib/es/utils/isObject.js","../node_modules/@monaco-editor/loader/lib/es/validators/index.js","../node_modules/@monaco-editor/loader/lib/es/utils/curry.js","../node_modules/@monaco-editor/loader/lib/es/utils/compose.js","../node_modules/@monaco-editor/loader/lib/es/utils/deepMerge.js","../node_modules/@monaco-editor/loader/lib/es/utils/makeCancelable.js","../node_modules/@monaco-editor/loader/lib/es/loader/index.js","../node_modules/@monaco-editor/react/src/MonacoContainer/styles.ts","../node_modules/@monaco-editor/react/src/Loading/styles.ts","../node_modules/@monaco-editor/react/src/Loading/Loading.tsx","../node_modules/@monaco-editor/react/src/Loading/index.ts","../node_modules/@monaco-editor/react/src/MonacoContainer/MonacoContainer.tsx","../node_modules/@monaco-editor/react/src/MonacoContainer/index.ts","../node_modules/@monaco-editor/react/src/hooks/useMount/index.ts","../node_modules/@monaco-editor/react/src/hooks/useUpdate/index.ts","../node_modules/@monaco-editor/react/src/utils/index.ts","../node_modules/@monaco-editor/react/src/DiffEditor/DiffEditor.tsx","../node_modules/@monaco-editor/react/src/DiffEditor/index.ts","../node_modules/@monaco-editor/react/src/hooks/usePrevious/index.ts","../node_modules/@monaco-editor/react/src/Editor/Editor.tsx","../node_modules/@monaco-editor/react/src/index.ts","../node_modules/@monaco-editor/react/src/Editor/index.ts"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"component\", \"viewBox\", \"spin\", \"rotate\", \"tabIndex\", \"onClick\", \"children\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Context from './Context';\nimport { svgBaseProps, warning, useInsertStyles } from '../utils';\nvar Icon = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var className = props.className,\n    Component = props.component,\n    viewBox = props.viewBox,\n    spin = props.spin,\n    rotate = props.rotate,\n    tabIndex = props.tabIndex,\n    onClick = props.onClick,\n    children = props.children,\n    restProps = _objectWithoutProperties(props, _excluded);\n  warning(Boolean(Component || children), 'Should have `component` prop or `children`.');\n  useInsertStyles();\n  var _React$useContext = React.useContext(Context),\n    _React$useContext$pre = _React$useContext.prefixCls,\n    prefixCls = _React$useContext$pre === void 0 ? 'anticon' : _React$useContext$pre,\n    rootClassName = _React$useContext.rootClassName;\n  var classString = classNames(rootClassName, prefixCls, className);\n  var svgClassString = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-spin\"), !!spin));\n  var svgStyle = rotate ? {\n    msTransform: \"rotate(\".concat(rotate, \"deg)\"),\n    transform: \"rotate(\".concat(rotate, \"deg)\")\n  } : undefined;\n  var innerSvgProps = _objectSpread(_objectSpread({}, svgBaseProps), {}, {\n    className: svgClassString,\n    style: svgStyle,\n    viewBox: viewBox\n  });\n  if (!viewBox) {\n    delete innerSvgProps.viewBox;\n  }\n  // component > children\n  var renderInnerNode = function renderInnerNode() {\n    if (Component) {\n      return /*#__PURE__*/React.createElement(Component, _objectSpread({}, innerSvgProps), children);\n    }\n    if (children) {\n      warning(Boolean(viewBox) || React.Children.count(children) === 1 && /*#__PURE__*/React.isValidElement(children) && React.Children.only(children).type === 'use', 'Make sure that you provide correct `viewBox`' + ' prop (default `0 0 1024 1024`) to the icon.');\n      return /*#__PURE__*/React.createElement(\"svg\", _objectSpread(_objectSpread({}, innerSvgProps), {}, {\n        viewBox: viewBox\n      }), children);\n    }\n    return null;\n  };\n  var iconTabIndex = tabIndex;\n  if (iconTabIndex === undefined && onClick) {\n    iconTabIndex = -1;\n  }\n  return /*#__PURE__*/React.createElement(\"span\", _objectSpread(_objectSpread({\n    role: \"img\"\n  }, restProps), {}, {\n    ref: ref,\n    tabIndex: iconTabIndex,\n    onClick: onClick,\n    className: classString\n  }), renderInnerNode());\n});\nIcon.displayName = 'AntdIcon';\nexport default Icon;","// This icon file is generated automatically.\nvar CheckCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"check-circle\", \"theme\": \"outlined\" };\nexport default CheckCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CheckCircleOutlined = function CheckCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CheckCircleOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(CheckCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CheckCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(DeleteFilled);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DeleteFilled';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar FileSearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"file-search\", \"theme\": \"outlined\" };\nexport default FileSearchOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport FileSearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/FileSearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar FileSearchOutlined = function FileSearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FileSearchOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(FileSearchOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FileSearchOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar LinkOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\" } }] }, \"name\": \"link\", \"theme\": \"outlined\" };\nexport default LinkOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LinkOutlinedSvg from \"@ant-design/icons-svg/es/asn/LinkOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LinkOutlined = function LinkOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LinkOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(LinkOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'LinkOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar QuestionCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z\" } }] }, \"name\": \"question-circle\", \"theme\": \"outlined\" };\nexport default QuestionCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport QuestionCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/QuestionCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar QuestionCircleOutlined = function QuestionCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: QuestionCircleOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(QuestionCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'QuestionCircleOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar UploadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"upload\", \"theme\": \"outlined\" };\nexport default UploadOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(UploadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'UploadOutlined';\n}\nexport default RefIcon;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z\"\n}), 'AddBox');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'AddOutlined');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z\"\n}), 'AutoFixHigh');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5z\"\n}), 'FileDownloadOutlined');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z\"\n}), 'RemoveCircle');","import _extends from \"@babel/runtime/helpers/esm/extends\";\n/**\n * Add keys, values of `defaultProps` that does not exist in `props`\n * @param {object} defaultProps\n * @param {object} props\n * @returns {object} resolved props\n */\nexport default function resolveProps(defaultProps, props) {\n  const output = _extends({}, props);\n  Object.keys(defaultProps).forEach(propName => {\n    if (propName.toString().match(/^(components|slots)$/)) {\n      output[propName] = _extends({}, defaultProps[propName], output[propName]);\n    } else if (propName.toString().match(/^(componentsProps|slotProps)$/)) {\n      const defaultSlotProps = defaultProps[propName] || {};\n      const slotProps = props[propName];\n      output[propName] = {};\n      if (!slotProps || !Object.keys(slotProps)) {\n        // Reduce the iteration if the slot props is empty\n        output[propName] = defaultSlotProps;\n      } else if (!defaultSlotProps || !Object.keys(defaultSlotProps)) {\n        // Reduce the iteration if the default slot props is empty\n        output[propName] = slotProps;\n      } else {\n        output[propName] = _extends({}, slotProps);\n        Object.keys(defaultSlotProps).forEach(slotPropName => {\n          output[propName][slotPropName] = resolveProps(defaultSlotProps[slotPropName], slotProps[slotPropName]);\n        });\n      }\n    } else if (output[propName] === undefined) {\n      output[propName] = defaultProps[propName];\n    }\n  });\n  return output;\n}","import generateUtilityClass from '@mui/utils/generateUtilityClass';\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nexport function getLoadingButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiLoadingButton', slot);\n}\nconst loadingButtonClasses = generateUtilityClasses('MuiLoadingButton', ['root', 'loading', 'loadingIndicator', 'loadingIndicatorCenter', 'loadingIndicatorStart', 'loadingIndicatorEnd', 'endIconLoadingEnd', 'startIconLoadingStart']);\nexport default loadingButtonClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"disabled\", \"id\", \"loading\", \"loadingIndicator\", \"loadingPosition\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes } from '@mui/utils';\nimport { capitalize, unstable_useId as useId } from '@mui/material/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { styled } from '@mui/material/styles';\nimport { useDefaultProps } from '@mui/material/DefaultPropsProvider';\nimport Button from '@mui/material/Button';\nimport { ButtonGroupContext } from '@mui/material/ButtonGroup';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport resolveProps from '@mui/utils/resolveProps';\nimport loadingButtonClasses, { getLoadingButtonUtilityClass } from './loadingButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    loading,\n    loadingPosition,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', loading && 'loading'],\n    startIcon: [loading && `startIconLoading${capitalize(loadingPosition)}`],\n    endIcon: [loading && `endIconLoading${capitalize(loadingPosition)}`],\n    loadingIndicator: ['loadingIndicator', loading && `loadingIndicator${capitalize(loadingPosition)}`]\n  };\n  const composedClasses = composeClasses(slots, getLoadingButtonUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\n\n// TODO use `import { rootShouldForwardProp } from '../styles/styled';` once move to core\nconst rootShouldForwardProp = prop => prop !== 'ownerState' && prop !== 'theme' && prop !== 'sx' && prop !== 'as' && prop !== 'classes';\nconst LoadingButtonRoot = styled(Button, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiLoadingButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root, styles.startIconLoadingStart && {\n      [`& .${loadingButtonClasses.startIconLoadingStart}`]: styles.startIconLoadingStart\n    }, styles.endIconLoadingEnd && {\n      [`& .${loadingButtonClasses.endIconLoadingEnd}`]: styles.endIconLoadingEnd\n    }];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0\n  }\n}, ownerState.loadingPosition === 'center' && {\n  transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color'], {\n    duration: theme.transitions.duration.short\n  }),\n  [`&.${loadingButtonClasses.loading}`]: {\n    color: 'transparent'\n  }\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginRight: -8\n  }\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginLeft: -8\n  }\n}));\nconst LoadingButtonLoadingIndicator = styled('span', {\n  name: 'MuiLoadingButton',\n  slot: 'LoadingIndicator',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.loadingIndicator, styles[`loadingIndicator${capitalize(ownerState.loadingPosition)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  visibility: 'visible',\n  display: 'flex'\n}, ownerState.loadingPosition === 'start' && (ownerState.variant === 'outlined' || ownerState.variant === 'contained') && {\n  left: ownerState.size === 'small' ? 10 : 14\n}, ownerState.loadingPosition === 'start' && ownerState.variant === 'text' && {\n  left: 6\n}, ownerState.loadingPosition === 'center' && {\n  left: '50%',\n  transform: 'translate(-50%)',\n  color: (theme.vars || theme).palette.action.disabled\n}, ownerState.loadingPosition === 'end' && (ownerState.variant === 'outlined' || ownerState.variant === 'contained') && {\n  right: ownerState.size === 'small' ? 10 : 14\n}, ownerState.loadingPosition === 'end' && ownerState.variant === 'text' && {\n  right: 6\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  position: 'relative',\n  left: -10\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  position: 'relative',\n  right: -10\n}));\nconst LoadingButton = /*#__PURE__*/React.forwardRef(function LoadingButton(inProps, ref) {\n  const contextProps = React.useContext(ButtonGroupContext);\n  const resolvedProps = resolveProps(contextProps, inProps);\n  const props = useDefaultProps({\n    props: resolvedProps,\n    name: 'MuiLoadingButton'\n  });\n  const {\n      children,\n      disabled = false,\n      id: idProp,\n      loading = false,\n      loadingIndicator: loadingIndicatorProp,\n      loadingPosition = 'center',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const id = useId(idProp);\n  const loadingIndicator = loadingIndicatorProp != null ? loadingIndicatorProp : /*#__PURE__*/_jsx(CircularProgress, {\n    \"aria-labelledby\": id,\n    color: \"inherit\",\n    size: 16\n  });\n  const ownerState = _extends({}, props, {\n    disabled,\n    loading,\n    loadingIndicator,\n    loadingPosition,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const loadingButtonLoadingIndicator = loading ? /*#__PURE__*/_jsx(LoadingButtonLoadingIndicator, {\n    className: classes.loadingIndicator,\n    ownerState: ownerState,\n    children: loadingIndicator\n  }) : null;\n  return /*#__PURE__*/_jsxs(LoadingButtonRoot, _extends({\n    disabled: disabled || loading,\n    id: id,\n    ref: ref\n  }, other, {\n    variant: variant,\n    classes: classes,\n    ownerState: ownerState,\n    children: [ownerState.loadingPosition === 'end' ? children : loadingButtonLoadingIndicator, ownerState.loadingPosition === 'end' ? loadingButtonLoadingIndicator : children]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LoadingButton.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * @ignore\n   */\n  id: PropTypes.string,\n  /**\n   * If `true`, the loading indicator is shown and the button becomes disabled.\n   * @default false\n   */\n  loading: PropTypes.bool,\n  /**\n   * Element placed before the children if the button is in loading state.\n   * The node should contain an element with `role=\"progressbar\"` with an accessible name.\n   * By default we render a `CircularProgress` that is labelled by the button itself.\n   * @default <CircularProgress color=\"inherit\" size={16} />\n   */\n  loadingIndicator: PropTypes.node,\n  /**\n   * The loading indicator can be positioned on the start, end, or the center of the button.\n   * @default 'center'\n   */\n  loadingPosition: chainPropTypes(PropTypes.oneOf(['start', 'end', 'center']), props => {\n    if (props.loadingPosition === 'start' && !props.startIcon) {\n      return new Error(`MUI: The loadingPosition=\"start\" should be used in combination with startIcon.`);\n    }\n    if (props.loadingPosition === 'end' && !props.endIcon) {\n      return new Error(`MUI: The loadingPosition=\"end\" should be used in combination with endIcon.`);\n    }\n    return null;\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default LoadingButton;","export default function composeClasses(slots, getUtilityClass, classes = undefined) {\n  const output = {};\n  Object.keys(slots).forEach(\n  // `Object.keys(slots)` can't be wider than `T` because we infer `T` from `slots`.\n  // @ts-expect-error https://github.com/microsoft/TypeScript/pull/12253#issuecomment-263132208\n  slot => {\n    output[slot] = slots[slot].reduce((acc, key) => {\n      if (key) {\n        const utilityClass = getUtilityClass(key);\n        if (utilityClass !== '') {\n          acc.push(utilityClass);\n        }\n        if (classes && classes[key]) {\n          acc.push(classes[key]);\n        }\n      }\n      return acc;\n    }, []).join(' ');\n  });\n  return output;\n}","const defaultGenerator = componentName => componentName;\nconst createClassNameGenerator = () => {\n  let generate = defaultGenerator;\n  return {\n    configure(generator) {\n      generate = generator;\n    },\n    generate(componentName) {\n      return generate(componentName);\n    },\n    reset() {\n      generate = defaultGenerator;\n    }\n  };\n};\nconst ClassNameGenerator = createClassNameGenerator();\nexport default ClassNameGenerator;","import ClassNameGenerator from '../ClassNameGenerator';\nexport const globalStateClasses = {\n  active: 'active',\n  checked: 'checked',\n  completed: 'completed',\n  disabled: 'disabled',\n  error: 'error',\n  expanded: 'expanded',\n  focused: 'focused',\n  focusVisible: 'focusVisible',\n  open: 'open',\n  readOnly: 'readOnly',\n  required: 'required',\n  selected: 'selected'\n};\nexport default function generateUtilityClass(componentName, slot, globalStatePrefix = 'Mui') {\n  const globalStateClass = globalStateClasses[slot];\n  return globalStateClass ? `${globalStatePrefix}-${globalStateClass}` : `${ClassNameGenerator.generate(componentName)}-${slot}`;\n}\nexport function isGlobalState(slot) {\n  return globalStateClasses[slot] !== undefined;\n}","import generateUtilityClass from '../generateUtilityClass';\nexport default function generateUtilityClasses(componentName, slots, globalStatePrefix = 'Mui') {\n  const result = {};\n  slots.forEach(slot => {\n    result[slot] = generateUtilityClass(componentName, slot, globalStatePrefix);\n  });\n  return result;\n}","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getButtonGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiButtonGroup', slot);\n}\nconst buttonGroupClasses = generateUtilityClasses('MuiButtonGroup', ['root', 'contained', 'outlined', 'text', 'disableElevation', 'disabled', 'firstButton', 'fullWidth', 'vertical', 'grouped', 'groupedHorizontal', 'groupedVertical', 'groupedText', 'groupedTextHorizontal', 'groupedTextVertical', 'groupedTextPrimary', 'groupedTextSecondary', 'groupedOutlined', 'groupedOutlinedHorizontal', 'groupedOutlinedVertical', 'groupedOutlinedPrimary', 'groupedOutlinedSecondary', 'groupedContained', 'groupedContainedHorizontal', 'groupedContainedVertical', 'groupedContainedPrimary', 'groupedContainedSecondary', 'lastButton', 'middleButton']);\nexport default buttonGroupClasses;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"disableRipple\", \"fullWidth\", \"orientation\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport { alpha } from '@mui/system/colorManipulator';\nimport getValidReactChildren from '@mui/utils/getValidReactChildren';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport buttonGroupClasses, { getButtonGroupUtilityClass } from './buttonGroupClasses';\nimport ButtonGroupContext from './ButtonGroupContext';\nimport ButtonGroupButtonContext from './ButtonGroupButtonContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [{\n    [`& .${buttonGroupClasses.grouped}`]: styles.grouped\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.orientation)}`]\n  }, {\n    [`& .${buttonGroupClasses.grouped}`]: styles[`grouped${capitalize(ownerState.variant)}${capitalize(ownerState.color)}`]\n  }, {\n    [`& .${buttonGroupClasses.firstButton}`]: styles.firstButton\n  }, {\n    [`& .${buttonGroupClasses.lastButton}`]: styles.lastButton\n  }, {\n    [`& .${buttonGroupClasses.middleButton}`]: styles.middleButton\n  }, styles.root, styles[ownerState.variant], ownerState.disableElevation === true && styles.disableElevation, ownerState.fullWidth && styles.fullWidth, ownerState.orientation === 'vertical' && styles.vertical];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disabled,\n    disableElevation,\n    fullWidth,\n    orientation,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, orientation === 'vertical' && 'vertical', fullWidth && 'fullWidth', disableElevation && 'disableElevation'],\n    grouped: ['grouped', `grouped${capitalize(orientation)}`, `grouped${capitalize(variant)}`, `grouped${capitalize(variant)}${capitalize(orientation)}`, `grouped${capitalize(variant)}${capitalize(color)}`, disabled && 'disabled'],\n    firstButton: ['firstButton'],\n    lastButton: ['lastButton'],\n    middleButton: ['middleButton']\n  };\n  return composeClasses(slots, getButtonGroupUtilityClass, classes);\n};\nconst ButtonGroupRoot = styled('div', {\n  name: 'MuiButtonGroup',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  display: 'inline-flex',\n  borderRadius: (theme.vars || theme).shape.borderRadius\n}, ownerState.variant === 'contained' && {\n  boxShadow: (theme.vars || theme).shadows[2]\n}, ownerState.disableElevation && {\n  boxShadow: 'none'\n}, ownerState.fullWidth && {\n  width: '100%'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, {\n  [`& .${buttonGroupClasses.grouped}`]: _extends({\n    minWidth: 40,\n    '&:hover': _extends({}, ownerState.variant === 'contained' && {\n      boxShadow: 'none'\n    })\n  }, ownerState.variant === 'contained' && {\n    boxShadow: 'none'\n  }),\n  [`& .${buttonGroupClasses.firstButton},& .${buttonGroupClasses.middleButton}`]: _extends({}, ownerState.orientation === 'horizontal' && {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0\n  }, ownerState.orientation === 'vertical' && {\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0\n  }, ownerState.variant === 'text' && ownerState.orientation === 'horizontal' && {\n    borderRight: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'text' && ownerState.orientation === 'vertical' && {\n    borderBottom: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'text' && ownerState.color !== 'inherit' && {\n    borderColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)` : alpha(theme.palette[ownerState.color].main, 0.5)\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n    borderRightColor: 'transparent'\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n    borderBottomColor: 'transparent'\n  }, ownerState.variant === 'contained' && ownerState.orientation === 'horizontal' && {\n    borderRight: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderRight: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'contained' && ownerState.orientation === 'vertical' && {\n    borderBottom: `1px solid ${(theme.vars || theme).palette.grey[400]}`,\n    [`&.${buttonGroupClasses.disabled}`]: {\n      borderBottom: `1px solid ${(theme.vars || theme).palette.action.disabled}`\n    }\n  }, ownerState.variant === 'contained' && ownerState.color !== 'inherit' && {\n    borderColor: (theme.vars || theme).palette[ownerState.color].dark\n  }, {\n    '&:hover': _extends({}, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n      borderRightColor: 'currentColor'\n    }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n      borderBottomColor: 'currentColor'\n    })\n  }),\n  [`& .${buttonGroupClasses.lastButton},& .${buttonGroupClasses.middleButton}`]: _extends({}, ownerState.orientation === 'horizontal' && {\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0\n  }, ownerState.orientation === 'vertical' && {\n    borderTopRightRadius: 0,\n    borderTopLeftRadius: 0\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'horizontal' && {\n    marginLeft: -1\n  }, ownerState.variant === 'outlined' && ownerState.orientation === 'vertical' && {\n    marginTop: -1\n  })\n}));\nconst ButtonGroup = /*#__PURE__*/React.forwardRef(function ButtonGroup(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiButtonGroup'\n  });\n  const {\n      children,\n      className,\n      color = 'primary',\n      component = 'div',\n      disabled = false,\n      disableElevation = false,\n      disableFocusRipple = false,\n      disableRipple = false,\n      fullWidth = false,\n      orientation = 'horizontal',\n      size = 'medium',\n      variant = 'outlined'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    orientation,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const context = React.useMemo(() => ({\n    className: classes.grouped,\n    color,\n    disabled,\n    disableElevation,\n    disableFocusRipple,\n    disableRipple,\n    fullWidth,\n    size,\n    variant\n  }), [color, disabled, disableElevation, disableFocusRipple, disableRipple, fullWidth, size, variant, classes.grouped]);\n  const validChildren = getValidReactChildren(children);\n  const childrenCount = validChildren.length;\n  const getButtonPositionClassName = index => {\n    const isFirstButton = index === 0;\n    const isLastButton = index === childrenCount - 1;\n    if (isFirstButton && isLastButton) {\n      return '';\n    }\n    if (isFirstButton) {\n      return classes.firstButton;\n    }\n    if (isLastButton) {\n      return classes.lastButton;\n    }\n    return classes.middleButton;\n  };\n  return /*#__PURE__*/_jsx(ButtonGroupRoot, _extends({\n    as: component,\n    role: \"group\",\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(ButtonGroupContext.Provider, {\n      value: context,\n      children: validChildren.map((child, index) => {\n        return /*#__PURE__*/_jsx(ButtonGroupButtonContext.Provider, {\n          value: getButtonPositionClassName(index),\n          children: child\n        }, index);\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonGroup.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, no elevation is used.\n   * @default false\n   */\n  disableElevation: PropTypes.bool,\n  /**\n   * If `true`, the button keyboard focus ripple is disabled.\n   * @default false\n   */\n  disableFocusRipple: PropTypes.bool,\n  /**\n   * If `true`, the button ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If `true`, the buttons will take up the full width of its container.\n   * @default false\n   */\n  fullWidth: PropTypes.bool,\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense button styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'outlined'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['contained', 'outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default ButtonGroup;","import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getRadioGroupUtilityClass(slot) {\n  return generateUtilityClass('MuiRadioGroup', slot);\n}\nconst radioGroupClasses = generateUtilityClasses('MuiRadioGroup', ['root', 'row', 'error']);\nexport default radioGroupClasses;","'use client';\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"actions\", \"children\", \"className\", \"defaultValue\", \"name\", \"onChange\", \"value\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport composeClasses from '@mui/utils/composeClasses';\nimport FormGroup from '../FormGroup';\nimport { getRadioGroupUtilityClass } from './radioGroupClasses';\nimport useForkRef from '../utils/useForkRef';\nimport useControlled from '../utils/useControlled';\nimport RadioGroupContext from './RadioGroupContext';\nimport useId from '../utils/useId';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = props => {\n  const {\n    classes,\n    row,\n    error\n  } = props;\n  const slots = {\n    root: ['root', row && 'row', error && 'error']\n  };\n  return composeClasses(slots, getRadioGroupUtilityClass, classes);\n};\nconst RadioGroup = /*#__PURE__*/React.forwardRef(function RadioGroup(props, ref) {\n  const {\n      // private\n      // eslint-disable-next-line react/prop-types\n      actions,\n      children,\n      className,\n      defaultValue,\n      name: nameProp,\n      onChange,\n      value: valueProp\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const rootRef = React.useRef(null);\n  const classes = useUtilityClasses(props);\n  const [value, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'RadioGroup'\n  });\n  React.useImperativeHandle(actions, () => ({\n    focus: () => {\n      let input = rootRef.current.querySelector('input:not(:disabled):checked');\n      if (!input) {\n        input = rootRef.current.querySelector('input:not(:disabled)');\n      }\n      if (input) {\n        input.focus();\n      }\n    }\n  }), []);\n  const handleRef = useForkRef(ref, rootRef);\n  const name = useId(nameProp);\n  const contextValue = React.useMemo(() => ({\n    name,\n    onChange(event) {\n      setValueState(event.target.value);\n      if (onChange) {\n        onChange(event, event.target.value);\n      }\n    },\n    value\n  }), [name, onChange, setValueState, value]);\n  return /*#__PURE__*/_jsx(RadioGroupContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(FormGroup, _extends({\n      role: \"radiogroup\",\n      ref: handleRef,\n      className: clsx(classes.root, className)\n    }, other, {\n      children: children\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? RadioGroup.propTypes /* remove-proptypes */ = {\n  //  Warning \n  //  These PropTypes are generated from the TypeScript type definitions. \n  //     To update them, edit the d.ts file and run `pnpm proptypes`.     \n  // \n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The default value. Use when the component is not controlled.\n   */\n  defaultValue: PropTypes.any,\n  /**\n   * The name used to reference the value of the control.\n   * If you don't provide this prop, it falls back to a randomly generated name.\n   */\n  name: PropTypes.string,\n  /**\n   * Callback fired when a radio button is selected.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * @param {string} value The value of the selected radio button.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   */\n  onChange: PropTypes.func,\n  /**\n   * Value of the selected radio button. The DOM API casts this to a string.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default RadioGroup;","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jsonata = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/**\n *  Copyright IBM Corp. 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nconst utils = require('./utils');\n\n/**\n * DateTime formatting and parsing functions\n * Implements the xpath-functions format-date-time specification\n * @type {{formatInteger, formatDateTime, parseInteger, parseDateTime}}\n */\nconst dateTime = (function () {\n    'use strict';\n\n    const stringToArray = utils.stringToArray;\n\n    const few = ['Zero', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten',\n        'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n    const ordinals = ['Zeroth', 'First', 'Second', 'Third', 'Fourth', 'Fifth', 'Sixth', 'Seventh', 'Eighth', 'Ninth', 'Tenth',\n        'Eleventh', 'Twelfth', 'Thirteenth', 'Fourteenth', 'Fifteenth', 'Sixteenth', 'Seventeenth', 'Eighteenth', 'Nineteenth'];\n    const decades = ['Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety', 'Hundred'];\n    const magnitudes = ['Thousand', 'Million', 'Billion', 'Trillion'];\n\n    /**\n     * converts a number into english words\n     * @param {string} value - the value to format\n     * @param {boolean} ordinal - ordinal or cardinal form\n     * @returns {string} - representation in words\n     */\n    function numberToWords(value, ordinal) {\n        var lookup = function (num, prev, ord) {\n            var words = '';\n            if (num <= 19) {\n                words = (prev ? ' and ' : '') + (ord ? ordinals[num] : few[num]);\n            } else if (num < 100) {\n                const tens = Math.floor(num / 10);\n                const remainder = num % 10;\n                words = (prev ? ' and ' : '') + decades[tens - 2];\n                if (remainder > 0) {\n                    words += '-' + lookup(remainder, false, ord);\n                } else if (ord) {\n                    words = words.substring(0, words.length - 1) + 'ieth';\n                }\n            } else if (num < 1000) {\n                const hundreds = Math.floor(num / 100);\n                const remainder = num % 100;\n                words = (prev ? ', ' : '') + few[hundreds] + ' Hundred';\n                if (remainder > 0) {\n                    words += lookup(remainder, true, ord);\n                } else if (ord) {\n                    words += 'th';\n                }\n            } else {\n                var mag = Math.floor(Math.log10(num) / 3);\n                if (mag > magnitudes.length) {\n                    mag = magnitudes.length; // the largest word\n                }\n                const factor = Math.pow(10, mag * 3);\n                const mant = Math.floor(num / factor);\n                const remainder = num - mant * factor;\n                words = (prev ? ', ' : '') + lookup(mant, false, false) + ' ' + magnitudes[mag - 1];\n                if (remainder > 0) {\n                    words += lookup(remainder, true, ord);\n                } else if (ord) {\n                    words += 'th';\n                }\n            }\n            return words;\n        };\n\n        var words = lookup(value, false, ordinal);\n        return words;\n    }\n\n    const wordValues = {};\n    few.forEach(function (word, index) {\n        wordValues[word.toLowerCase()] = index;\n    });\n    ordinals.forEach(function (word, index) {\n        wordValues[word.toLowerCase()] = index;\n    });\n    decades.forEach(function (word, index) {\n        const lword = word.toLowerCase();\n        wordValues[lword] = (index + 2) * 10;\n        wordValues[lword.substring(0, word.length - 1) + 'ieth'] = wordValues[lword];\n    });\n    wordValues.hundredth = 100;\n    magnitudes.forEach(function (word, index) {\n        const lword = word.toLowerCase();\n        const val = Math.pow(10, (index + 1) * 3);\n        wordValues[lword] = val;\n        wordValues[lword + 'th'] = val;\n    });\n\n    /**\n     * Converts a number in english words to numeric value\n     * @param {string} text - the number in words\n     * @returns {number} - the numeric value\n     */\n    function wordsToNumber(text) {\n        const parts = text.split(/,\\s|\\sand\\s|[\\s\\\\-]/);\n        const values = parts.map(part => wordValues[part]);\n        let segs = [0];\n        values.forEach(value => {\n            if (value < 100) {\n                let top = segs.pop();\n                if (top >= 1000) {\n                    segs.push(top);\n                    top = 0;\n                }\n                segs.push(top + value);\n            } else {\n                segs.push(segs.pop() * value);\n            }\n        });\n        const result = segs.reduce((a, b) => a + b, 0);\n        return result;\n    }\n\n    const romanNumerals = [\n        [1000, 'm'],\n        [900, 'cm'],\n        [500, 'd'],\n        [400, 'cd'],\n        [100, 'c'],\n        [90, 'xc'],\n        [50, 'l'],\n        [40, 'xl'],\n        [10, 'x'],\n        [9, 'ix'],\n        [5, 'v'],\n        [4, 'iv'],\n        [1, 'i']\n    ];\n\n    const romanValues = {'M': 1000, 'D': 500, 'C': 100, 'L': 50, 'X': 10, 'V': 5, 'I': 1};\n\n    /**\n     * converts a number to roman numerals\n     * @param {number} value - the number\n     * @returns {string} - the number in roman numerals\n     */\n    function decimalToRoman(value) {\n        for (var index = 0; index < romanNumerals.length; index++) {\n            const numeral = romanNumerals[index];\n            if (value >= numeral[0]) {\n                return numeral[1] + decimalToRoman(value - numeral[0]);\n            }\n        }\n        return '';\n    }\n\n    /**\n     * converts roman numerals to a number\n     * @param {string} roman - roman number\n     * @returns {number} - the numeric value\n     */\n    function romanToDecimal(roman) {\n        var decimal = 0;\n        var max = 1;\n        for (var i = roman.length - 1; i >= 0; i--) {\n            const digit = roman[i];\n            const value = romanValues[digit];\n            if (value < max) {\n                decimal -= value;\n            } else {\n                max = value;\n                decimal += value;\n            }\n        }\n        return decimal;\n    }\n\n    /**\n     * converts a number to spreadsheet style letters\n     * @param {number} value - the number\n     * @param {string} aChar - the character representing the start of the sequence, e.g. 'A'\n     * @returns {string} - the letters\n     */\n    function decimalToLetters(value, aChar) {\n        var letters = [];\n        var aCode = aChar.charCodeAt(0);\n        while (value > 0) {\n            letters.unshift(String.fromCharCode((value - 1) % 26 + aCode));\n            value = Math.floor((value - 1) / 26);\n        }\n        return letters.join('');\n    }\n\n    /**\n     * converts spreadsheet style letters to a number\n     * @param {string} letters - the letters\n     * @param {string} aChar - the character representing the start of the sequence, e.g. 'A'\n     * @returns {number} - the numeric value\n     */\n    function lettersToDecimal(letters, aChar) {\n        var aCode = aChar.charCodeAt(0);\n        var decimal = 0;\n        for (var i = 0; i < letters.length; i++) {\n            decimal += (letters.charCodeAt(letters.length - i - 1) - aCode + 1) * Math.pow(26, i);\n        }\n        return decimal;\n    }\n\n    /**\n     * Formats an integer as specified by the XPath fn:format-integer function\n     * See https://www.w3.org/TR/xpath-functions-31/#func-format-integer\n     * @param {number} value - the number to be formatted\n     * @param {string} picture - the picture string that specifies the format\n     * @returns {string} - the formatted number\n     */\n    function formatInteger(value, picture) {\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        value = Math.floor(value);\n\n        const format = analyseIntegerPicture(picture);\n        return _formatInteger(value, format);\n    }\n\n    const formats = {\n        DECIMAL: 'decimal',\n        LETTERS: 'letters',\n        ROMAN: 'roman',\n        WORDS: 'words',\n        SEQUENCE: 'sequence'\n    };\n\n    const tcase = {\n        UPPER: 'upper',\n        LOWER: 'lower',\n        TITLE: 'title'\n    };\n\n    /**\n     * formats an integer using a preprocessed representation of the picture string\n     * @param {number} value - the number to be formatted\n     * @param {object} format - the preprocessed representation of the pucture string\n     * @returns {string} - the formatted number\n     * @private\n     */\n    function _formatInteger(value, format) {\n        let formattedInteger;\n        const negative = value < 0;\n        value = Math.abs(value);\n        switch (format.primary) {\n            case formats.LETTERS:\n                formattedInteger = decimalToLetters(value, format.case === tcase.UPPER ? 'A' : 'a');\n                break;\n            case formats.ROMAN:\n                formattedInteger = decimalToRoman(value);\n                if (format.case === tcase.UPPER) {\n                    formattedInteger = formattedInteger.toUpperCase();\n                }\n                break;\n            case formats.WORDS:\n                formattedInteger = numberToWords(value, format.ordinal);\n                if (format.case === tcase.UPPER) {\n                    formattedInteger = formattedInteger.toUpperCase();\n                } else if (format.case === tcase.LOWER) {\n                    formattedInteger = formattedInteger.toLowerCase();\n                }\n                break;\n            case formats.DECIMAL:\n                formattedInteger = '' + value;\n                // TODO use functionPad\n                var padLength = format.mandatoryDigits - formattedInteger.length;\n                if (padLength > 0) {\n                    var padding = (new Array(padLength + 1)).join('0');\n                    formattedInteger = padding + formattedInteger;\n                }\n                if (format.zeroCode !== 0x30) {\n                    formattedInteger = stringToArray(formattedInteger).map(code => {\n                        return String.fromCodePoint(code.codePointAt(0) + format.zeroCode - 0x30);\n                    }).join('');\n                }\n                // insert the grouping-separator-signs, if any\n                if (format.regular) {\n                    const n = Math.floor((formattedInteger.length - 1) / format.groupingSeparators.position);\n                    for (let ii = n; ii > 0; ii--) {\n                        const pos = formattedInteger.length - ii * format.groupingSeparators.position;\n                        formattedInteger = formattedInteger.substr(0, pos) + format.groupingSeparators.character + formattedInteger.substr(pos);\n                    }\n                } else {\n                    format.groupingSeparators.reverse().forEach(separator => {\n                        const pos = formattedInteger.length - separator.position;\n                        formattedInteger = formattedInteger.substr(0, pos) + separator.character + formattedInteger.substr(pos);\n                    });\n                }\n\n                if (format.ordinal) {\n                    var suffix123 = {'1': 'st', '2': 'nd', '3': 'rd'};\n                    var lastDigit = formattedInteger[formattedInteger.length - 1];\n                    var suffix = suffix123[lastDigit];\n                    if (!suffix || (formattedInteger.length > 1 && formattedInteger[formattedInteger.length - 2] === '1')) {\n                        suffix = 'th';\n                    }\n                    formattedInteger = formattedInteger + suffix;\n                }\n                break;\n            case formats.SEQUENCE:\n                throw {\n                    code: 'D3130',\n                    value: format.token\n                };\n        }\n        if (negative) {\n            formattedInteger = '-' + formattedInteger;\n        }\n\n        return formattedInteger;\n    }\n\n    //TODO what about decimal groups in the unicode supplementary planes (surrogate pairs) ???\n    const decimalGroups = [0x30, 0x0660, 0x06F0, 0x07C0, 0x0966, 0x09E6, 0x0A66, 0x0AE6, 0x0B66, 0x0BE6, 0x0C66, 0x0CE6, 0x0D66, 0x0DE6, 0x0E50, 0x0ED0, 0x0F20, 0x1040, 0x1090, 0x17E0, 0x1810, 0x1946, 0x19D0, 0x1A80, 0x1A90, 0x1B50, 0x1BB0, 0x1C40, 0x1C50, 0xA620, 0xA8D0, 0xA900, 0xA9D0, 0xA9F0, 0xAA50, 0xABF0, 0xFF10];\n\n    /**\n     * preprocesses the picture string\n     * @param {string} picture - picture string\n     * @returns {{type: string, primary: string, case: string, ordinal: boolean}} - analysed picture\n     */\n    function analyseIntegerPicture(picture) {\n        const format = {\n            type: 'integer',\n            primary: formats.DECIMAL,\n            case: tcase.LOWER,\n            ordinal: false\n        };\n\n        let primaryFormat, formatModifier;\n        const semicolon = picture.lastIndexOf(';');\n        if (semicolon === -1) {\n            primaryFormat = picture;\n        } else {\n            primaryFormat = picture.substring(0, semicolon);\n            formatModifier = picture.substring(semicolon + 1);\n            if (formatModifier[0] === 'o') {\n                format.ordinal = true;\n            }\n        }\n\n        /* eslnt-disable-next no-fallthrough */\n        switch (primaryFormat) {\n            case 'A':\n                format.case = tcase.UPPER;\n            /* eslnt-disable-next-line no-fallthrough */\n            case 'a':\n                format.primary = formats.LETTERS;\n                break;\n            case 'I':\n                format.case = tcase.UPPER;\n            /* eslnt-disable-next-line no-fallthrough */\n            case 'i':\n                format.primary = formats.ROMAN;\n                break;\n            case 'W':\n                format.case = tcase.UPPER;\n                format.primary = formats.WORDS;\n                break;\n            case 'Ww':\n                format.case = tcase.TITLE;\n                format.primary = formats.WORDS;\n                break;\n            case 'w':\n                format.primary = formats.WORDS;\n                break;\n            default: {\n                // this is a decimal-digit-pattern if it contains a decimal digit (from any unicode decimal digit group)\n                let zeroCode = null;\n                let mandatoryDigits = 0;\n                let optionalDigits = 0;\n                let groupingSeparators = [];\n                let separatorPosition = 0;\n                const formatCodepoints = stringToArray(primaryFormat).map(c => c.codePointAt(0)).reverse(); // reverse the array to determine positions of grouping-separator-signs\n                formatCodepoints.forEach((codePoint) => {\n                    // step though each char in the picture to determine the digit group\n                    let digit = false;\n                    for (let ii = 0; ii < decimalGroups.length; ii++) {\n                        const group = decimalGroups[ii];\n                        if (codePoint >= group && codePoint <= group + 9) {\n                            // codepoint is part of this decimal group\n                            digit = true;\n                            mandatoryDigits++;\n                            separatorPosition++;\n                            if (zeroCode === null) {\n                                zeroCode = group;\n                            } else if (group !== zeroCode) {\n                                // error! different decimal groups in the same pattern\n                                throw {\n                                    code: 'D3131'\n                                };\n                            }\n                            break;\n                        }\n                    }\n                    if (!digit) {\n                        if (codePoint === 0x23) { // # - optional-digit-sign\n                            separatorPosition++;\n                            optionalDigits++;\n                        } else {\n                            // neither a decimal-digit-sign ot optional-digit-sign, assume it is a grouping-separator-sign\n                            groupingSeparators.push({\n                                position: separatorPosition,\n                                character: String.fromCodePoint(codePoint)\n                            });\n                        }\n                    }\n                });\n                if (mandatoryDigits > 0) {\n                    format.primary = formats.DECIMAL;\n                    // TODO validate decimal-digit-pattern\n\n                    // the decimal digit family (codepoint offset)\n                    format.zeroCode = zeroCode;\n                    // the number of mandatory digits\n                    format.mandatoryDigits = mandatoryDigits;\n                    // the number of optional digits\n                    format.optionalDigits = optionalDigits;\n                    // grouping separator template\n                    // are the grouping-separator-signs 'regular'?\n                    const regularRepeat = function (separators) {\n                        // are the grouping positions regular? i.e. same interval between each of them\n                        // is there at least one separator?\n                        if (separators.length === 0) {\n                            return 0;\n                        }\n                        // are all the characters the same?\n                        const sepChar = separators[0].character;\n                        for (let ii = 1; ii < separators.length; ii++) {\n                            if (separators[ii].character !== sepChar) {\n                                return 0;\n                            }\n                        }\n                        // are they equally spaced?\n                        const indexes = separators.map(separator => separator.position);\n                        const gcd = function (a, b) {\n                            return b === 0 ? a : gcd(b, a % b);\n                        };\n                        // find the greatest common divisor of all the positions\n                        const factor = indexes.reduce(gcd);\n                        // is every position separated by this divisor? If so, it's regular\n                        for (let index = 1; index <= indexes.length; index++) {\n                            if (indexes.indexOf(index * factor) === -1) {\n                                return 0;\n                            }\n                        }\n                        return factor;\n                    };\n\n                    const regular = regularRepeat(groupingSeparators);\n                    if (regular > 0) {\n                        format.regular = true;\n                        format.groupingSeparators = {\n                            position: regular,\n                            character: groupingSeparators[0].character\n                        };\n                    } else {\n                        format.regular = false;\n                        format.groupingSeparators = groupingSeparators;\n                    }\n\n                } else {\n                    // this is a 'numbering sequence' which the spec says is implementation-defined\n                    // this implementation doesn't support any numbering sequences at the moment.\n                    format.primary = formats.SEQUENCE;\n                    format.token = primaryFormat;\n                }\n            }\n        }\n\n        return format;\n    }\n\n    const defaultPresentationModifiers = {\n        Y: '1', M: '1', D: '1', d: '1', F: 'n', W: '1', w: '1', X: '1', x: '1', H: '1', h: '1',\n        P: 'n', m: '01', s: '01', f: '1', Z: '01:01', z: '01:01', C: 'n', E: 'n'\n    };\n\n    // 9.8.4.1 the format specifier is an array of string literals and variable markers\n    /**\n     * analyse the date-time picture string\n     * @param {string} picture - picture string\n     * @returns {{type: string, parts: Array}} - the analysed string\n     */\n    function analyseDateTimePicture(picture) {\n        var spec = [];\n        const format = {\n            type: 'datetime',\n            parts: spec\n        };\n        const addLiteral = function (start, end) {\n            if (end > start) {\n                let literal = picture.substring(start, end);\n                // replace any doubled ]] with single ]\n                // what if there are instances of single ']' ? - the spec doesn't say\n                literal = literal.split(']]').join(']');\n                spec.push({type: 'literal', value: literal});\n            }\n        };\n\n        var start = 0, pos = 0;\n        while (pos < picture.length) {\n            if (picture.charAt(pos) === '[') {\n                // check it's not a doubled [[\n                if (picture.charAt(pos + 1) === '[') {\n                    // literal [\n                    addLiteral(start, pos);\n                    spec.push({type: 'literal', value: '['});\n                    pos += 2;\n                    start = pos;\n                    continue;\n                }\n                // start of variable marker\n                // push the string literal (if there is one) onto the array\n                addLiteral(start, pos);\n                start = pos;\n                // search forward to closing ]\n                pos = picture.indexOf(']', start);\n                // TODO handle error case if pos === -1\n                if(pos === -1) {\n                    // error - no closing bracket\n                    throw {\n                        code: 'D3135'\n                    };\n                }\n                let marker = picture.substring(start + 1, pos);\n                // whitespace within a variable marker is ignored (i.e. remove it)\n                marker = marker.split(/\\s+/).join('');\n                var def = {\n                    type: 'marker',\n                    component: marker.charAt(0)  // 1. The component specifier is always present and is always a single letter.\n                };\n                var comma = marker.lastIndexOf(','); // 2. The width modifier may be recognized by the presence of a comma\n                var presMod; // the presentation modifiers\n                if (comma !== -1) {\n                    // 9.8.4.2 The Width Modifier\n                    const widthMod = marker.substring(comma + 1);\n                    const dash = widthMod.indexOf('-');\n                    let min, max;\n                    const parseWidth = function (wm) {\n                        if (typeof wm === 'undefined' || wm === '*') {\n                            return undefined;\n                        } else {\n                            // TODO validate wm is an unsigned int\n                            return parseInt(wm);\n                        }\n                    };\n                    if (dash === -1) {\n                        min = widthMod;\n                    } else {\n                        min = widthMod.substring(0, dash);\n                        max = widthMod.substring(dash + 1);\n                    }\n                    const widthDef = {\n                        min: parseWidth(min),\n                        max: parseWidth(max)\n                    };\n                    def.width = widthDef;\n                    presMod = marker.substring(1, comma);\n                } else {\n                    presMod = marker.substring(1);\n                }\n                if (presMod.length === 1) {\n                    def.presentation1 = presMod; // first presentation modifier\n                    //TODO validate the first presentation modifier - it's either N, n, Nn or it passes analyseIntegerPicture\n                } else if (presMod.length > 1) {\n                    var lastChar = presMod.charAt(presMod.length - 1);\n                    if ('atco'.indexOf(lastChar) !== -1) {\n                        def.presentation2 = lastChar;\n                        if (lastChar === 'o') {\n                            def.ordinal = true;\n                        }\n                        // 'c' means 'cardinal' and is the default (i.e. not 'ordinal')\n                        // 'a' & 't' are ignored (not sure of their relevance to English numbering)\n                        def.presentation1 = presMod.substring(0, presMod.length - 1);\n                    } else {\n                        def.presentation1 = presMod;\n                        //TODO validate the first presentation modifier - it's either N, n, Nn or it passes analyseIntegerPicture,\n                        // doesn't use ] as grouping separator, and if grouping separator is , then must have width modifier\n                    }\n                } else {\n                    // no presentation modifier specified - apply the default;\n                    def.presentation1 = defaultPresentationModifiers[def.component];\n                }\n                if (typeof def.presentation1 === 'undefined') {\n                    // unknown component specifier\n                    throw {\n                        code: 'D3132',\n                        value: def.component\n                    };\n                }\n                if (def.presentation1[0] === 'n') {\n                    def.names = tcase.LOWER;\n                } else if (def.presentation1[0] === 'N') {\n                    if (def.presentation1[1] === 'n') {\n                        def.names = tcase.TITLE;\n                    } else {\n                        def.names = tcase.UPPER;\n                    }\n                } else if ('YMDdFWwXxHhmsf'.indexOf(def.component) !== -1) {\n                    var integerPattern = def.presentation1;\n                    if (def.presentation2) {\n                        integerPattern += ';' + def.presentation2;\n                    }\n                    def.integerFormat = analyseIntegerPicture(integerPattern);\n                    if (def.width && def.width.min !== undefined) {\n                        if (def.integerFormat.mandatoryDigits < def.width.min) {\n                            def.integerFormat.mandatoryDigits = def.width.min;\n                        }\n                    }\n                    if ('YMD'.indexOf(def.component) !== -1) {\n                        // 9.8.4.4\n                        def.n = -1;\n                        if (def.width && def.width.max !== undefined) {\n                            def.n = def.width.max;\n                            def.integerFormat.mandatoryDigits = def.n;\n                        } else {\n                            var w = def.integerFormat.mandatoryDigits + def.integerFormat.optionalDigits;\n                            if (w >= 2) {\n                                def.n = w;\n                            }\n                        }\n                    }\n                }\n                if (def.component === 'Z' || def.component === 'z') {\n                    def.integerFormat = analyseIntegerPicture(def.presentation1);\n                }\n                spec.push(def);\n                start = pos + 1;\n            }\n            pos++;\n        }\n        addLiteral(start, pos);\n        return format;\n    }\n\n    const days = ['', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    const millisInADay = 1000 * 60 * 60 * 24;\n\n    const startOfFirstWeek = function (ym) {\n        // ISO 8601 defines the first week of the year to be the week that contains the first Thursday\n        // XPath F&O extends this same definition for the first week of a month\n        // the week starts on a Monday - calculate the millis for the start of the first week\n        // millis for given 1st Jan of that year (at 00:00 UTC)\n        const jan1 = Date.UTC(ym.year, ym.month);\n        var dayOfJan1 = (new Date(jan1)).getUTCDay();\n        if (dayOfJan1 === 0) {\n            dayOfJan1 = 7;\n        }\n        // if Jan 1 is Fri, Sat or Sun, then add the number of days (in millis) to jan1 to get the start of week 1\n        return dayOfJan1 > 4 ? jan1 + (8 - dayOfJan1) * millisInADay : jan1 - (dayOfJan1 - 1) * millisInADay;\n    };\n\n    const yearMonth = function (year, month) {\n        return {\n            year: year,\n            month: month,\n            nextMonth: function () {\n                return (month === 11) ? yearMonth(year + 1, 0) : yearMonth(year, month + 1);\n            },\n            previousMonth: function () {\n                return (month === 0) ? yearMonth(year - 1, 11) : yearMonth(year, month - 1);\n            },\n            nextYear: function () {\n                return yearMonth(year + 1, month);\n            },\n            previousYear: function () {\n                return yearMonth(year - 1, month);\n            }\n        };\n    };\n\n    const deltaWeeks = function (start, end) {\n        return (end - start) / (millisInADay * 7) + 1;\n    };\n\n    const getDateTimeFragment = (date, component) => {\n        let componentValue;\n        switch (component) {\n            case 'Y': // year\n                componentValue = date.getUTCFullYear();\n                break;\n            case 'M': // month in year\n                componentValue = date.getUTCMonth() + 1;\n                break;\n            case 'D': // day in month\n                componentValue = date.getUTCDate();\n                break;\n            case 'd': { // day in year\n                // millis for given date (at 00:00 UTC)\n                const today = Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n                // millis for given 1st Jan of that year (at 00:00 UTC)\n                const firstJan = Date.UTC(date.getUTCFullYear(), 0);\n                componentValue = (today - firstJan) / millisInADay + 1;\n                break;\n            }\n            case 'F': // day of week\n                componentValue = date.getUTCDay();\n                if (componentValue === 0) {\n                    // ISO 8601 defines days 1-7: Mon-Sun\n                    componentValue = 7;\n                }\n                break;\n            case 'W': { // week in year\n                const thisYear = yearMonth(date.getUTCFullYear(), 0);\n                const startOfWeek1 = startOfFirstWeek(thisYear);\n                const today = Date.UTC(thisYear.year, date.getUTCMonth(), date.getUTCDate());\n                let week = deltaWeeks(startOfWeek1, today);\n                if (week > 52) {\n                    // might be first week of the following year\n                    const startOfFollowingYear = startOfFirstWeek(thisYear.nextYear());\n                    if (today >= startOfFollowingYear) {\n                        week = 1;\n                    }\n                } else if (week < 1) {\n                    // must be end of the previous year\n                    const startOfPreviousYear = startOfFirstWeek(thisYear.previousYear());\n                    week = deltaWeeks(startOfPreviousYear, today);\n                }\n                componentValue = Math.floor(week);\n                break;\n            }\n            case 'w': { // week in month\n                const thisMonth = yearMonth(date.getUTCFullYear(), date.getUTCMonth());\n                const startOfWeek1 = startOfFirstWeek(thisMonth);\n                const today = Date.UTC(thisMonth.year, thisMonth.month, date.getUTCDate());\n                let week = deltaWeeks(startOfWeek1, today);\n                if (week > 4) {\n                    // might be first week of the following month\n                    const startOfFollowingMonth = startOfFirstWeek(thisMonth.nextMonth());\n                    if (today >= startOfFollowingMonth) {\n                        week = 1;\n                    }\n                } else if (week < 1) {\n                    // must be end of the previous month\n                    const startOfPreviousMonth = startOfFirstWeek(thisMonth.previousMonth());\n                    week = deltaWeeks(startOfPreviousMonth, today);\n                }\n                componentValue = Math.floor(week);\n                break;\n            }\n            case 'X': { // ISO week-numbering year\n                // Extension: The F&O spec says nothing about how to access the year associated with the week-of-the-year\n                // e.g. Sat 1 Jan 2005 is in the 53rd week of 2004.\n                // The 'W' component specifier gives 53, but 'Y' will give 2005.\n                // I propose to add 'X' as the component specifier to give the ISO week-numbering year (2004 in this example)\n                const thisYear = yearMonth(date.getUTCFullYear(), 0);\n                const startOfISOYear = startOfFirstWeek(thisYear);\n                const endOfISOYear = startOfFirstWeek(thisYear.nextYear());\n                const now = date.getTime();\n                if (now < startOfISOYear) {\n                    componentValue = thisYear.year - 1;\n                } else if (now >= endOfISOYear) {\n                    componentValue = thisYear.year + 1;\n                } else {\n                    componentValue = thisYear.year;\n                }\n                break;\n            }\n            case 'x': { // ISO week-numbering month\n                // Extension: The F&O spec says nothing about how to access the month associated with the week-of-the-month\n                // e.g. Sat 1 Jan 2005 is in the 5th week of December 2004.\n                // The 'w' component specifier gives 5, but 'W' will give January and 'Y' will give 2005.\n                // I propose to add 'x' as the component specifier to give the 'week-numbering' month (December in this example)\n                const thisMonth = yearMonth(date.getUTCFullYear(), date.getUTCMonth());\n                const startOfISOMonth = startOfFirstWeek(thisMonth);\n                const nextMonth = thisMonth.nextMonth();\n                const endOfISOMonth = startOfFirstWeek(nextMonth);\n                const now = date.getTime();\n                if (now < startOfISOMonth) {\n                    componentValue = thisMonth.previousMonth().month + 1;\n                } else if (now >= endOfISOMonth) {\n                    componentValue = nextMonth.month + 1;\n                } else {\n                    componentValue = thisMonth.month + 1;\n                }\n                break;\n            }\n            case 'H': // hour in day (24 hours)\n                componentValue = date.getUTCHours();\n                break;\n            case 'h': // hour in half-day (12 hours)\n                componentValue = date.getUTCHours();\n                componentValue = componentValue % 12;\n                if (componentValue === 0) {\n                    componentValue = 12;\n                }\n                break;\n            case 'P': // am/pm marker\n                componentValue = date.getUTCHours() >= 12 ? 'pm' : 'am';\n                break;\n            case 'm': // minute in hour\n                componentValue = date.getUTCMinutes();\n                break;\n            case 's': // second in minute\n                componentValue = date.getUTCSeconds();\n                break;\n            case 'f': // fractional seconds\n                componentValue = date.getUTCMilliseconds();\n                break;\n            case 'Z': // timezone\n            case 'z':\n                // since the date object is constructed from epoch millis, the TZ component is always be UTC.\n                break;\n            case 'C': // calendar name\n                componentValue = 'ISO';\n                break;\n            case 'E': // era\n                componentValue = 'ISO';\n                break;\n        }\n        return componentValue;\n    };\n\n    let iso8601Spec = null;\n\n    /**\n     * formats the date/time as specified by the XPath fn:format-dateTime function\n     * @param {number} millis - the timestamp to be formatted, in millis since the epoch\n     * @param {string} picture - the picture string that specifies the format\n     * @param {string} timezone - the timezone to use\n     * @returns {string} - the formatted timestamp\n     */\n    function formatDateTime(millis, picture, timezone) {\n        var offsetHours = 0;\n        var offsetMinutes = 0;\n\n        if (typeof timezone !== 'undefined') {\n            // parse the hour and minute offsets\n            // assume for now the format supplied is +hhmm\n            const offset = parseInt(timezone);\n            offsetHours = Math.floor(offset / 100);\n            offsetMinutes = offset % 100;\n        }\n\n        var formatComponent = function (date, markerSpec) {\n            var componentValue = getDateTimeFragment(date, markerSpec.component);\n\n            // 9.8.4.3 Formatting Integer-Valued Date/Time Components\n            if ('YMDdFWwXxHhms'.indexOf(markerSpec.component) !== -1) {\n                if (markerSpec.component === 'Y') {\n                    // 9.8.4.4 Formatting the Year Component\n                    if (markerSpec.n !== -1) {\n                        componentValue = componentValue % Math.pow(10, markerSpec.n);\n                    }\n                }\n                if (markerSpec.names) {\n                    if (markerSpec.component === 'M' || markerSpec.component === 'x') {\n                        componentValue = months[componentValue - 1];\n                    } else if (markerSpec.component === 'F') {\n                        componentValue = days[componentValue];\n                    } else {\n                        throw {\n                            code: 'D3133',\n                            value: markerSpec.component\n                        };\n                    }\n                    if (markerSpec.names === tcase.UPPER) {\n                        componentValue = componentValue.toUpperCase();\n                    } else if (markerSpec.names === tcase.LOWER) {\n                        componentValue = componentValue.toLowerCase();\n                    }\n                    if (markerSpec.width && componentValue.length > markerSpec.width.max) {\n                        componentValue = componentValue.substring(0, markerSpec.width.max);\n                    }\n                } else {\n                    componentValue = _formatInteger(componentValue, markerSpec.integerFormat);\n                }\n            } else if (markerSpec.component === 'f') {\n                // TODO 9.8.4.5 Formatting Fractional Seconds\n                componentValue = _formatInteger(componentValue, markerSpec.integerFormat);\n            } else if (markerSpec.component === 'Z' || markerSpec.component === 'z') {\n                // 9.8.4.6 Formatting timezones\n                const offset = offsetHours * 100 + offsetMinutes;\n                if (markerSpec.integerFormat.regular) {\n                    componentValue = _formatInteger(offset, markerSpec.integerFormat);\n                } else {\n                    const numDigits = markerSpec.integerFormat.mandatoryDigits;\n                    if (numDigits === 1 || numDigits === 2) {\n                        componentValue = _formatInteger(offsetHours, markerSpec.integerFormat);\n                        if (offsetMinutes !== 0) {\n                            componentValue += ':' + formatInteger(offsetMinutes, '00');\n                        }\n                    } else if (numDigits === 3 || numDigits === 4) {\n                        componentValue = _formatInteger(offset, markerSpec.integerFormat);\n                    } else {\n                        throw {\n                            code: 'D3134',\n                            value: numDigits\n                        };\n                    }\n                }\n                if (offset >= 0) {\n                    componentValue = '+' + componentValue;\n                }\n                if (markerSpec.component === 'z') {\n                    componentValue = 'GMT' + componentValue;\n                }\n                if (offset === 0 && markerSpec.presentation2 === 't') {\n                    componentValue = 'Z';\n                }\n            } else if (markerSpec.component === 'P') {\n                // 9.8.4.7 Formatting Other Components\n                // Formatting P for am/pm\n                // getDateTimeFragment() always returns am/pm lower case so check for UPPER here\n                if (markerSpec.names === tcase.UPPER) {\n                    componentValue = componentValue.toUpperCase();\n                }\n            }\n            return componentValue;\n        };\n\n        let formatSpec;\n        if(typeof picture === 'undefined') {\n            // default to ISO 8601 format\n            if (iso8601Spec === null) {\n                iso8601Spec = analyseDateTimePicture('[Y0001]-[M01]-[D01]T[H01]:[m01]:[s01].[f001][Z01:01t]');\n            }\n            formatSpec = iso8601Spec;\n        } else {\n            formatSpec = analyseDateTimePicture(picture);\n        }\n\n        const offsetMillis = (60 * offsetHours + offsetMinutes) * 60 * 1000;\n        const dateTime = new Date(millis + offsetMillis);\n\n        let result = '';\n        formatSpec.parts.forEach(function (part) {\n            if (part.type === 'literal') {\n                result += part.value;\n            } else {\n                result += formatComponent(dateTime, part);\n            }\n        });\n\n        return result;\n    }\n\n    /**\n     * Generate a regex to parse integers or timestamps\n     * @param {object} formatSpec - object representing the format\n     * @returns {object} - regex\n     */\n    function generateRegex(formatSpec) {\n        var matcher = {};\n        if (formatSpec.type === 'datetime') {\n            matcher.type = 'datetime';\n            matcher.parts = formatSpec.parts.map(function (part) {\n                var res = {};\n                if (part.type === 'literal') {\n                    res.regex = part.value.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n                } else if (part.component === 'Z' || part.component === 'z') {\n                    // timezone\n                    let separator;\n                    if (!Array.isArray(part.integerFormat.groupingSeparators)) {\n                        separator = part.integerFormat.groupingSeparators;\n                    }\n                    res.regex = '';\n                    if (part.component === 'z') {\n                        res.regex = 'GMT';\n                    }\n                    res.regex += '[-+][0-9]+';\n                    if (separator) {\n                        res.regex += separator.character + '[0-9]+';\n                    }\n                    res.parse = function(value) {\n                        if (part.component === 'z') {\n                            value = value.substring(3); // remove the leading GMT\n                        }\n                        let offsetHours = 0, offsetMinutes = 0;\n                        if (separator) {\n                            offsetHours = Number.parseInt(value.substring(0, value.indexOf(separator.character)));\n                            offsetMinutes = Number.parseInt(value.substring(value.indexOf(separator.character) + 1));\n                        } else {\n                            // depends on number of digits\n                            const numdigits = value.length - 1;\n                            if (numdigits <= 2) {\n                                // just hour offset\n                                offsetHours = Number.parseInt(value);\n                            } else {\n                                offsetHours = Number.parseInt(value.substring(0, 3));\n                                offsetMinutes = Number.parseInt(value.substring(3));\n                            }\n                        }\n                        return offsetHours * 60 + offsetMinutes;\n                    };\n                } else if (part.integerFormat) {\n                    part.integerFormat.n = part.n;\n                    res = generateRegex(part.integerFormat);\n                } else {\n                    // must be a month or day name\n                    res.regex = '[a-zA-Z]+';\n                    var lookup = {};\n                    if (part.component === 'M' || part.component === 'x') {\n                        // months\n                        months.forEach(function (name, index) {\n                            if (part.width && part.width.max) {\n                                lookup[name.substring(0, part.width.max)] = index + 1;\n                            } else {\n                                lookup[name] = index + 1;\n                            }\n                        });\n                    } else if (part.component === 'F') {\n                        // days\n                        days.forEach(function (name, index) {\n                            if (index > 0) {\n                                if (part.width && part.width.max) {\n                                    lookup[name.substring(0, part.width.max)] = index;\n                                } else {\n                                    lookup[name] = index;\n                                }\n                            }\n                        });\n                    } else if (part.component === 'P') {\n                        lookup = {'am': 0, 'AM': 0, 'pm': 1, 'PM': 1};\n                    } else {\n                        // unsupported 'name' option for this component\n                        throw {\n                            code: 'D3133',\n                            value: part.component\n                        };\n                    }\n                    res.parse = function (value) {\n                        return lookup[value];\n                    };\n                }\n                res.component = part.component;\n                return res;\n            });\n        } else { // type === 'integer'\n            matcher.type = 'integer';\n            const isUpper = formatSpec.case === tcase.UPPER;\n            let occurrences;\n            if(formatSpec.n && formatSpec.n > 0){\n                if(formatSpec.optionalDigits === 0){\n                    occurrences = `{${formatSpec.n}}`;\n                } else {\n                    occurrences = `{${formatSpec.n - formatSpec.optionalDigits},${formatSpec.n}}`;\n                }\n            } else {\n                occurrences = '+';\n            }\n\n            switch (formatSpec.primary) {\n                case formats.LETTERS:\n                    matcher.regex = isUpper ? '[A-Z]+' : '[a-z]+';\n                    matcher.parse = function (value) {\n                        return lettersToDecimal(value, isUpper ? 'A' : 'a');\n                    };\n                    break;\n                case formats.ROMAN:\n                    matcher.regex = isUpper ? '[MDCLXVI]+' : '[mdclxvi]+';\n                    matcher.parse = function (value) {\n                        return romanToDecimal(isUpper ? value : value.toUpperCase());\n                    };\n                    break;\n                case formats.WORDS:\n                    matcher.regex = '(?:' + Object.keys(wordValues).concat('and', '[\\\\-, ]').join('|') + ')+';\n                    matcher.parse = function (value) {\n                        return wordsToNumber(value.toLowerCase());\n                    };\n                    break;\n                case formats.DECIMAL:\n                    matcher.regex = `[0-9]${occurrences}`;\n                    if (formatSpec.ordinal) {\n                        // ordinals\n                        matcher.regex += '(?:th|st|nd|rd)';\n                    }\n                    matcher.parse = function (value) {\n                        let digits = value;\n                        if (formatSpec.ordinal) {\n                            // strip off the suffix\n                            digits = value.substring(0, value.length - 2);\n                        }\n                        // strip out the separators\n                        if (formatSpec.regular) {\n                            digits = digits.split(',').join('');\n                        } else {\n                            formatSpec.groupingSeparators.forEach(sep => {\n                                digits = digits.split(sep.character).join('');\n                            });\n                        }\n                        if (formatSpec.zeroCode !== 0x30) {\n                            // apply offset\n                            digits = digits.split('').map(char => String.fromCodePoint(char.codePointAt(0) - formatSpec.zeroCode + 0x30)).join('');\n                        }\n                        return parseInt(digits);\n                    };\n                    break;\n                case formats.SEQUENCE:\n                    throw {\n                        code: 'D3130',\n                        value: formatSpec.token\n                    };\n            }\n\n        }\n        return matcher;\n    }\n\n    /**\n     * parse a string containing an integer as specified by the picture string\n     * @param {string} value - the string to parse\n     * @param {string} picture - the picture string\n     * @returns {number} - the parsed number\n     */\n    function parseInteger(value, picture) {\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        const formatSpec = analyseIntegerPicture(picture);\n        const matchSpec = generateRegex(formatSpec);\n        //const fullRegex = '^' + matchSpec.regex + '$';\n        //const matcher = new RegExp(fullRegex);\n        // TODO validate input based on the matcher regex\n        const result = matchSpec.parse(value);\n        return result;\n    }\n\n    /**\n     * parse a string containing a timestamp as specified by the picture string\n     * @param {string} timestamp - the string to parse\n     * @param {string} picture - the picture string\n     * @returns {number} - the parsed timestamp in millis since the epoch\n     */\n    function parseDateTime(timestamp, picture) {\n        const formatSpec = analyseDateTimePicture(picture);\n        const matchSpec = generateRegex(formatSpec);\n        const fullRegex = '^' + matchSpec.parts.map(part => '(' + part.regex + ')').join('') + '$';\n\n        const matcher = new RegExp(fullRegex, 'i'); // TODO can cache this against the picture\n        var info = matcher.exec(timestamp);\n        if (info !== null) {\n            // validate what we've just parsed - do we have enough information to create a timestamp?\n            // rules:\n            // The date is specified by one of:\n            //    {Y, M, D}    (dateA)\n            // or {Y, d}       (dateB)\n            // or {Y, x, w, F} (dateC)\n            // or {X, W, F}    (dateD)\n            // The time is specified by one of:\n            //    {H, m, s, f}    (timeA)\n            // or {P, h, m, s, f} (timeB)\n            // All sets can have an optional Z\n            // To create a timestamp (epoch millis) we need both date and time, but we can default missing\n            // information according to the following rules:\n            // - line up one combination of the above from date, and one from time, most significant value (MSV) to least significant (LSV\n            // - for the values that have been captured, if there are any gaps between MSV and LSV, then throw an error\n            //     (e.g.) if hour and seconds, but not minutes is given - throw\n            //     (e.g.) if month, hour and minutes, but not day-of-month is given - throw\n            // - anything right of the LSV should be defaulted to zero\n            //     (e.g.) if hour and minutes given, default seconds and fractional seconds to zero\n            //     (e.g.) if date only given, default the time to 0:00:00.000 (midnight)\n            // - anything left of the MSV should be defaulted to the value of that component returned by $now()\n            //     (e.g.) if time only given, default the date to today\n            //     (e.g.) if month and date given, default to this year (and midnight, by previous rule)\n            //   -- default values for X, x, W, w, F will be derived from the values returned by $now()\n\n            // implement the above rules\n            // determine which of the above date/time combinations we have by using bit masks\n\n            //        Y X M x W w d D F P H h m s f Z\n            // dateA  1 0 1 0 0 0 0 1 ?                     0 - must not appear\n            // dateB  1 0 0 0 0 0 1 0 ?                     1 - can appear - relevant\n            // dateC  0 1 0 1 0 1 0 0 1                     ? - can appear - ignored\n            // dateD  0 1 0 0 1 0 0 0 1\n            // timeA                    0 1 0 1 1 1\n            // timeB                    1 0 1 1 1 1\n\n            // create bitmasks based on the above\n            //    date mask             YXMxWwdD\n            const dmA = 161;  // binary 10100001\n            const dmB = 130;  // binary 10000010\n            const dmC = 84;   // binary 01010100\n            const dmD = 72;   // binary 01001000\n            //    time mask             PHhmsf\n            const tmA = 23;   // binary 010111\n            const tmB = 47;   // binary 101111\n\n            const components = {};\n            for (let i = 1; i < info.length; i++) {\n                const mpart = matchSpec.parts[i - 1];\n                if (mpart.parse) {\n                    components[mpart.component] = mpart.parse(info[i]);\n                }\n            }\n\n            if(Object.getOwnPropertyNames(components).length === 0) {\n                // nothing specified\n                return undefined;\n            }\n\n            let mask = 0;\n\n            const shift = bit => {\n                mask <<= 1;\n                mask += bit ? 1 : 0;\n            };\n\n            const isType = type => {\n                // shouldn't match any 0's, must match at least one 1\n                return !(~type & mask) && !!(type & mask);\n            };\n\n            'YXMxWwdD'.split('').forEach(part => shift(components[part]));\n\n            const dateA = isType(dmA);\n            const dateB = !dateA && isType(dmB);\n            const dateC = isType(dmC);\n            const dateD = !dateC && isType(dmD);\n\n            mask = 0;\n            'PHhmsf'.split('').forEach(part => shift(components[part]));\n\n            const timeA = isType(tmA);\n            const timeB = !timeA && isType(tmB);\n\n            // should only be zero or one date type and zero or one time type\n\n            const dateComps = dateB ? 'YD' : dateC ? 'XxwF' : dateD? 'XWF' : 'YMD';\n            const timeComps = timeB ? 'Phmsf' : 'Hmsf';\n\n            const comps = dateComps + timeComps;\n\n            // step through the candidate parts from most significant to least significant\n            // default the most significant unspecified parts to current timestamp component\n            // default the least significant unspecified parts to zero\n            // if any gaps in between the specified parts, throw an error\n\n            const now = this.environment.timestamp; // must get the fixed timestamp from jsonata\n\n            let startSpecified = false;\n            let endSpecified = false;\n            comps.split('').forEach(part => {\n                if(typeof components[part] === 'undefined') {\n                    if(startSpecified) {\n                        // past the specified block - default to zero\n                        components[part] = ('MDd'.indexOf(part) !== -1) ? 1 : 0;\n                        endSpecified = true;\n                    } else {\n                        // haven't hit the specified block yet, default to current timestamp\n                        components[part] = getDateTimeFragment(now, part);\n                    }\n                } else {\n                    startSpecified = true;\n                    if(endSpecified) {\n                        throw {\n                            code: 'D3136'\n                        };\n                    }\n                }\n            });\n\n            // validate and fill in components\n            if (components.M > 0) {\n                components.M -= 1;  // Date.UTC requires a zero-indexed month\n            } else {\n                components.M = 0; // default to January\n            }\n            if (dateB) {\n                // millis for given 1st Jan of that year (at 00:00 UTC)\n                const firstJan = Date.UTC(components.Y, 0);\n                const offsetMillis = (components.d - 1) * 1000 * 60 * 60 * 24;\n                const derivedDate = new Date(firstJan + offsetMillis);\n                components.M = derivedDate.getUTCMonth();\n                components.D = derivedDate.getUTCDate();\n            }\n            if (dateC) {\n                // TODO implement this\n                // parsing this format not currently supported\n                throw {\n                    code: 'D3136'\n                };\n            }\n            if (dateD) {\n                // TODO implement this\n                // parsing this format (ISO week date) not currently supported\n                throw {\n                    code: 'D3136'\n                };\n            }\n            if (timeB) {\n                // 12hr to 24hr\n                components.H = components.h === 12 ? 0 : components.h;\n                if (components.P === 1) {\n                    components.H += 12;\n                }\n            }\n\n            var millis = Date.UTC(components.Y, components.M, components.D, components.H, components.m, components.s, components.f);\n            if(components.Z || components.z) {\n                // adjust for timezone\n                millis -= (components.Z || components.z) * 60 * 1000;\n            }\n            return millis;\n        }\n    }\n\n    // Regular expression to match an ISO 8601 formatted timestamp\n    var iso8601regex = new RegExp('^\\\\d{4}(-[01]\\\\d)*(-[0-3]\\\\d)*(T[0-2]\\\\d:[0-5]\\\\d:[0-5]\\\\d)*(\\\\.\\\\d+)?([+-][0-2]\\\\d:?[0-5]\\\\d|Z)?$');\n\n    /**\n     * Converts an ISO 8601 timestamp to milliseconds since the epoch\n     *\n     * @param {string} timestamp - the timestamp to be converted\n     * @param {string} [picture] - the picture string defining the format of the timestamp (defaults to ISO 8601)\n     * @returns {Number} - milliseconds since the epoch\n     */\n    function toMillis(timestamp, picture) {\n        // undefined inputs always return undefined\n        if(typeof timestamp === 'undefined') {\n            return undefined;\n        }\n\n        if(typeof picture === 'undefined') {\n            if (!iso8601regex.test(timestamp)) {\n                throw {\n                    stack: (new Error()).stack,\n                    code: \"D3110\",\n                    value: timestamp\n                };\n            }\n\n            return Date.parse(timestamp);\n        } else {\n            return parseDateTime.call(this, timestamp, picture);\n        }\n    }\n\n    /**\n     * Converts milliseconds since the epoch to an ISO 8601 timestamp\n     * @param {Number} millis - milliseconds since the epoch to be converted\n     * @param {string} [picture] - the picture string defining the format of the timestamp (defaults to ISO 8601)\n     * @param {string} [timezone] - the timezone to format the timestamp in (defaults to UTC)\n     * @returns {String} - the formatted timestamp\n     */\n    function fromMillis(millis, picture, timezone) {\n        // undefined inputs always return undefined\n        if(typeof millis === 'undefined') {\n            return undefined;\n        }\n\n        return formatDateTime.call(this, millis, picture, timezone);\n    }\n\n    return {\n        formatInteger, parseInteger, fromMillis, toMillis\n    };\n})();\n\nmodule.exports = dateTime;\n\n},{\"./utils\":6}],2:[function(require,module,exports){\n(function (global){(function (){\n/**\n *  Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar utils = require('./utils');\n\nconst functions = (() => {\n    'use strict';\n\n    var isNumeric = utils.isNumeric;\n    var isArrayOfStrings = utils.isArrayOfStrings;\n    var isArrayOfNumbers = utils.isArrayOfNumbers;\n    var createSequence = utils.createSequence;\n    var isSequence = utils.isSequence;\n    var isFunction = utils.isFunction;\n    var isLambda = utils.isLambda;\n    var isPromise = utils.isPromise;\n    var getFunctionArity = utils.getFunctionArity;\n    var deepEquals = utils.isDeepEqual;\n    var stringToArray = utils.stringToArray;\n\n    /**\n     * Sum function\n     * @param {Object} args - Arguments\n     * @returns {number} Total value of arguments\n     */\n    function sum(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined') {\n            return undefined;\n        }\n\n        var total = 0;\n        args.forEach(function (num) {\n            total += num;\n        });\n        return total;\n    }\n\n    /**\n     * Count function\n     * @param {Object} args - Arguments\n     * @returns {number} Number of elements in the array\n     */\n    function count(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined') {\n            return 0;\n        }\n\n        return args.length;\n    }\n\n    /**\n     * Max function\n     * @param {Object} args - Arguments\n     * @returns {number} Max element in the array\n     */\n    function max(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        return Math.max.apply(Math, args);\n    }\n\n    /**\n     * Min function\n     * @param {Object} args - Arguments\n     * @returns {number} Min element in the array\n     */\n    function min(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        return Math.min.apply(Math, args);\n    }\n\n    /**\n     * Average function\n     * @param {Object} args - Arguments\n     * @returns {number} Average element in the array\n     */\n    function average(args) {\n        // undefined inputs always return undefined\n        if (typeof args === 'undefined' || args.length === 0) {\n            return undefined;\n        }\n\n        var total = 0;\n        args.forEach(function (num) {\n            total += num;\n        });\n        return total / args.length;\n    }\n\n    /**\n     * Stringify arguments\n     * @param {Object} arg - Arguments\n     * @param {boolean} [prettify] - Pretty print the result\n     * @returns {String} String from arguments\n     */\n    function string(arg, prettify = false) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var str;\n\n        if (typeof arg === 'string') {\n            // already a string\n            str = arg;\n        } else if (isFunction(arg)) {\n            // functions (built-in and lambda convert to empty string\n            str = '';\n        } else if (typeof arg === 'number' && !isFinite(arg)) {\n            throw {\n                code: \"D3001\",\n                value: arg,\n                stack: (new Error()).stack\n            };\n        } else {\n            var space = prettify ? 2 : 0;\n            if(Array.isArray(arg) && arg.outerWrapper) {\n                arg = arg[0];\n            }\n            str = JSON.stringify(arg, function (key, val) {\n                return (typeof val !== 'undefined' && val !== null && val.toPrecision && isNumeric(val)) ? Number(val.toPrecision(15)) :\n                    (val && isFunction(val)) ? '' : val;\n            }, space);\n        }\n        return str;\n    }\n\n    /**\n     * Create substring based on character number and length\n     * @param {String} str - String to evaluate\n     * @param {Integer} start - Character number to start substring\n     * @param {Integer} [length] - Number of characters in substring\n     * @returns {string|*} Substring\n     */\n    function substring(str, start, length) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var strArray = stringToArray(str);\n        var strLength = strArray.length;\n\n        if (strLength + start < 0) {\n            start = 0;\n        }\n\n        if (typeof length !== 'undefined') {\n            if (length <= 0) {\n                return '';\n            }\n            var end = start >= 0 ? start + length : strLength + start + length;\n            return strArray.slice(start, end).join('');\n        }\n\n        return strArray.slice(start).join('');\n    }\n\n    /**\n     * Create substring up until a character\n     * @param {String} str - String to evaluate\n     * @param {String} chars - Character to define substring boundary\n     * @returns {*} Substring\n     */\n    function substringBefore(str, chars) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var pos = str.indexOf(chars);\n        if (pos > -1) {\n            return str.substr(0, pos);\n        } else {\n            return str;\n        }\n    }\n\n    /**\n     * Create substring after a character\n     * @param {String} str - String to evaluate\n     * @param {String} chars - Character to define substring boundary\n     * @returns {*} Substring\n     */\n    function substringAfter(str, chars) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var pos = str.indexOf(chars);\n        if (pos > -1) {\n            return str.substr(pos + chars.length);\n        } else {\n            return str;\n        }\n    }\n\n    /**\n     * Lowercase a string\n     * @param {String} str - String to evaluate\n     * @returns {string} Lowercase string\n     */\n    function lowercase(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return str.toLowerCase();\n    }\n\n    /**\n     * Uppercase a string\n     * @param {String} str - String to evaluate\n     * @returns {string} Uppercase string\n     */\n    function uppercase(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return str.toUpperCase();\n    }\n\n    /**\n     * length of a string\n     * @param {String} str - string\n     * @returns {Number} The number of characters in the string\n     */\n    function length(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        return stringToArray(str).length;\n    }\n\n    /**\n     * Normalize and trim whitespace within a string\n     * @param {string} str - string to be trimmed\n     * @returns {string} - trimmed string\n     */\n    function trim(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // normalize whitespace\n        var result = str.replace(/[ \\t\\n\\r]+/gm, ' ');\n        if (result.charAt(0) === ' ') {\n            // strip leading space\n            result = result.substring(1);\n        }\n        if (result.charAt(result.length - 1) === ' ') {\n            // strip trailing space\n            result = result.substring(0, result.length - 1);\n        }\n        return result;\n    }\n\n    /**\n     * Pad a string to a minimum width by adding characters to the start or end\n     * @param {string} str - string to be padded\n     * @param {number} width - the minimum width; +ve pads to the right, -ve pads to the left\n     * @param {string} [char] - the pad character(s); defaults to ' '\n     * @returns {string} - padded string\n     */\n    function pad(str, width, char) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        if (typeof char === 'undefined' || char.length === 0) {\n            char = ' ';\n        }\n\n        var result;\n        var padLength = Math.abs(width) - length(str);\n        if (padLength > 0) {\n            var padding = (new Array(padLength + 1)).join(char);\n            if (char.length > 1) {\n                padding = substring(padding, 0, padLength);\n            }\n            if (width > 0) {\n                result = str + padding;\n            } else {\n                result = padding + str;\n            }\n        } else {\n            result = str;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate the matcher function against the str arg\n     *\n     * @param {*} matcher - matching function (native or lambda)\n     * @param {string} str - the string to match against\n     * @returns {object} - structure that represents the match(es)\n     */\n    async function evaluateMatcher(matcher, str) {\n        var result = matcher.apply(this, [str]); // eslint-disable-line no-useless-call\n        if(isPromise(result)) {\n            result = await result;\n        }\n        if(result && !(typeof result.start === 'number' || result.end === 'number' || Array.isArray(result.groups) || isFunction(result.next))) {\n            // the matcher function didn't return the correct structure\n            throw {\n                code: \"T1010\",\n                stack: (new Error()).stack,\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Tests if the str contains the token\n     * @param {String} str - string to test\n     * @param {String} token - substring or regex to find\n     * @returns {Boolean} - true if str contains token\n     */\n    async function contains(str, token) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var result;\n\n        if (typeof token === 'string') {\n            result = (str.indexOf(token) !== -1);\n        } else {\n            var matches = await evaluateMatcher(token, str);\n            result = (typeof matches !== 'undefined');\n        }\n\n        return result;\n    }\n\n    /**\n     * Match a string with a regex returning an array of object containing details of each match\n     * @param {String} str - string\n     * @param {String} regex - the regex applied to the string\n     * @param {Integer} [limit] - max number of matches to return\n     * @returns {Array} The array of match objects\n     */\n    async function match(str, regex, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                stack: (new Error()).stack,\n                value: limit,\n                code: 'D3040',\n                index: 3\n            };\n        }\n\n        var result = createSequence();\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            var count = 0;\n            var matches = await evaluateMatcher(regex, str);\n            if (typeof matches !== 'undefined') {\n                while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                    result.push({\n                        match: matches.match,\n                        index: matches.start,\n                        groups: matches.groups\n                    });\n                    matches = await evaluateMatcher(matches.next);\n                    count++;\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Match a string with a regex returning an array of object containing details of each match\n     * @param {String} str - string\n     * @param {String} pattern - the substring/regex applied to the string\n     * @param {String} replacement - text to replace the matched substrings\n     * @param {Integer} [limit] - max number of matches to return\n     * @returns {Array} The array of match objects\n     */\n    async function replace(str, pattern, replacement, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        var self = this;\n\n        // pattern cannot be an empty string\n        if (pattern === '') {\n            throw {\n                code: \"D3010\",\n                stack: (new Error()).stack,\n                value: pattern,\n                index: 2\n            };\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                code: \"D3011\",\n                stack: (new Error()).stack,\n                value: limit,\n                index: 4\n            };\n        }\n\n        var replacer;\n        if (typeof replacement === 'string') {\n            replacer = function (regexMatch) {\n                var substitute = '';\n                // scan forward, copying the replacement text into the substitute string\n                // and replace any occurrence of $n with the values matched by the regex\n                var position = 0;\n                var index = replacement.indexOf('$', position);\n                while (index !== -1 && position < replacement.length) {\n                    substitute += replacement.substring(position, index);\n                    position = index + 1;\n                    var dollarVal = replacement.charAt(position);\n                    if (dollarVal === '$') {\n                        // literal $\n                        substitute += '$';\n                        position++;\n                    } else if (dollarVal === '0') {\n                        substitute += regexMatch.match;\n                        position++;\n                    } else {\n                        var maxDigits;\n                        if (regexMatch.groups.length === 0) {\n                            // no sub-matches; any $ followed by a digit will be replaced by an empty string\n                            maxDigits = 1;\n                        } else {\n                            // max number of digits to parse following the $\n                            maxDigits = Math.floor(Math.log(regexMatch.groups.length) * Math.LOG10E) + 1;\n                        }\n                        index = parseInt(replacement.substring(position, position + maxDigits), 10);\n                        if (maxDigits > 1 && index > regexMatch.groups.length) {\n                            index = parseInt(replacement.substring(position, position + maxDigits - 1), 10);\n                        }\n                        if (!isNaN(index)) {\n                            if (regexMatch.groups.length > 0) {\n                                var submatch = regexMatch.groups[index - 1];\n                                if (typeof submatch !== 'undefined') {\n                                    substitute += submatch;\n                                }\n                            }\n                            position += index.toString().length;\n                        } else {\n                            // not a capture group, treat the $ as literal\n                            substitute += '$';\n                        }\n                    }\n                    index = replacement.indexOf('$', position);\n                }\n                substitute += replacement.substring(position);\n                return substitute;\n            };\n        } else {\n            replacer = replacement;\n        }\n\n        var result = '';\n        var position = 0;\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            var count = 0;\n            if (typeof pattern === 'string') {\n                var index = str.indexOf(pattern, position);\n                while (index !== -1 && (typeof limit === 'undefined' || count < limit)) {\n                    result += str.substring(position, index);\n                    result += replacement;\n                    position = index + pattern.length;\n                    count++;\n                    index = str.indexOf(pattern, position);\n                }\n                result += str.substring(position);\n            } else {\n                var matches = await evaluateMatcher(pattern, str);\n                if (typeof matches !== 'undefined') {\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                        result += str.substring(position, matches.start);\n                        var replacedWith = replacer.apply(self, [matches]);\n                        if (isPromise(replacedWith)) {\n                            replacedWith = await replacedWith;\n                        }\n                        // check replacedWith is a string\n                        if (typeof replacedWith === 'string') {\n                            result += replacedWith;\n                        } else {\n                            // not a string - throw error\n                            throw {\n                                code: \"D3012\",\n                                stack: (new Error()).stack,\n                                value: replacedWith\n                            };\n                        }\n                        position = matches.start + matches.match.length;\n                        count++;\n                        matches = await evaluateMatcher(matches.next);\n                    }\n                    result += str.substring(position);\n                } else {\n                    result = str;\n                }\n            }\n        } else {\n            result = str;\n        }\n\n        return result;\n    }\n\n    /**\n     * Base64 encode a string\n     * @param {String} str - string\n     * @returns {String} Base 64 encoding of the binary data\n     */\n    function base64encode(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n        // Use btoa in a browser, or Buffer in Node.js\n\n        var btoa = typeof window !== 'undefined' ?\n            /* istanbul ignore next */ window.btoa :\n            function (str) {\n                // Simply doing `new Buffer` at this point causes Browserify to pull\n                // in the entire Buffer browser library, which is large and unnecessary.\n                // Using `global.Buffer` defeats this.\n                return new global.Buffer.from(str, 'binary').toString('base64'); // eslint-disable-line new-cap\n            };\n        return btoa(str);\n    }\n\n    /**\n     * Base64 decode a string\n     * @param {String} str - string\n     * @returns {String} Base 64 encoding of the binary data\n     */\n    function base64decode(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n        // Use btoa in a browser, or Buffer in Node.js\n        var atob = typeof window !== 'undefined' ?\n            /* istanbul ignore next */ window.atob :\n            function (str) {\n                // Simply doing `new Buffer` at this point causes Browserify to pull\n                // in the entire Buffer browser library, which is large and unnecessary.\n                // Using `global.Buffer` defeats this.\n                return new global.Buffer.from(str, 'base64').toString('binary'); // eslint-disable-line new-cap\n            };\n        return atob(str);\n    }\n\n    /**\n     * Encode a string into a component for a url\n     * @param {String} str - String to encode\n     * @returns {string} Encoded string\n     */\n    function encodeUrlComponent(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = encodeURIComponent(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"encodeUrlComponent\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Encode a string into a url\n     * @param {String} str - String to encode\n     * @returns {string} Encoded string\n     */\n    function encodeUrl(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = encodeURI(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"encodeUrl\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Decode a string from a component for a url\n     * @param {String} str - String to decode\n     * @returns {string} Decoded string\n     */\n    function decodeUrlComponent(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = decodeURIComponent(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"decodeUrlComponent\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Decode a string from a url\n     * @param {String} str - String to decode\n     * @returns {string} Decoded string\n     */\n    function decodeUrl(str) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // Catch URIErrors when URI sequence is malformed\n        var returnVal;\n        try {\n            returnVal = decodeURI(str);\n        } catch (e) {\n            throw {\n                code: \"D3140\",\n                stack: (new Error()).stack,\n                value: str,\n                functionName: \"decodeUrl\"\n            };\n        }\n        return returnVal;\n    }\n\n    /**\n     * Split a string into an array of substrings\n     * @param {String} str - string\n     * @param {String} separator - the token or regex that splits the string\n     * @param {Integer} [limit] - max number of substrings\n     * @returns {Array} The array of string\n     */\n    async function split(str, separator, limit) {\n        // undefined inputs always return undefined\n        if (typeof str === 'undefined') {\n            return undefined;\n        }\n\n        // limit, if specified, must be a non-negative number\n        if (limit < 0) {\n            throw {\n                code: \"D3020\",\n                stack: (new Error()).stack,\n                value: limit,\n                index: 3\n            };\n        }\n\n        var result = [];\n\n        if (typeof limit === 'undefined' || limit > 0) {\n            if (typeof separator === 'string') {\n                result = str.split(separator, limit);\n            } else {\n                var count = 0;\n                var matches = await evaluateMatcher(separator, str);\n                if (typeof matches !== 'undefined') {\n                    var start = 0;\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\n                        result.push(str.substring(start, matches.start));\n                        start = matches.end;\n                        matches = await evaluateMatcher(matches.next);\n                        count++;\n                    }\n                    if (typeof limit === 'undefined' || count < limit) {\n                        result.push(str.substring(start));\n                    }\n                } else {\n                    result.push(str);\n                }\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Join an array of strings\n     * @param {Array} strs - array of string\n     * @param {String} [separator] - the token that splits the string\n     * @returns {String} The concatenated string\n     */\n    function join(strs, separator) {\n        // undefined inputs always return undefined\n        if (typeof strs === 'undefined') {\n            return undefined;\n        }\n\n        // if separator is not specified, default to empty string\n        if (typeof separator === 'undefined') {\n            separator = \"\";\n        }\n\n        return strs.join(separator);\n    }\n\n    /**\n     * Formats a number into a decimal string representation using XPath 3.1 F&O fn:format-number spec\n     * @param {number} value - number to format\n     * @param {String} picture - picture string definition\n     * @param {Object} [options] - override locale defaults\n     * @returns {String} The formatted string\n     */\n    function formatNumber(value, picture, options) {\n        // undefined inputs always return undefined\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        var defaults = {\n            \"decimal-separator\": \".\",\n            \"grouping-separator\": \",\",\n            \"exponent-separator\": \"e\",\n            \"infinity\": \"Infinity\",\n            \"minus-sign\": \"-\",\n            \"NaN\": \"NaN\",\n            \"percent\": \"%\",\n            \"per-mille\": \"\\u2030\",\n            \"zero-digit\": \"0\",\n            \"digit\": \"#\",\n            \"pattern-separator\": \";\"\n        };\n\n        // if `options` is specified, then its entries override defaults\n        var properties = defaults;\n        if (typeof options !== 'undefined') {\n            Object.keys(options).forEach(function (key) {\n                properties[key] = options[key];\n            });\n        }\n\n        var decimalDigitFamily = [];\n        var zeroCharCode = properties['zero-digit'].charCodeAt(0);\n        for (var ii = zeroCharCode; ii < zeroCharCode + 10; ii++) {\n            decimalDigitFamily.push(String.fromCharCode(ii));\n        }\n\n        var activeChars = decimalDigitFamily.concat([properties['decimal-separator'], properties['exponent-separator'], properties['grouping-separator'], properties.digit, properties['pattern-separator']]);\n\n        var subPictures = picture.split(properties['pattern-separator']);\n\n        if (subPictures.length > 2) {\n            throw {\n                code: 'D3080',\n                stack: (new Error()).stack\n            };\n        }\n\n        var splitParts = function (subpicture) {\n            var prefix = (function () {\n                var ch;\n                for (var ii = 0; ii < subpicture.length; ii++) {\n                    ch = subpicture.charAt(ii);\n                    if (activeChars.indexOf(ch) !== -1 && ch !== properties['exponent-separator']) {\n                        return subpicture.substring(0, ii);\n                    }\n                }\n            })();\n            var suffix = (function () {\n                var ch;\n                for (var ii = subpicture.length - 1; ii >= 0; ii--) {\n                    ch = subpicture.charAt(ii);\n                    if (activeChars.indexOf(ch) !== -1 && ch !== properties['exponent-separator']) {\n                        return subpicture.substring(ii + 1);\n                    }\n                }\n            })();\n            var activePart = subpicture.substring(prefix.length, subpicture.length - suffix.length);\n            var mantissaPart, exponentPart, integerPart, fractionalPart;\n            var exponentPosition = subpicture.indexOf(properties['exponent-separator'], prefix.length);\n            if (exponentPosition === -1 || exponentPosition > subpicture.length - suffix.length) {\n                mantissaPart = activePart;\n                exponentPart = undefined;\n            } else {\n                mantissaPart = activePart.substring(0, exponentPosition);\n                exponentPart = activePart.substring(exponentPosition + 1);\n            }\n            var decimalPosition = mantissaPart.indexOf(properties['decimal-separator']);\n            if (decimalPosition === -1) {\n                integerPart = mantissaPart;\n                fractionalPart = suffix;\n            } else {\n                integerPart = mantissaPart.substring(0, decimalPosition);\n                fractionalPart = mantissaPart.substring(decimalPosition + 1);\n            }\n            return {\n                prefix: prefix,\n                suffix: suffix,\n                activePart: activePart,\n                mantissaPart: mantissaPart,\n                exponentPart: exponentPart,\n                integerPart: integerPart,\n                fractionalPart: fractionalPart,\n                subpicture: subpicture\n            };\n        };\n\n        // validate the picture string, F&O 4.7.3\n        var validate = function (parts) {\n            var error;\n            var ii;\n            var subpicture = parts.subpicture;\n            var decimalPos = subpicture.indexOf(properties['decimal-separator']);\n            if (decimalPos !== subpicture.lastIndexOf(properties['decimal-separator'])) {\n                error = 'D3081';\n            }\n            if (subpicture.indexOf(properties.percent) !== subpicture.lastIndexOf(properties.percent)) {\n                error = 'D3082';\n            }\n            if (subpicture.indexOf(properties['per-mille']) !== subpicture.lastIndexOf(properties['per-mille'])) {\n                error = 'D3083';\n            }\n            if (subpicture.indexOf(properties.percent) !== -1 && subpicture.indexOf(properties['per-mille']) !== -1) {\n                error = 'D3084';\n            }\n            var valid = false;\n            for (ii = 0; ii < parts.mantissaPart.length; ii++) {\n                var ch = parts.mantissaPart.charAt(ii);\n                if (decimalDigitFamily.indexOf(ch) !== -1 || ch === properties.digit) {\n                    valid = true;\n                    break;\n                }\n            }\n            if (!valid) {\n                error = 'D3085';\n            }\n            var charTypes = parts.activePart.split('').map(function (char) {\n                return activeChars.indexOf(char) === -1 ? 'p' : 'a';\n            }).join('');\n            if (charTypes.indexOf('p') !== -1) {\n                error = 'D3086';\n            }\n            if (decimalPos !== -1) {\n                if (subpicture.charAt(decimalPos - 1) === properties['grouping-separator'] || subpicture.charAt(decimalPos + 1) === properties['grouping-separator']) {\n                    error = 'D3087';\n                }\n            } else if (parts.integerPart.charAt(parts.integerPart.length - 1) === properties['grouping-separator']) {\n                error = 'D3088';\n            }\n            if (subpicture.indexOf(properties['grouping-separator'] + properties['grouping-separator']) !== -1) {\n                error = 'D3089';\n            }\n            var optionalDigitPos = parts.integerPart.indexOf(properties.digit);\n            if (optionalDigitPos !== -1 && parts.integerPart.substring(0, optionalDigitPos).split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) > -1;\n            }).length > 0) {\n                error = 'D3090';\n            }\n            optionalDigitPos = parts.fractionalPart.lastIndexOf(properties.digit);\n            if (optionalDigitPos !== -1 && parts.fractionalPart.substring(optionalDigitPos).split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) > -1;\n            }).length > 0) {\n                error = 'D3091';\n            }\n            var exponentExists = (typeof parts.exponentPart === 'string');\n            if (exponentExists && parts.exponentPart.length > 0 && (subpicture.indexOf(properties.percent) !== -1 || subpicture.indexOf(properties['per-mille']) !== -1)) {\n                error = 'D3092';\n            }\n            if (exponentExists && (parts.exponentPart.length === 0 || parts.exponentPart.split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) === -1;\n            }).length > 0)) {\n                error = 'D3093';\n            }\n            if (error) {\n                throw {\n                    code: error,\n                    stack: (new Error()).stack\n                };\n            }\n        };\n\n        // analyse the picture string, F&O 4.7.4\n        var analyse = function (parts) {\n            var getGroupingPositions = function (part, toLeft) {\n                var positions = [];\n                var groupingPosition = part.indexOf(properties['grouping-separator']);\n                while (groupingPosition !== -1) {\n                    var charsToTheRight = (toLeft ? part.substring(0, groupingPosition) : part.substring(groupingPosition)).split('').filter(function (char) {\n                        return decimalDigitFamily.indexOf(char) !== -1 || char === properties.digit;\n                    }).length;\n                    positions.push(charsToTheRight);\n                    groupingPosition = parts.integerPart.indexOf(properties['grouping-separator'], groupingPosition + 1);\n                }\n                return positions;\n            };\n            var integerPartGroupingPositions = getGroupingPositions(parts.integerPart);\n            var regular = function (indexes) {\n                // are the grouping positions regular? i.e. same interval between each of them\n                if (indexes.length === 0) {\n                    return 0;\n                }\n                var gcd = function (a, b) {\n                    return b === 0 ? a : gcd(b, a % b);\n                };\n                // find the greatest common divisor of all the positions\n                var factor = indexes.reduce(gcd);\n                // is every position separated by this divisor? If so, it's regular\n                for (var index = 1; index <= indexes.length; index++) {\n                    if (indexes.indexOf(index * factor) === -1) {\n                        return 0;\n                    }\n                }\n                return factor;\n            };\n\n            var regularGrouping = regular(integerPartGroupingPositions);\n            var fractionalPartGroupingPositions = getGroupingPositions(parts.fractionalPart, true);\n\n            var minimumIntegerPartSize = parts.integerPart.split('').filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1;\n            }).length;\n            var scalingFactor = minimumIntegerPartSize;\n\n            var fractionalPartArray = parts.fractionalPart.split('');\n            var minimumFactionalPartSize = fractionalPartArray.filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1;\n            }).length;\n            var maximumFactionalPartSize = fractionalPartArray.filter(function (char) {\n                return decimalDigitFamily.indexOf(char) !== -1 || char === properties.digit;\n            }).length;\n            var exponentPresent = typeof parts.exponentPart === 'string';\n            if (minimumIntegerPartSize === 0 && maximumFactionalPartSize === 0) {\n                if (exponentPresent) {\n                    minimumFactionalPartSize = 1;\n                    maximumFactionalPartSize = 1;\n                } else {\n                    minimumIntegerPartSize = 1;\n                }\n            }\n            if (exponentPresent && minimumIntegerPartSize === 0 && parts.integerPart.indexOf(properties.digit) !== -1) {\n                minimumIntegerPartSize = 1;\n            }\n            if (minimumIntegerPartSize === 0 && minimumFactionalPartSize === 0) {\n                minimumFactionalPartSize = 1;\n            }\n            var minimumExponentSize = 0;\n            if (exponentPresent) {\n                minimumExponentSize = parts.exponentPart.split('').filter(function (char) {\n                    return decimalDigitFamily.indexOf(char) !== -1;\n                }).length;\n            }\n\n            return {\n                integerPartGroupingPositions: integerPartGroupingPositions,\n                regularGrouping: regularGrouping,\n                minimumIntegerPartSize: minimumIntegerPartSize,\n                scalingFactor: scalingFactor,\n                prefix: parts.prefix,\n                fractionalPartGroupingPositions: fractionalPartGroupingPositions,\n                minimumFactionalPartSize: minimumFactionalPartSize,\n                maximumFactionalPartSize: maximumFactionalPartSize,\n                minimumExponentSize: minimumExponentSize,\n                suffix: parts.suffix,\n                picture: parts.subpicture\n            };\n        };\n\n        var parts = subPictures.map(splitParts);\n        parts.forEach(validate);\n\n        var variables = parts.map(analyse);\n\n        var minus_sign = properties['minus-sign'];\n        var zero_digit = properties['zero-digit'];\n        var decimal_separator = properties['decimal-separator'];\n        var grouping_separator = properties['grouping-separator'];\n\n        if (variables.length === 1) {\n            variables.push(JSON.parse(JSON.stringify(variables[0])));\n            variables[1].prefix = minus_sign + variables[1].prefix;\n        }\n\n        // TODO cache the result of the analysis\n\n        // format the number\n        // bullet 1: TODO: NaN - not sure we'd ever get this in JSON\n        var pic;\n        // bullet 2:\n        if (value >= 0) {\n            pic = variables[0];\n        } else {\n            pic = variables[1];\n        }\n        var adjustedNumber;\n        // bullet 3:\n        if (pic.picture.indexOf(properties.percent) !== -1) {\n            adjustedNumber = value * 100;\n        } else if (pic.picture.indexOf(properties['per-mille']) !== -1) {\n            adjustedNumber = value * 1000;\n        } else {\n            adjustedNumber = value;\n        }\n        // bullet 4:\n        // TODO: infinity - not sure we'd ever get this in JSON\n        // bullet 5:\n        var mantissa, exponent;\n        if (pic.minimumExponentSize === 0) {\n            mantissa = adjustedNumber;\n        } else {\n            // mantissa * 10^exponent = adjustedNumber\n            var maxMantissa = Math.pow(10, pic.scalingFactor);\n            var minMantissa = Math.pow(10, pic.scalingFactor - 1);\n            mantissa = adjustedNumber;\n            exponent = 0;\n            while (mantissa < minMantissa) {\n                mantissa *= 10;\n                exponent -= 1;\n            }\n            while (mantissa > maxMantissa) {\n                mantissa /= 10;\n                exponent += 1;\n            }\n        }\n        // bullet 6:\n        var roundedNumber = round(mantissa, pic.maximumFactionalPartSize);\n        // bullet 7:\n        var makeString = function (value, dp) {\n            var str = Math.abs(value).toFixed(dp);\n            if (zero_digit !== '0') {\n                str = str.split('').map(function (digit) {\n                    if (digit >= '0' && digit <= '9') {\n                        return decimalDigitFamily[digit.charCodeAt(0) - 48];\n                    } else {\n                        return digit;\n                    }\n                }).join('');\n            }\n            return str;\n        };\n        var stringValue = makeString(roundedNumber, pic.maximumFactionalPartSize);\n        var decimalPos = stringValue.indexOf('.');\n        if (decimalPos === -1) {\n            stringValue = stringValue + decimal_separator;\n        } else {\n            stringValue = stringValue.replace('.', decimal_separator);\n        }\n        while (stringValue.charAt(0) === zero_digit) {\n            stringValue = stringValue.substring(1);\n        }\n        while (stringValue.charAt(stringValue.length - 1) === zero_digit) {\n            stringValue = stringValue.substring(0, stringValue.length - 1);\n        }\n        // bullets 8 & 9:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        var padLeft = pic.minimumIntegerPartSize - decimalPos;\n        var padRight = pic.minimumFactionalPartSize - (stringValue.length - decimalPos - 1);\n        stringValue = (padLeft > 0 ? new Array(padLeft + 1).join(zero_digit) : '') + stringValue;\n        stringValue = stringValue + (padRight > 0 ? new Array(padRight + 1).join(zero_digit) : '');\n        decimalPos = stringValue.indexOf(decimal_separator);\n        // bullet 10:\n        if (pic.regularGrouping > 0) {\n            var groupCount = Math.floor((decimalPos - 1) / pic.regularGrouping);\n            for (var group = 1; group <= groupCount; group++) {\n                stringValue = [stringValue.slice(0, decimalPos - group * pic.regularGrouping), grouping_separator, stringValue.slice(decimalPos - group * pic.regularGrouping)].join('');\n            }\n        } else {\n            pic.integerPartGroupingPositions.forEach(function (pos) {\n                stringValue = [stringValue.slice(0, decimalPos - pos), grouping_separator, stringValue.slice(decimalPos - pos)].join('');\n                decimalPos++;\n            });\n        }\n        // bullet 11:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        pic.fractionalPartGroupingPositions.forEach(function (pos) {\n            stringValue = [stringValue.slice(0, pos + decimalPos + 1), grouping_separator, stringValue.slice(pos + decimalPos + 1)].join('');\n        });\n        // bullet 12:\n        decimalPos = stringValue.indexOf(decimal_separator);\n        if (pic.picture.indexOf(decimal_separator) === -1 || decimalPos === stringValue.length - 1) {\n            stringValue = stringValue.substring(0, stringValue.length - 1);\n        }\n        // bullet 13:\n        if (typeof exponent !== 'undefined') {\n            var stringExponent = makeString(exponent, 0);\n            padLeft = pic.minimumExponentSize - stringExponent.length;\n            if (padLeft > 0) {\n                stringExponent = new Array(padLeft + 1).join(zero_digit) + stringExponent;\n            }\n            stringValue = stringValue + properties['exponent-separator'] + (exponent < 0 ? minus_sign : '') + stringExponent;\n        }\n        // bullet 14:\n        stringValue = pic.prefix + stringValue + pic.suffix;\n        return stringValue;\n    }\n\n    /**\n     * Converts a number to a string using a specified number base\n     * @param {number} value - the number to convert\n     * @param {number} [radix] - the number base; must be between 2 and 36. Defaults to 10\n     * @returns {string} - the converted string\n     */\n    function formatBase(value, radix) {\n        // undefined inputs always return undefined\n        if (typeof value === 'undefined') {\n            return undefined;\n        }\n\n        value = round(value);\n\n        if (typeof radix === 'undefined') {\n            radix = 10;\n        } else {\n            radix = round(radix);\n        }\n\n        if (radix < 2 || radix > 36) {\n            throw {\n                code: 'D3100',\n                stack: (new Error()).stack,\n                value: radix\n            };\n\n        }\n\n        var result = value.toString(radix);\n\n        return result;\n    }\n\n    /**\n     * Cast argument to number\n     * @param {Object} arg - Argument\n     * @returns {Number} numeric value of argument\n     */\n    function number(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (typeof arg === 'number') {\n            // already a number\n            result = arg;\n        } else if (typeof arg === 'string' && /^-?[0-9]+(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(arg) && !isNaN(parseFloat(arg)) && isFinite(arg)) {\n            result = parseFloat(arg);\n        } else if (typeof arg === 'string' && /^(0[xX][0-9A-Fa-f]+)|(0[oO][0-7]+)|(0[bB][0-1]+)$/.test(arg)) {\n            result = Number(arg);\n        } else if (arg === true) {\n            // boolean true casts to 1\n            result = 1;\n        } else if (arg === false) {\n            // boolean false casts to 0\n            result = 0;\n        } else {\n            throw {\n                code: \"D3030\",\n                value: arg,\n                stack: (new Error()).stack,\n                index: 1\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Absolute value of a number\n     * @param {Number} arg - Argument\n     * @returns {Number} absolute value of argument\n     */\n    function abs(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.abs(arg);\n        return result;\n    }\n\n    /**\n     * Rounds a number down to integer\n     * @param {Number} arg - Argument\n     * @returns {Number} rounded integer\n     */\n    function floor(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.floor(arg);\n        return result;\n    }\n\n    /**\n     * Rounds a number up to integer\n     * @param {Number} arg - Argument\n     * @returns {Number} rounded integer\n     */\n    function ceil(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.ceil(arg);\n        return result;\n    }\n\n    /**\n     * Round to half even\n     * @param {Number} arg - Argument\n     * @param {Number} [precision] - number of decimal places\n     * @returns {Number} rounded integer\n     */\n    function round(arg, precision) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (precision) {\n            // shift the decimal place - this needs to be done in a string since multiplying\n            // by a power of ten can introduce floating point precision errors which mess up\n            // this rounding algorithm - See 'Decimal rounding' in\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round\n            // Shift\n            var value = arg.toString().split('e');\n            arg = +(value[0] + 'e' + (value[1] ? (+value[1] + precision) : precision));\n\n        }\n\n        // round up to nearest int\n        result = Math.round(arg);\n        var diff = result - arg;\n        if (Math.abs(diff) === 0.5 && Math.abs(result % 2) === 1) {\n            // rounded the wrong way - adjust to nearest even number\n            result = result - 1;\n        }\n        if (precision) {\n            // Shift back\n            value = result.toString().split('e');\n            /* istanbul ignore next */\n            result = +(value[0] + 'e' + (value[1] ? (+value[1] - precision) : -precision));\n        }\n        if (Object.is(result, -0)) { // ESLint rule 'no-compare-neg-zero' suggests this way\n            // JSON doesn't do -0\n            result = 0;\n        }\n        return result;\n    }\n\n    /**\n     * Square root of number\n     * @param {Number} arg - Argument\n     * @returns {Number} square root\n     */\n    function sqrt(arg) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        if (arg < 0) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3060\",\n                index: 1,\n                value: arg\n            };\n        }\n\n        result = Math.sqrt(arg);\n\n        return result;\n    }\n\n    /**\n     * Raises number to the power of the second number\n     * @param {Number} arg - the base\n     * @param {Number} exp - the exponent\n     * @returns {Number} rounded integer\n     */\n    function power(arg, exp) {\n        var result;\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        result = Math.pow(arg, exp);\n\n        if (!isFinite(result)) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3061\",\n                index: 1,\n                value: arg,\n                exp: exp\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns a random number 0 <= n < 1\n     * @returns {number} random number\n     */\n    function random() {\n        return Math.random();\n    }\n\n    /**\n     * Evaluate an input and return a boolean\n     * @param {*} arg - Arguments\n     * @returns {boolean} Boolean\n     */\n    function boolean(arg) {\n        // cast arg to its effective boolean value\n        // boolean: unchanged\n        // string: zero-length -> false; otherwise -> true\n        // number: 0 -> false; otherwise -> true\n        // null -> false\n        // array: empty -> false; length > 1 -> true\n        // object: empty -> false; non-empty -> true\n        // function -> false\n\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var result = false;\n        if (Array.isArray(arg)) {\n            if (arg.length === 1) {\n                result = boolean(arg[0]);\n            } else if (arg.length > 1) {\n                var trues = arg.filter(function (val) {\n                    return boolean(val);\n                });\n                result = trues.length > 0;\n            }\n        } else if (typeof arg === 'string') {\n            if (arg.length > 0) {\n                result = true;\n            }\n        } else if (isNumeric(arg)) {\n            if (arg !== 0) {\n                result = true;\n            }\n        } else if (arg !== null && typeof arg === 'object') {\n            if (Object.keys(arg).length > 0) {\n                result = true;\n            }\n        } else if (typeof arg === 'boolean' && arg === true) {\n            result = true;\n        }\n        return result;\n    }\n\n    /**\n     * returns the Boolean NOT of the arg\n     * @param {*} arg - argument\n     * @returns {boolean} - NOT arg\n     */\n    function not(arg) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        return !boolean(arg);\n    }\n\n    /**\n     * Helper function to build the arguments to be supplied to the function arg of the\n     * HOFs map, filter, each, sift and single\n     * @param {function} func - the function to be invoked\n     * @param {*} arg1 - the first (required) arg - the value\n     * @param {*} arg2 - the second (optional) arg - the position (index or key)\n     * @param {*} arg3 - the third (optional) arg - the whole structure (array or object)\n     * @returns {*[]} the argument list\n     */\n    function hofFuncArgs(func, arg1, arg2, arg3) {\n        var func_args = [arg1]; // the first arg (the value) is required\n        // the other two are optional - only supply it if the function can take it\n        var length = getFunctionArity(func);\n        if (length >= 2) {\n            func_args.push(arg2);\n        }\n        if (length >= 3) {\n            func_args.push(arg3);\n        }\n        return func_args;\n    }\n\n    /**\n     * Create a map from an array of arguments\n     * @param {Array} [arr] - array to map over\n     * @param {Function} func - function to apply\n     * @returns {Array} Map array\n     */\n    async function map(arr, func) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var result = createSequence();\n        // do the map - iterate over the arrays, and invoke func\n        for (var i = 0; i < arr.length; i++) {\n            var func_args = hofFuncArgs(func, arr[i], i, arr);\n            // invoke func\n            var res = await func.apply(this, func_args);\n            if (typeof res !== 'undefined') {\n                result.push(res);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Create a map from an array of arguments\n     * @param {Array} [arr] - array to filter\n     * @param {Function} func - predicate function\n     * @returns {Array} Map array\n     */\n    async function filter(arr, func) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var result = createSequence();\n\n        for (var i = 0; i < arr.length; i++) {\n            var entry = arr[i];\n            var func_args = hofFuncArgs(func, entry, i, arr);\n            // invoke func\n            var res = await func.apply(this, func_args);\n            if (boolean(res)) {\n                result.push(entry);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Given an array, find the single element matching a specified condition\n     * Throws an exception if the number of matching elements is not exactly one\n     * @param {Array} [arr] - array to filter\n     * @param {Function} [func] - predicate function\n     * @returns {*} Matching element\n     */\n    async function single(arr, func) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        var hasFoundMatch = false;\n        var result;\n\n        for (var i = 0; i < arr.length; i++) {\n            var entry = arr[i];\n            var positiveResult = true;\n            if (typeof func !== 'undefined') {\n                var func_args = hofFuncArgs(func, entry, i, arr);\n                // invoke func\n                var res = await func.apply(this, func_args);\n                positiveResult = boolean(res);\n            }\n            if (positiveResult) {\n                if(!hasFoundMatch) {\n                    result = entry;\n                    hasFoundMatch = true;\n                } else {\n                    throw {\n                        stack: (new Error()).stack,\n                        code: \"D3138\",\n                        index: i\n                    };\n                }\n            }\n        }\n\n        if(!hasFoundMatch) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3139\"\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Convolves (zips) each value from a set of arrays\n     * @param {Array} [args] - arrays to zip\n     * @returns {Array} Zipped array\n     */\n    function zip() {\n        // this can take a variable number of arguments\n        var result = [];\n        var args = Array.prototype.slice.call(arguments);\n        // length of the shortest array\n        var length = Math.min.apply(Math, args.map(function (arg) {\n            if (Array.isArray(arg)) {\n                return arg.length;\n            }\n            return 0;\n        }));\n        for (var i = 0; i < length; i++) {\n            var tuple = args.map((arg) => {\n                return arg[i];\n            });\n            result.push(tuple);\n        }\n        return result;\n    }\n\n    /**\n     * Fold left function\n     * @param {Array} sequence - Sequence\n     * @param {Function} func - Function\n     * @param {Object} init - Initial value\n     * @returns {*} Result\n     */\n    async function foldLeft(sequence, func, init) {\n        // undefined inputs always return undefined\n        if (typeof sequence === 'undefined') {\n            return undefined;\n        }\n\n        var result;\n\n        var arity = getFunctionArity(func);\n        if (arity < 2) {\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3050\",\n                index: 1\n            };\n        }\n\n        var index;\n        if (typeof init === 'undefined' && sequence.length > 0) {\n            result = sequence[0];\n            index = 1;\n        } else {\n            result = init;\n            index = 0;\n        }\n\n        while (index < sequence.length) {\n            var args = [result, sequence[index]];\n            if (arity >= 3) {\n                args.push(index);\n            }\n            if (arity >= 4) {\n                args.push(sequence);\n            }\n            result = await func.apply(this, args);\n            index++;\n        }\n\n        return result;\n    }\n\n    /**\n     * Return keys for an object\n     * @param {Object} arg - Object\n     * @returns {Array} Array of keys\n     */\n    function keys(arg) {\n        var result = createSequence();\n\n        if (Array.isArray(arg)) {\n            // merge the keys of all of the items in the array\n            var merge = {};\n            arg.forEach(function (item) {\n                var allkeys = keys(item);\n                allkeys.forEach(function (key) {\n                    merge[key] = true;\n                });\n            });\n            result = keys(merge);\n        } else if (arg !== null && typeof arg === 'object' && !isFunction(arg)) {\n            Object.keys(arg).forEach(key => result.push(key));\n        }\n        return result;\n    }\n\n    /**\n     * Return value from an object for a given key\n     * @param {Object} input - Object/Array\n     * @param {String} key - Key in object\n     * @returns {*} Value of key in object\n     */\n    function lookup(input, key) {\n        // lookup the 'name' item in the input\n        var result;\n        if (Array.isArray(input)) {\n            result = createSequence();\n            for(var ii = 0; ii < input.length; ii++) {\n                var res =  lookup(input[ii], key);\n                if (typeof res !== 'undefined') {\n                    if (Array.isArray(res)) {\n                        res.forEach(val => result.push(val));\n                    } else {\n                        result.push(res);\n                    }\n                }\n            }\n        } else if (input !== null && typeof input === 'object' && !isFunction(input)) {\n            result = input[key];\n        }\n        return result;\n    }\n\n    /**\n     * Append second argument to first\n     * @param {Array|Object} arg1 - First argument\n     * @param {Array|Object} arg2 - Second argument\n     * @returns {*} Appended arguments\n     */\n    function append(arg1, arg2) {\n        // disregard undefined args\n        if (typeof arg1 === 'undefined') {\n            return arg2;\n        }\n        if (typeof arg2 === 'undefined') {\n            return arg1;\n        }\n        // if either argument is not an array, make it so\n        if (!Array.isArray(arg1)) {\n            arg1 = createSequence(arg1);\n        }\n        if (!Array.isArray(arg2)) {\n            arg2 = [arg2];\n        }\n        return arg1.concat(arg2);\n    }\n\n    /**\n     * Determines if the argument is undefined\n     * @param {*} arg - argument\n     * @returns {boolean} False if argument undefined, otherwise true\n     */\n    function exists(arg) {\n        if (typeof arg === 'undefined') {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    /**\n     * Splits an object into an array of object with one property each\n     * @param {*} arg - the object to split\n     * @returns {*} - the array\n     */\n    function spread(arg) {\n        var result = createSequence();\n\n        if (Array.isArray(arg)) {\n            // spread all of the items in the array\n            arg.forEach(function (item) {\n                result = append(result, spread(item));\n            });\n        } else if (arg !== null && typeof arg === 'object' && !isLambda(arg)) {\n            for (var key in arg) {\n                var obj = {};\n                obj[key] = arg[key];\n                result.push(obj);\n            }\n        } else {\n            result = arg;\n        }\n        return result;\n    }\n\n    /**\n     * Merges an array of objects into a single object.  Duplicate properties are\n     * overridden by entries later in the array\n     * @param {*} arg - the objects to merge\n     * @returns {*} - the object\n     */\n    function merge(arg) {\n        // undefined inputs always return undefined\n        if (typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        var result = {};\n\n        arg.forEach(function (obj) {\n            for (var prop in obj) {\n                result[prop] = obj[prop];\n            }\n        });\n        return result;\n    }\n\n    /**\n     * Reverses the order of items in an array\n     * @param {Array} arr - the array to reverse\n     * @returns {Array} - the reversed array\n     */\n    function reverse(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        var length = arr.length;\n        var result = new Array(length);\n        for (var i = 0; i < length; i++) {\n            result[length - i - 1] = arr[i];\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * @param {*} obj - the input object to iterate over\n     * @param {*} func - the function to apply to each key/value pair\n     * @returns {Array} - the resultant array\n     */\n    async function each(obj, func) {\n        var result = createSequence();\n\n        for (var key in obj) {\n            var func_args = hofFuncArgs(func, obj[key], key, obj);\n            // invoke func\n            var val = await func.apply(this, func_args);\n            if(typeof val !== 'undefined') {\n                result.push(val);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     *\n     * @param {string} [message] - the message to attach to the error\n     * @throws custom error with code 'D3137'\n     */\n    function error(message) {\n        throw {\n            code: \"D3137\",\n            stack: (new Error()).stack,\n            message: message || \"$error() function evaluated\"\n        };\n    }\n\n    /**\n     *\n     * @param {boolean} condition - the condition to evaluate\n     * @param {string} [message] - the message to attach to the error\n     * @throws custom error with code 'D3137'\n     * @returns {undefined}\n     */\n    function assert(condition, message) {\n        if(!condition) {\n            throw {\n                code: \"D3141\",\n                stack: (new Error()).stack,\n                message: message || \"$assert() statement failed\"\n            };\n        }\n\n        return undefined;\n    }\n\n    /**\n     *\n     * @param {*} [value] - the input to which the type will be checked\n     * @returns {string} - the type of the input\n     */\n    function type(value) {\n        if (value === undefined) {\n            return undefined;\n        }\n\n        if (value === null) {\n            return 'null';\n        }\n\n        if (isNumeric(value)) {\n            return 'number';\n        }\n\n        if (typeof value === 'string') {\n            return 'string';\n        }\n\n        if (typeof value === 'boolean') {\n            return 'boolean';\n        }\n\n        if(Array.isArray(value)) {\n            return 'array';\n        }\n\n        if(isFunction(value)) {\n            return 'function';\n        }\n\n        return 'object';\n    }\n\n    /**\n     * Implements the merge sort (stable) with optional comparator function\n     *\n     * @param {Array} arr - the array to sort\n     * @param {*} comparator - comparator function\n     * @returns {Array} - sorted array\n     */\n    async function sort(arr, comparator) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        var comp;\n        if (typeof comparator === 'undefined') {\n            // inject a default comparator - only works for numeric or string arrays\n            if (!isArrayOfNumbers(arr) && !isArrayOfStrings(arr)) {\n                throw {\n                    stack: (new Error()).stack,\n                    code: \"D3070\",\n                    index: 1\n                };\n            }\n\n            comp = async function (a, b) {\n                return a > b;\n            };\n        } else {\n            // for internal usage of functionSort (i.e. order-by syntax)\n            comp = comparator;\n        }\n\n        var merge = async function (l, r) {\n            var merge_iter = async function (result, left, right) {\n                if (left.length === 0) {\n                    Array.prototype.push.apply(result, right);\n                } else if (right.length === 0) {\n                    Array.prototype.push.apply(result, left);\n                } else if (await comp(left[0], right[0])) { // invoke the comparator function\n                    // if it returns true - swap left and right\n                    result.push(right[0]);\n                    await merge_iter(result, left, right.slice(1));\n                } else {\n                    // otherwise keep the same order\n                    result.push(left[0]);\n                    await merge_iter(result, left.slice(1), right);\n                }\n            };\n            var merged = [];\n            await merge_iter(merged, l, r);\n            return merged;\n        };\n\n        var msort = async function (array) {\n            if (!Array.isArray(array) || array.length <= 1) {\n                return array;\n            } else {\n                var middle = Math.floor(array.length / 2);\n                var left = array.slice(0, middle);\n                var right = array.slice(middle);\n                left = await msort(left);\n                right = await msort(right);\n                return await merge(left, right);\n            }\n        };\n\n        var result = await msort(arr);\n\n        return result;\n    }\n\n    /**\n     * Randomly shuffles the contents of an array\n     * @param {Array} arr - the input array\n     * @returns {Array} the shuffled array\n     */\n    function shuffle(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if (arr.length <= 1) {\n            return arr;\n        }\n\n        // shuffle using the 'inside-out' variant of the Fisher-Yates algorithm\n        var result = new Array(arr.length);\n        for (var i = 0; i < arr.length; i++) {\n            var j = Math.floor(Math.random() * (i + 1)); // random integer such that 0  j  i\n            if (i !== j) {\n                result[i] = result[j];\n            }\n            result[j] = arr[i];\n        }\n\n        return result;\n    }\n\n    /**\n     * Returns the values that appear in a sequence, with duplicates eliminated.\n     * @param {Array} arr - An array or sequence of values\n     * @returns {Array} - sequence of distinct values\n     */\n    function distinct(arr) {\n        // undefined inputs always return undefined\n        if (typeof arr === 'undefined') {\n            return undefined;\n        }\n\n        if(!Array.isArray(arr) || arr.length <= 1) {\n            return arr;\n        }\n\n        var results = isSequence(arr) ? createSequence() : [];\n\n        for(var ii = 0; ii < arr.length; ii++) {\n            var value = arr[ii];\n            // is this value already in the result sequence?\n            var includes = false;\n            for(var jj = 0; jj < results.length; jj++) {\n                if (deepEquals(value, results[jj])) {\n                    includes = true;\n                    break;\n                }\n            }\n            if(!includes) {\n                results.push(value);\n            }\n        }\n        return results;\n    }\n\n    /**\n     * Applies a predicate function to each key/value pair in an object, and returns an object containing\n     * only the key/value pairs that passed the predicate\n     *\n     * @param {object} arg - the object to be sifted\n     * @param {object} func - the predicate function (lambda or native)\n     * @returns {object} - sifted object\n     */\n    async function sift(arg, func) {\n        var result = {};\n\n        for (var item in arg) {\n            var entry = arg[item];\n            var func_args = hofFuncArgs(func, entry, item, arg);\n            // invoke func\n            var res = await func.apply(this, func_args);\n            if (boolean(res)) {\n                result[item] = entry;\n            }\n        }\n\n        // empty objects should be changed to undefined\n        if (Object.keys(result).length === 0) {\n            result = undefined;\n        }\n\n        return result;\n    }\n\n    return {\n        sum, count, max, min, average,\n        string, substring, substringBefore, substringAfter, lowercase, uppercase, length, trim, pad,\n        match, contains, replace, split, join,\n        formatNumber, formatBase, number, floor, ceil, round, abs, sqrt, power, random,\n        boolean, not,\n        map, zip, filter, single, foldLeft, sift,\n        keys, lookup, append, exists, spread, merge, reverse, each, error, assert, type, sort, shuffle, distinct,\n        base64encode, base64decode,  encodeUrlComponent, encodeUrl, decodeUrlComponent, decodeUrl\n    };\n})();\n\nmodule.exports = functions;\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./utils\":6}],3:[function(require,module,exports){\n/**\n *  Copyright IBM Corp. 2016, 2017 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\n/**\n * @module JSONata\n * @description JSON query and transformation language\n */\n\nvar datetime = require('./datetime');\nvar fn = require('./functions');\nvar utils = require('./utils');\nvar parser = require('./parser');\nvar parseSignature = require('./signature');\n\n/**\n * jsonata\n * @function\n * @param {Object} expr - JSONata expression\n * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\n */\nvar jsonata = (function() {\n    'use strict';\n\n    var isNumeric = utils.isNumeric;\n    var isArrayOfStrings = utils.isArrayOfStrings;\n    var isArrayOfNumbers = utils.isArrayOfNumbers;\n    var createSequence = utils.createSequence;\n    var isSequence = utils.isSequence;\n    var isFunction = utils.isFunction;\n    var isLambda = utils.isLambda;\n    var isIterable = utils.isIterable;\n    var isPromise = utils.isPromise;\n    var getFunctionArity = utils.getFunctionArity;\n    var isDeepEqual = utils.isDeepEqual;\n\n    // Start of Evaluator code\n\n    var staticFrame = createFrame(null);\n\n    /**\n     * Evaluate expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluate(expr, input, environment) {\n        var result;\n\n        var entryCallback = environment.lookup('__evaluate_entry');\n        if(entryCallback) {\n            await entryCallback(expr, input, environment);\n        }\n\n        switch (expr.type) {\n            case 'path':\n                result = await evaluatePath(expr, input, environment);\n                break;\n            case 'binary':\n                result = await evaluateBinary(expr, input, environment);\n                break;\n            case 'unary':\n                result = await evaluateUnary(expr, input, environment);\n                break;\n            case 'name':\n                result = evaluateName(expr, input, environment);\n                break;\n            case 'string':\n            case 'number':\n            case 'value':\n                result = evaluateLiteral(expr, input, environment);\n                break;\n            case 'wildcard':\n                result = evaluateWildcard(expr, input, environment);\n                break;\n            case 'descendant':\n                result = evaluateDescendants(expr, input, environment);\n                break;\n            case 'parent':\n                result = environment.lookup(expr.slot.label);\n                break;\n            case 'condition':\n                result = await evaluateCondition(expr, input, environment);\n                break;\n            case 'block':\n                result = await evaluateBlock(expr, input, environment);\n                break;\n            case 'bind':\n                result = await evaluateBindExpression(expr, input, environment);\n                break;\n            case 'regex':\n                result = evaluateRegex(expr, input, environment);\n                break;\n            case 'function':\n                result = await evaluateFunction(expr, input, environment);\n                break;\n            case 'variable':\n                result = evaluateVariable(expr, input, environment);\n                break;\n            case 'lambda':\n                result = evaluateLambda(expr, input, environment);\n                break;\n            case 'partial':\n                result = await evaluatePartialApplication(expr, input, environment);\n                break;\n            case 'apply':\n                result = await evaluateApplyExpression(expr, input, environment);\n                break;\n            case 'transform':\n                result = evaluateTransformExpression(expr, input, environment);\n                break;\n        }\n\n        if (Object.prototype.hasOwnProperty.call(expr, 'predicate')) {\n            for(var ii = 0; ii < expr.predicate.length; ii++) {\n                result = await evaluateFilter(expr.predicate[ii].expr, result, environment);\n            }\n        }\n\n        if (expr.type !== 'path' && Object.prototype.hasOwnProperty.call(expr, 'group')) {\n            result = await evaluateGroupExpression(expr.group, result, environment);\n        }\n\n        var exitCallback = environment.lookup('__evaluate_exit');\n        if(exitCallback) {\n            await exitCallback(expr, input, environment, result);\n        }\n\n        if(result && isSequence(result) && !result.tupleStream) {\n            if(expr.keepArray) {\n                result.keepSingleton = true;\n            }\n            if(result.length === 0) {\n                result = undefined;\n            } else if(result.length === 1) {\n                result =  result.keepSingleton ? result : result[0];\n            }\n\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate path expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluatePath(expr, input, environment) {\n        var inputSequence;\n        // expr is an array of steps\n        // if the first step is a variable reference ($...), including root reference ($$),\n        //   then the path is absolute rather than relative\n        if (Array.isArray(input) && expr.steps[0].type !== 'variable') {\n            inputSequence = input;\n        } else {\n            // if input is not an array, make it so\n            inputSequence = createSequence(input);\n        }\n\n        var resultSequence;\n        var isTupleStream = false;\n        var tupleBindings = undefined;\n\n        // evaluate each step in turn\n        for(var ii = 0; ii < expr.steps.length; ii++) {\n            var step = expr.steps[ii];\n\n            if(step.tuple) {\n                isTupleStream = true;\n            }\n\n            // if the first step is an explicit array constructor, then just evaluate that (i.e. don't iterate over a context array)\n            if(ii === 0 && step.consarray) {\n                resultSequence = await evaluate(step, inputSequence, environment);\n            } else {\n                if(isTupleStream) {\n                    tupleBindings = await evaluateTupleStep(step, inputSequence, tupleBindings, environment);\n                } else {\n                    resultSequence = await evaluateStep(step, inputSequence, environment, ii === expr.steps.length - 1);\n                }\n            }\n\n            if (!isTupleStream && (typeof resultSequence === 'undefined' || resultSequence.length === 0)) {\n                break;\n            }\n\n            if(typeof step.focus === 'undefined') {\n                inputSequence = resultSequence;\n            }\n\n        }\n\n        if(isTupleStream) {\n            if(expr.tuple) {\n                // tuple stream is carrying ancestry information - keep this\n                resultSequence = tupleBindings;\n            } else {\n                resultSequence = createSequence();\n                for (ii = 0; ii < tupleBindings.length; ii++) {\n                    resultSequence.push(tupleBindings[ii]['@']);\n                }\n            }\n        }\n\n        if(expr.keepSingletonArray) {\n            // if the array is explicitly constructed in the expression and marked to promote singleton sequences to array\n            if(Array.isArray(resultSequence) && resultSequence.cons && !resultSequence.sequence) {\n                resultSequence = createSequence(resultSequence);\n            }\n            resultSequence.keepSingleton = true;\n        }\n\n        if (expr.hasOwnProperty('group')) {\n            resultSequence = await evaluateGroupExpression(expr.group, isTupleStream ? tupleBindings : resultSequence, environment)\n        }\n\n        return resultSequence;\n    }\n\n    function createFrameFromTuple(environment, tuple) {\n        var frame = createFrame(environment);\n        for(const prop in tuple) {\n            frame.bind(prop, tuple[prop]);\n        }\n        return frame;\n    }\n\n    /**\n     * Evaluate a step within a path\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @param {boolean} lastStep - flag the last step in a path\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateStep(expr, input, environment, lastStep) {\n        var result;\n        if(expr.type === 'sort') {\n             result = await evaluateSortExpression(expr, input, environment);\n             if(expr.stages) {\n                 result = await evaluateStages(expr.stages, result, environment);\n             }\n             return result;\n        }\n\n        result = createSequence();\n\n        for(var ii = 0; ii < input.length; ii++) {\n            var res = await evaluate(expr, input[ii], environment);\n            if(expr.stages) {\n                for(var ss = 0; ss < expr.stages.length; ss++) {\n                    res = await evaluateFilter(expr.stages[ss].expr, res, environment);\n                }\n            }\n            if(typeof res !== 'undefined') {\n                result.push(res);\n            }\n        }\n\n        var resultSequence = createSequence();\n        if(lastStep && result.length === 1 && Array.isArray(result[0]) && !isSequence(result[0])) {\n            resultSequence = result[0];\n        } else {\n            // flatten the sequence\n            result.forEach(function(res) {\n                if (!Array.isArray(res) || res.cons) {\n                    // it's not an array - just push into the result sequence\n                    resultSequence.push(res);\n                } else {\n                    // res is a sequence - flatten it into the parent sequence\n                    res.forEach(val => resultSequence.push(val));\n                }\n            });\n        }\n\n        return resultSequence;\n    }\n\n    async function evaluateStages(stages, input, environment) {\n        var result = input;\n        for(var ss = 0; ss < stages.length; ss++) {\n            var stage = stages[ss];\n            switch(stage.type) {\n                case 'filter':\n                    result = await evaluateFilter(stage.expr, result, environment);\n                    break;\n                case 'index':\n                    for(var ee = 0; ee < result.length; ee++) {\n                        var tuple = result[ee];\n                        tuple[stage.value] = ee;\n                    }\n                    break;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate a step within a path\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} tupleBindings - The tuple stream\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateTupleStep(expr, input, tupleBindings, environment) {\n        var result;\n        if(expr.type === 'sort') {\n            if(tupleBindings) {\n                result = await evaluateSortExpression(expr, tupleBindings, environment);\n            } else {\n                var sorted = await evaluateSortExpression(expr, input, environment);\n                result = createSequence();\n                result.tupleStream = true;\n                for(var ss = 0; ss < sorted.length; ss++) {\n                    var tuple = {'@': sorted[ss]};\n                    tuple[expr.index] = ss;\n                    result.push(tuple);\n                }\n            }\n            if(expr.stages) {\n                result = await evaluateStages(expr.stages, result, environment);\n            }\n            return result;\n        }\n\n        result = createSequence();\n        result.tupleStream = true;\n        var stepEnv = environment;\n        if(tupleBindings === undefined) {\n            tupleBindings = input.map(item => { return {'@': item} });\n        }\n\n        for(var ee = 0; ee < tupleBindings.length; ee++) {\n            stepEnv = createFrameFromTuple(environment, tupleBindings[ee]);\n            var res = await evaluate(expr, tupleBindings[ee]['@'], stepEnv);\n            // res is the binding sequence for the output tuple stream\n            if(typeof res !== 'undefined') {\n                if (!Array.isArray(res)) {\n                    res = [res];\n                }\n                for (var bb = 0; bb < res.length; bb++) {\n                    tuple = {};\n                    Object.assign(tuple, tupleBindings[ee]);\n                    if(res.tupleStream) {\n                        Object.assign(tuple, res[bb]);\n                    } else {\n                        if (expr.focus) {\n                            tuple[expr.focus] = res[bb];\n                            tuple['@'] = tupleBindings[ee]['@'];\n                        } else {\n                            tuple['@'] = res[bb];\n                        }\n                        if (expr.index) {\n                            tuple[expr.index] = bb;\n                        }\n                        if (expr.ancestor) {\n                            tuple[expr.ancestor.label] = tupleBindings[ee]['@'];\n                        }\n                    }\n                    result.push(tuple);\n                }\n            }\n        }\n\n        if(expr.stages) {\n            result = await evaluateStages(expr.stages, result, environment);\n        }\n\n        return result;\n    }\n\n    /**\n     * Apply filter predicate to input data\n     * @param {Object} predicate - filter expression\n     * @param {Object} input - Input data to apply predicates against\n     * @param {Object} environment - Environment\n     * @returns {*} Result after applying predicates\n     */\n    async function evaluateFilter(predicate, input, environment) {\n        var results = createSequence();\n        if( input && input.tupleStream) {\n            results.tupleStream = true;\n        }\n        if (!Array.isArray(input)) {\n            input = createSequence(input);\n        }\n        if (predicate.type === 'number') {\n            var index = Math.floor(predicate.value);  // round it down\n            if (index < 0) {\n                // count in from end of array\n                index = input.length + index;\n            }\n            var item = input[index];\n            if(typeof item !== 'undefined') {\n                if(Array.isArray(item)) {\n                    results = item;\n                } else {\n                    results.push(item);\n                }\n            }\n        } else {\n            for (index = 0; index < input.length; index++) {\n                var item = input[index];\n                var context = item;\n                var env = environment;\n                if(input.tupleStream) {\n                    context = item['@'];\n                    env = createFrameFromTuple(environment, item);\n                }\n                var res = await evaluate(predicate, context, env);\n                if (isNumeric(res)) {\n                    res = [res];\n                }\n                if (isArrayOfNumbers(res)) {\n                    res.forEach(function (ires) {\n                        // round it down\n                        var ii = Math.floor(ires);\n                        if (ii < 0) {\n                            // count in from end of array\n                            ii = input.length + ii;\n                        }\n                        if (ii === index) {\n                            results.push(item);\n                        }\n                    });\n                } else if (fn.boolean(res)) { // truthy\n                    results.push(item);\n                }\n            }\n        }\n        return results;\n    }\n\n    /**\n     * Evaluate binary expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateBinary(expr, input, environment) {\n        var result;\n        var lhs = await evaluate(expr.lhs, input, environment);\n        var op = expr.value;\n\n        //defer evaluation of RHS to allow short-circuiting\n        var evalrhs = async () => await evaluate(expr.rhs, input, environment);\n        if (op === \"and\" || op === \"or\") {\n            try {\n                return await evaluateBooleanExpression(lhs, evalrhs, op);\n            } catch(err) {\n                err.position = expr.position;\n                err.token = op;\n                throw err;\n            }\n        }\n\n        var rhs = await evalrhs();\n        try {\n            switch (op) {\n                case '+':\n                case '-':\n                case '*':\n                case '/':\n                case '%':\n                    result = evaluateNumericExpression(lhs, rhs, op);\n                    break;\n                case '=':\n                case '!=':\n                    result = evaluateEqualityExpression(lhs, rhs, op);\n                    break;\n                case '<':\n                case '<=':\n                case '>':\n                case '>=':\n                    result = evaluateComparisonExpression(lhs, rhs, op);\n                    break;\n                case '&':\n                    result = evaluateStringConcat(lhs, rhs);\n                    break;\n                case '..':\n                    result = evaluateRangeExpression(lhs, rhs);\n                    break;\n                case 'in':\n                    result = evaluateIncludesExpression(lhs, rhs);\n                    break;\n            }\n        } catch(err) {\n            err.position = expr.position;\n            err.token = op;\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate unary expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateUnary(expr, input, environment) {\n        var result;\n\n        switch (expr.value) {\n            case '-':\n                result = await evaluate(expr.expression, input, environment);\n                if(typeof result === 'undefined') {\n                    result = undefined;\n                } else if (isNumeric(result)) {\n                    result = -result;\n                } else {\n                    throw {\n                        code: \"D1002\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        token: expr.value,\n                        value: result\n                    };\n                }\n                break;\n            case '[':\n                // array constructor - evaluate each item\n                result = [];\n                let generators = await Promise.all(expr.expressions\n                    .map(async (item, idx) => {\n                        environment.isParallelCall = idx > 0\n                        return [item, await evaluate(item, input, environment)]\n                    }));\n                for (let generator of generators) {\n                    var [item, value] = generator;\n                    if (typeof value !== 'undefined') {\n                        if(item.value === '[') {\n                            result.push(value);\n                        } else {\n                            result = fn.append(result, value);\n                        }\n                    }\n                }\n                if(expr.consarray) {\n                    Object.defineProperty(result, 'cons', {\n                        enumerable: false,\n                        configurable: false,\n                        value: true\n                    });\n                }\n                break;\n            case '{':\n                // object constructor - apply grouping\n                result = await evaluateGroupExpression(expr, input, environment);\n                break;\n\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate name object against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function evaluateName(expr, input, environment) {\n        // lookup the 'name' item in the input\n        return fn.lookup(input, expr.value);\n    }\n\n    /**\n     * Evaluate literal against input data\n     * @param {Object} expr - JSONata expression\n     * @returns {*} Evaluated input data\n     */\n    function evaluateLiteral(expr) {\n        return expr.value;\n    }\n\n    /**\n     * Evaluate wildcard against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @returns {*} Evaluated input data\n     */\n    function evaluateWildcard(expr, input) {\n        var results = createSequence();\n        if (Array.isArray(input) && input.outerWrapper && input.length > 0) {\n            input = input[0];\n        }\n        if (input !== null && typeof input === 'object') {\n            Object.keys(input).forEach(function (key) {\n                var value = input[key];\n                if(Array.isArray(value)) {\n                    value = flatten(value);\n                    results = fn.append(results, value);\n                } else {\n                    results.push(value);\n                }\n            });\n        }\n\n        //        result = normalizeSequence(results);\n        return results;\n    }\n\n    /**\n     * Returns a flattened array\n     * @param {Array} arg - the array to be flatten\n     * @param {Array} flattened - carries the flattened array - if not defined, will initialize to []\n     * @returns {Array} - the flattened array\n     */\n    function flatten(arg, flattened) {\n        if(typeof flattened === 'undefined') {\n            flattened = [];\n        }\n        if(Array.isArray(arg)) {\n            arg.forEach(function (item) {\n                flatten(item, flattened);\n            });\n        } else {\n            flattened.push(arg);\n        }\n        return flattened;\n    }\n\n    /**\n     * Evaluate descendants against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @returns {*} Evaluated input data\n     */\n    function evaluateDescendants(expr, input) {\n        var result;\n        var resultSequence = createSequence();\n        if (typeof input !== 'undefined') {\n            // traverse all descendants of this object/array\n            recurseDescendants(input, resultSequence);\n            if (resultSequence.length === 1) {\n                result = resultSequence[0];\n            } else {\n                result = resultSequence;\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Recurse through descendants\n     * @param {Object} input - Input data\n     * @param {Object} results - Results\n     */\n    function recurseDescendants(input, results) {\n        // this is the equivalent of //* in XPath\n        if (!Array.isArray(input)) {\n            results.push(input);\n        }\n        if (Array.isArray(input)) {\n            input.forEach(function (member) {\n                recurseDescendants(member, results);\n            });\n        } else if (input !== null && typeof input === 'object') {\n            Object.keys(input).forEach(function (key) {\n                recurseDescendants(input[key], results);\n            });\n        }\n    }\n\n    /**\n     * Evaluate numeric expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateNumericExpression(lhs, rhs, op) {\n        var result;\n\n        if (typeof lhs !== 'undefined' && !isNumeric(lhs)) {\n            throw {\n                code: \"T2001\",\n                stack: (new Error()).stack,\n                value: lhs\n            };\n        }\n        if (typeof rhs !== 'undefined' && !isNumeric(rhs)) {\n            throw {\n                code: \"T2002\",\n                stack: (new Error()).stack,\n                value: rhs\n            };\n        }\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is undefined\n            return result;\n        }\n\n        switch (op) {\n            case '+':\n                result = lhs + rhs;\n                break;\n            case '-':\n                result = lhs - rhs;\n                break;\n            case '*':\n                result = lhs * rhs;\n                break;\n            case '/':\n                result = lhs / rhs;\n                break;\n            case '%':\n                result = lhs % rhs;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate equality expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateEqualityExpression(lhs, rhs, op) {\n        var result;\n\n        // type checks\n        var ltype = typeof lhs;\n        var rtype = typeof rhs;\n\n        if (ltype === 'undefined' || rtype === 'undefined') {\n            // if either side is undefined, the result is false\n            return false;\n        }\n\n        switch (op) {\n            case '=':\n                result = isDeepEqual(lhs, rhs);\n                break;\n            case '!=':\n                result = !isDeepEqual(lhs, rhs);\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate comparison expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    function evaluateComparisonExpression(lhs, rhs, op) {\n        var result;\n\n        // type checks\n        var ltype = typeof lhs;\n        var rtype = typeof rhs;\n\n        var lcomparable = (ltype === 'undefined' || ltype === 'string' || ltype === 'number');\n        var rcomparable = (rtype === 'undefined' || rtype === 'string' || rtype === 'number');\n\n        // if either aa or bb are not comparable (string or numeric) values, then throw an error\n        if (!lcomparable || !rcomparable) {\n            throw {\n                code: \"T2010\",\n                stack: (new Error()).stack,\n                value: !(ltype === 'string' || ltype === 'number') ? lhs : rhs\n            };\n        }\n\n        // if either side is undefined, the result is undefined\n        if (ltype === 'undefined' || rtype === 'undefined') {\n            return undefined;\n        }\n\n        //if aa and bb are not of the same type\n        if (ltype !== rtype) {\n            throw {\n                code: \"T2009\",\n                stack: (new Error()).stack,\n                value: lhs,\n                value2: rhs\n            };\n        }\n\n        switch (op) {\n            case '<':\n                result = lhs < rhs;\n                break;\n            case '<=':\n                result = lhs <= rhs;\n                break;\n            case '>':\n                result = lhs > rhs;\n                break;\n            case '>=':\n                result = lhs >= rhs;\n                break;\n        }\n        return result;\n    }\n\n    /**\n     * Inclusion operator - in\n     *\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {boolean} - true if lhs is a member of rhs\n     */\n    function evaluateIncludesExpression(lhs, rhs) {\n        var result = false;\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is false\n            return false;\n        }\n\n        if(!Array.isArray(rhs)) {\n            rhs = [rhs];\n        }\n\n        for(var i = 0; i < rhs.length; i++) {\n            if(rhs[i] === lhs) {\n                result = true;\n                break;\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate boolean expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Function} evalrhs - function to evaluate RHS value\n     * @param {Object} op - opcode\n     * @returns {*} Result\n     */\n    async function evaluateBooleanExpression(lhs, evalrhs, op) {\n        var result;\n\n        var lBool = boolize(lhs);\n\n        switch (op) {\n            case 'and':\n                result = lBool && boolize(await evalrhs());\n                break;\n            case 'or':\n                result = lBool || boolize(await evalrhs());\n                break;\n        }\n        return result;\n    }\n\n    function boolize(value) {\n        var booledValue = fn.boolean(value);\n        return typeof booledValue === 'undefined' ? false : booledValue;\n    }\n\n    /**\n     * Evaluate string concatenation against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {string|*} Concatenated string\n     */\n    function evaluateStringConcat(lhs, rhs) {\n        var result;\n\n        var lstr = '';\n        var rstr = '';\n        if (typeof lhs !== 'undefined') {\n            lstr = fn.string(lhs);\n        }\n        if (typeof rhs !== 'undefined') {\n            rstr = fn.string(rhs);\n        }\n\n        result = lstr.concat(rstr);\n        return result;\n    }\n\n    /**\n     * Evaluate group expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {{}} Evaluated input data\n     */\n    async function evaluateGroupExpression(expr, input, environment) {\n        var result = {};\n        var groups = {};\n        var reduce = input && input.tupleStream ? true : false;\n        // group the input sequence by 'key' expression\n        if (!Array.isArray(input)) {\n            input = createSequence(input);\n        }\n        // if the array is empty, add an undefined entry to enable literal JSON object to be generated\n        if (input.length === 0) {\n            input.push(undefined);\n        }\n\n        for(var itemIndex = 0; itemIndex < input.length; itemIndex++) {\n            var item = input[itemIndex];\n            var env = reduce ? createFrameFromTuple(environment, item) : environment;\n            for(var pairIndex = 0; pairIndex < expr.lhs.length; pairIndex++) {\n                var pair = expr.lhs[pairIndex];\n                var key = await evaluate(pair[0], reduce ? item['@'] : item, env);\n                // key has to be a string\n                if (typeof  key !== 'string' && key !== undefined) {\n                    throw {\n                        code: \"T1003\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: key\n                    };\n                }\n\n                if (key !== undefined) {\n                    var entry = {data: item, exprIndex: pairIndex};\n                    if (groups.hasOwnProperty(key)) {\n                        // a value already exists in this slot\n                        if(groups[key].exprIndex !== pairIndex) {\n                            // this key has been generated by another expression in this group\n                            // when multiple key expressions evaluate to the same key, then error D1009 must be thrown\n                            throw {\n                                code: \"D1009\",\n                                stack: (new Error()).stack,\n                                position: expr.position,\n                                value: key\n                            };\n                        }\n\n                        // append it as an array\n                        groups[key].data = fn.append(groups[key].data, item);\n                    } else {\n                        groups[key] = entry;\n                    }\n                }\n            }\n        }\n\n        // iterate over the groups to evaluate the 'value' expression\n        let generators = await Promise.all(Object.keys(groups).map(async (key, idx) => {\n            let entry = groups[key];\n            var context = entry.data;\n            var env = environment;\n            if (reduce) {\n                var tuple = reduceTupleStream(entry.data);\n                context = tuple['@'];\n                delete tuple['@'];\n                env = createFrameFromTuple(environment, tuple);\n            }\n            environment.isParallelCall = idx > 0\n            return [key, await evaluate(expr.lhs[entry.exprIndex][1], context, env)];\n        }));\n\n        for (let generator of generators) {\n            var [key, value] = await generator;\n            if(typeof value !== 'undefined') {\n                result[key] = value;\n            }\n        }\n\n        return result;\n    }\n\n    function reduceTupleStream(tupleStream) {\n        if(!Array.isArray(tupleStream)) {\n            return tupleStream;\n        }\n        var result = {};\n        Object.assign(result, tupleStream[0]);\n        for(var ii = 1; ii < tupleStream.length; ii++) {\n            for(const prop in tupleStream[ii]) {\n                result[prop] = fn.append(result[prop], tupleStream[ii][prop]);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate range expression against input data\n     * @param {Object} lhs - LHS value\n     * @param {Object} rhs - RHS value\n     * @returns {Array} Resultant array\n     */\n    function evaluateRangeExpression(lhs, rhs) {\n        var result;\n\n        if (typeof lhs !== 'undefined' && !Number.isInteger(lhs)) {\n            throw {\n                code: \"T2003\",\n                stack: (new Error()).stack,\n                value: lhs\n            };\n        }\n        if (typeof rhs !== 'undefined' && !Number.isInteger(rhs)) {\n            throw {\n                code: \"T2004\",\n                stack: (new Error()).stack,\n                value: rhs\n            };\n        }\n\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\n            // if either side is undefined, the result is undefined\n            return result;\n        }\n\n        if (lhs > rhs) {\n            // if the lhs is greater than the rhs, return undefined\n            return result;\n        }\n\n        // limit the size of the array to ten million entries (1e7)\n        // this is an implementation defined limit to protect against\n        // memory and performance issues.  This value may increase in the future.\n        var size = rhs - lhs + 1;\n        if(size > 1e7) {\n            throw {\n                code: \"D2014\",\n                stack: (new Error()).stack,\n                value: size\n            };\n        }\n\n        result = new Array(size);\n        for (var item = lhs, index = 0; item <= rhs; item++, index++) {\n            result[index] = item;\n        }\n        result.sequence = true;\n        return result;\n    }\n\n    /**\n     * Evaluate bind expression against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateBindExpression(expr, input, environment) {\n        // The RHS is the expression to evaluate\n        // The LHS is the name of the variable to bind to - should be a VARIABLE token (enforced by parser)\n        var value = await evaluate(expr.rhs, input, environment);\n        environment.bind(expr.lhs.value, value);\n        return value;\n    }\n\n    /**\n     * Evaluate condition against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateCondition(expr, input, environment) {\n        var result;\n        var condition = await evaluate(expr.condition, input, environment);\n        if (fn.boolean(condition)) {\n            result = await evaluate(expr.then, input, environment);\n        } else if (typeof expr.else !== 'undefined') {\n            result = await evaluate(expr.else, input, environment);\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate block against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateBlock(expr, input, environment) {\n        var result;\n        // create a new frame to limit the scope of variable assignments\n        // TODO, only do this if the post-parse stage has flagged this as required\n        var frame = createFrame(environment);\n        // invoke each expression in turn\n        // only return the result of the last one\n        for(var ii = 0; ii < expr.expressions.length; ii++) {\n            result = await evaluate(expr.expressions[ii], input, frame);\n        }\n\n        return result;\n    }\n\n    /**\n     * Prepare a regex\n     * @param {Object} expr - expression containing regex\n     * @returns {Function} Higher order function representing prepared regex\n     */\n    function evaluateRegex(expr) {\n        var re = new jsonata.RegexEngine(expr.value);\n        var closure = function(str, fromIndex) {\n            var result;\n            re.lastIndex = fromIndex || 0;\n            var match = re.exec(str);\n            if(match !== null) {\n                result = {\n                    match: match[0],\n                    start: match.index,\n                    end: match.index + match[0].length,\n                    groups: []\n                };\n                if(match.length > 1) {\n                    for(var i = 1; i < match.length; i++) {\n                        result.groups.push(match[i]);\n                    }\n                }\n                result.next = function() {\n                    if(re.lastIndex >= str.length) {\n                        return undefined;\n                    } else {\n                        var next = closure(str, re.lastIndex);\n                        if(next && next.match === '') {\n                            // matches zero length string; this will never progress\n                            throw {\n                                code: \"D1004\",\n                                stack: (new Error()).stack,\n                                position: expr.position,\n                                value: expr.value.source\n                            };\n                        }\n                        return next;\n                    }\n                };\n            }\n\n            return result;\n        };\n        return closure;\n    }\n\n    /**\n     * Evaluate variable against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    function evaluateVariable(expr, input, environment) {\n        // lookup the variable value in the environment\n        var result;\n        // if the variable name is empty string, then it refers to context value\n        if (expr.value === '') {\n            result = input && input.outerWrapper ? input[0] : input;\n        } else {\n            result = environment.lookup(expr.value);\n        }\n        return result;\n    }\n\n    /**\n     * sort / order-by operator\n     * @param {Object} expr - AST for operator\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Ordered sequence\n     */\n    async function evaluateSortExpression(expr, input, environment) {\n        var result;\n\n        // evaluate the lhs, then sort the results in order according to rhs expression\n        var lhs = input;\n        var isTupleSort = input.tupleStream ? true : false;\n\n        // sort the lhs array\n        // use comparator function\n        var comparator = async function(a, b) { \n            // expr.terms is an array of order-by in priority order\n            var comp = 0;\n            for(var index = 0; comp === 0 && index < expr.terms.length; index++) {\n                var term = expr.terms[index];\n                //evaluate the sort term in the context of a\n                var context = a;\n                var env = environment;\n                if(isTupleSort) {\n                    context = a['@'];\n                    env = createFrameFromTuple(environment, a);\n                }\n                var aa = await evaluate(term.expression, context, env);\n                //evaluate the sort term in the context of b\n                context = b;\n                env = environment;\n                if(isTupleSort) {\n                    context = b['@'];\n                    env = createFrameFromTuple(environment, b);\n                }\n                var bb = await evaluate(term.expression, context, env);\n\n                // type checks\n                var atype = typeof aa;\n                var btype = typeof bb;\n                // undefined should be last in sort order\n                if(atype === 'undefined') {\n                    // swap them, unless btype is also undefined\n                    comp = (btype === 'undefined') ? 0 : 1;\n                    continue;\n                }\n                if(btype === 'undefined') {\n                    comp = -1;\n                    continue;\n                }\n\n                // if aa or bb are not string or numeric values, then throw an error\n                if(!(atype === 'string' || atype === 'number') || !(btype === 'string' || btype === 'number')) {\n                    throw {\n                        code: \"T2008\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: !(atype === 'string' || atype === 'number') ? aa : bb\n                    };\n                }\n\n                //if aa and bb are not of the same type\n                if(atype !== btype) {\n                    throw {\n                        code: \"T2007\",\n                        stack: (new Error()).stack,\n                        position: expr.position,\n                        value: aa,\n                        value2: bb\n                    };\n                }\n                if(aa === bb) {\n                    // both the same - move on to next term\n                    continue;\n                } else if (aa < bb) {\n                    comp = -1;\n                } else {\n                    comp = 1;\n                }\n                if(term.descending === true) {\n                    comp = -comp;\n                }\n            }\n            // only swap a & b if comp equals 1\n            return comp === 1;\n        };\n\n        var focus = {\n            environment: environment,\n            input: input\n        };\n        // the `focus` is passed in as the `this` for the invoked function\n        result = await fn.sort.apply(focus, [lhs, comparator]);\n\n        return result;\n    }\n\n    /**\n     * create a transformer function\n     * @param {Object} expr - AST for operator\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} tranformer function\n     */\n    function evaluateTransformExpression(expr, input, environment) {\n        // create a function to implement the transform definition\n        var transformer = async function (obj) { // signature <(oa):o>\n            // undefined inputs always return undefined\n            if(typeof obj === 'undefined') {\n                return undefined;\n            }\n\n            // this function returns a copy of obj with changes specified by the pattern/operation\n            var cloneFunction = environment.lookup('clone');\n            if(!isFunction(cloneFunction)) {\n                // throw type error\n                throw {\n                    code: \"T2013\",\n                    stack: (new Error()).stack,\n                    position: expr.position\n                };\n            }\n            var result = await apply(cloneFunction, [obj], null, environment);\n            var matches = await evaluate(expr.pattern, result, environment);\n            if(typeof matches !== 'undefined') {\n                if(!Array.isArray(matches)) {\n                    matches = [matches];\n                }\n                for(var ii = 0; ii < matches.length; ii++) {\n                    var match = matches[ii];\n                    if (match && (match.isPrototypeOf(result) || match instanceof Object.constructor)) {\n                        throw {\n                            code: \"D1010\",\n                            stack: (new Error()).stack,\n                            position: expr.position\n                        };\n                    }\n                    // evaluate the update value for each match\n                    var update = await evaluate(expr.update, match, environment);\n                    // update must be an object\n                    var updateType = typeof update;\n                    if(updateType !== 'undefined') {\n                        if(updateType !== 'object' || update === null || Array.isArray(update)) {\n                            // throw type error\n                            throw {\n                                code: \"T2011\",\n                                stack: (new Error()).stack,\n                                position: expr.update.position,\n                                value: update\n                            };\n                        }\n                        // merge the update\n                        for(var prop in update) {\n                            match[prop] = update[prop];\n                        }\n                    }\n\n                    // delete, if specified, must be an array of strings (or single string)\n                    if(typeof expr.delete !== 'undefined') {\n                        var deletions = await evaluate(expr.delete, match, environment);\n                        if(typeof deletions !== 'undefined') {\n                            var val = deletions;\n                            if (!Array.isArray(deletions)) {\n                                deletions = [deletions];\n                            }\n                            if (!isArrayOfStrings(deletions)) {\n                                // throw type error\n                                throw {\n                                    code: \"T2012\",\n                                    stack: (new Error()).stack,\n                                    position: expr.delete.position,\n                                    value: val\n                                };\n                            }\n                            for (var jj = 0; jj < deletions.length; jj++) {\n                                if(typeof match === 'object' && match !== null) {\n                                    delete match[deletions[jj]];\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            return result;\n        };\n\n        return defineFunction(transformer, '<(oa):o>');\n    }\n\n    var chainAST = parser('function($f, $g) { function($x){ $g($f($x)) } }');\n\n    /**\n     * Apply the function on the RHS using the sequence on the LHS as the first argument\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateApplyExpression(expr, input, environment) {\n        var result;\n\n\n        var lhs = await evaluate(expr.lhs, input, environment);\n        if(expr.rhs.type === 'function') {\n            // this is a function _invocation_; invoke it with lhs expression as the first argument\n            result = await evaluateFunction(expr.rhs, input, environment, { context: lhs });\n        } else {\n            var func = await evaluate(expr.rhs, input, environment);\n\n            if(!isFunction(func)) {\n                throw {\n                    code: \"T2006\",\n                    stack: (new Error()).stack,\n                    position: expr.position,\n                    value: func\n                };\n            }\n\n            if(isFunction(lhs)) {\n                // this is function chaining (func1 ~> func2)\n                // ($f, $g) { ($x){ $g($f($x)) } }\n                var chain = await evaluate(chainAST, null, environment);\n                result = await apply(chain, [lhs, func], null, environment);\n            } else {\n                result = await apply(func, [lhs], null, environment);\n            }\n\n        }\n\n        return result;\n    }\n\n    /**\n     * Evaluate function against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluateFunction(expr, input, environment, applyto) {\n        var result;\n\n        // create the procedure\n        // can't assume that expr.procedure is a lambda type directly\n        // could be an expression that evaluates to a function (e.g. variable reference, parens expr etc.\n        // evaluate it generically first, then check that it is a function.  Throw error if not.\n        var proc = await evaluate(expr.procedure, input, environment);\n\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure.steps[0].value)) {\n            // help the user out here if they simply forgot the leading $\n            throw {\n                code: \"T1005\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.steps[0].value\n            };\n        }\n\n        var evaluatedArgs = [];\n        if(typeof applyto !== 'undefined') {\n            evaluatedArgs.push(applyto.context);\n        }\n        // eager evaluation - evaluate the arguments\n        for (var jj = 0; jj < expr.arguments.length; jj++) {\n            const arg = await evaluate(expr.arguments[jj], input, environment);\n            if(isFunction(arg)) {\n                // wrap this in a closure\n                const closure = async function (...params) {\n                    // invoke func\n                    return await apply(arg, params, null, environment);\n                };\n                closure.arity = getFunctionArity(arg);\n                evaluatedArgs.push(closure);\n            } else {\n                evaluatedArgs.push(arg);\n            }\n        }\n        // apply the procedure\n        var procName = expr.procedure.type === 'path' ? expr.procedure.steps[0].value : expr.procedure.value;\n        try {\n            if(typeof proc === 'object') {\n                proc.token = procName;\n                proc.position = expr.position;\n            }\n            result = await apply(proc, evaluatedArgs, input, environment);\n        } catch (err) {\n            if(!err.position) {\n                // add the position field to the error\n                err.position = expr.position;\n            }\n            if (!err.token) {\n                // and the function identifier\n                err.token = procName;\n            }\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Apply procedure or function\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @param {Object} input - input\n     * @param {Object} environment - environment\n     * @returns {*} Result of procedure\n     */\n    async function apply(proc, args, input, environment) {\n        var result;\n        result = await applyInner(proc, args, input, environment);\n        while(isLambda(result) && result.thunk === true) {\n            // trampoline loop - this gets invoked as a result of tail-call optimization\n            // the function returned a tail-call thunk\n            // unpack it, evaluate its arguments, and apply the tail call\n            var next = await evaluate(result.body.procedure, result.input, result.environment);\n            if(result.body.procedure.type === 'variable') {\n                next.token = result.body.procedure.value;\n            }\n            next.position = result.body.procedure.position;\n            var evaluatedArgs = [];\n            for(var ii = 0; ii < result.body.arguments.length; ii++) {\n                evaluatedArgs.push(await evaluate(result.body.arguments[ii], result.input, result.environment));\n            }\n\n            result = await applyInner(next, evaluatedArgs, input, environment);\n        }\n        return result;\n    }\n\n    /**\n     * Apply procedure or function\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @param {Object} input - input\n     * @param {Object} environment - environment\n     * @returns {*} Result of procedure\n     */\n    async function applyInner(proc, args, input, environment) {\n        var result;\n        try {\n            var validatedArgs = args;\n            if (proc) {\n                validatedArgs = validateArguments(proc.signature, args, input);\n            }\n\n            if (isLambda(proc)) {\n                result = await applyProcedure(proc, validatedArgs);\n            } else if (proc && proc._jsonata_function === true) {\n                var focus = {\n                    environment: environment,\n                    input: input\n                };\n                // the `focus` is passed in as the `this` for the invoked function\n                result = proc.implementation.apply(focus, validatedArgs);\n                // `proc.implementation` might be a generator function\n                // and `result` might be a generator - if so, yield\n                if (isIterable(result)) {\n                    result = result.next().value;\n                }\n                if (isPromise(result)) {\n                    result = await result;\n                }\n            } else if (typeof proc === 'function') {\n                // typically these are functions that are returned by the invocation of plugin functions\n                // the `input` is being passed in as the `this` for the invoked function\n                // this is so that functions that return objects containing functions can chain\n                // e.g. await (await $func())\n                result = proc.apply(input, validatedArgs);\n                if (isPromise(result)) {\n                    result = await result;\n                }\n            } else {\n                throw {\n                    code: \"T1006\",\n                    stack: (new Error()).stack\n                };\n            }\n        } catch(err) {\n            if(proc) {\n                if (typeof err.token == 'undefined' && typeof proc.token !== 'undefined') {\n                    err.token = proc.token;\n                }\n                err.position = proc.position || err.position;\n            }\n            throw err;\n        }\n        return result;\n    }\n\n    /**\n     * Evaluate lambda against input data\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {{lambda: boolean, input: *, environment: *, arguments: *, body: *}} Evaluated input data\n     */\n    function evaluateLambda(expr, input, environment) {\n        // make a function (closure)\n        var procedure = {\n            _jsonata_lambda: true,\n            input: input,\n            environment: environment,\n            arguments: expr.arguments,\n            signature: expr.signature,\n            body: expr.body\n        };\n        if(expr.thunk === true) {\n            procedure.thunk = true;\n        }\n        procedure.apply = async function(self, args) {\n            return await apply(procedure, args, input, !!self ? self.environment : environment);\n        };\n        return procedure;\n    }\n\n    /**\n     * Evaluate partial application\n     * @param {Object} expr - JSONata expression\n     * @param {Object} input - Input data to evaluate against\n     * @param {Object} environment - Environment\n     * @returns {*} Evaluated input data\n     */\n    async function evaluatePartialApplication(expr, input, environment) {\n        // partially apply a function\n        var result;\n        // evaluate the arguments\n        var evaluatedArgs = [];\n        for(var ii = 0; ii < expr.arguments.length; ii++) {\n            var arg = expr.arguments[ii];\n            if (arg.type === 'operator' && arg.value === '?') {\n                evaluatedArgs.push(arg);\n            } else {\n                evaluatedArgs.push(await evaluate(arg, input, environment));\n            }\n        }\n        // lookup the procedure\n        var proc = await evaluate(expr.procedure, input, environment);\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure.steps[0].value)) {\n            // help the user out here if they simply forgot the leading $\n            throw {\n                code: \"T1007\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.steps[0].value\n            };\n        }\n        if (isLambda(proc)) {\n            result = partialApplyProcedure(proc, evaluatedArgs);\n        } else if (proc && proc._jsonata_function === true) {\n            result = partialApplyNativeFunction(proc.implementation, evaluatedArgs);\n        } else if (typeof proc === 'function') {\n            result = partialApplyNativeFunction(proc, evaluatedArgs);\n        } else {\n            throw {\n                code: \"T1008\",\n                stack: (new Error()).stack,\n                position: expr.position,\n                token: expr.procedure.type === 'path' ? expr.procedure.steps[0].value : expr.procedure.value\n            };\n        }\n        return result;\n    }\n\n    /**\n     * Validate the arguments against the signature validator (if it exists)\n     * @param {Function} signature - validator function\n     * @param {Array} args - function arguments\n     * @param {*} context - context value\n     * @returns {Array} - validated arguments\n     */\n    function validateArguments(signature, args, context) {\n        if(typeof signature === 'undefined') {\n            // nothing to validate\n            return args;\n        }\n        var validatedArgs = signature.validate(args, context);\n        return validatedArgs;\n    }\n\n    /**\n     * Apply procedure\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @returns {*} Result of procedure\n     */\n    async function applyProcedure(proc, args) {\n        var result;\n        var env = createFrame(proc.environment);\n        proc.arguments.forEach(function (param, index) {\n            env.bind(param.value, args[index]);\n        });\n        if (typeof proc.body === 'function') {\n            // this is a lambda that wraps a native function - generated by partially evaluating a native\n            result = await applyNativeFunction(proc.body, env);\n        } else {\n            result = await evaluate(proc.body, proc.input, env);\n        }\n        return result;\n    }\n\n    /**\n     * Partially apply procedure\n     * @param {Object} proc - Procedure\n     * @param {Array} args - Arguments\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applied procedure\n     */\n    function partialApplyProcedure(proc, args) {\n        // create a closure, bind the supplied parameters and return a function that takes the remaining (?) parameters\n        var env = createFrame(proc.environment);\n        var unboundArgs = [];\n        proc.arguments.forEach(function (param, index) {\n            var arg = args[index];\n            if (arg && arg.type === 'operator' && arg.value === '?') {\n                unboundArgs.push(param);\n            } else {\n                env.bind(param.value, arg);\n            }\n        });\n        var procedure = {\n            _jsonata_lambda: true,\n            input: proc.input,\n            environment: env,\n            arguments: unboundArgs,\n            body: proc.body\n        };\n        return procedure;\n    }\n\n    /**\n     * Partially apply native function\n     * @param {Function} native - Native function\n     * @param {Array} args - Arguments\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applying native function\n     */\n    function partialApplyNativeFunction(native, args) {\n        // create a lambda function that wraps and invokes the native function\n        // get the list of declared arguments from the native function\n        // this has to be picked out from the toString() value\n        var sigArgs = getNativeFunctionArguments(native);\n        sigArgs = sigArgs.map(function (sigArg) {\n            return '$' + sigArg.trim();\n        });\n        var body = 'function(' + sigArgs.join(', ') + '){ _ }';\n\n        var bodyAST = parser(body);\n        bodyAST.body = native;\n\n        var partial = partialApplyProcedure(bodyAST, args);\n        return partial;\n    }\n\n    /**\n     * Apply native function\n     * @param {Object} proc - Procedure\n     * @param {Object} env - Environment\n     * @returns {*} Result of applying native function\n     */\n    async function applyNativeFunction(proc, env) {\n        var sigArgs = getNativeFunctionArguments(proc);\n        // generate the array of arguments for invoking the function - look them up in the environment\n        var args = sigArgs.map(function (sigArg) {\n            return env.lookup(sigArg.trim());\n        });\n\n        var focus = {\n            environment: env\n        };\n        var result = proc.apply(focus, args);\n        if (isPromise(result)) {\n            result = await result;\n        }\n        return result;\n    }\n\n    /**\n     * Get native function arguments\n     * @param {Function} func - Function\n     * @returns {*|Array} Native function arguments\n     */\n    function getNativeFunctionArguments(func) {\n        var signature = func.toString();\n        var sigParens = /\\(([^)]*)\\)/.exec(signature)[1]; // the contents of the parens\n        var sigArgs = sigParens.split(',');\n        return sigArgs;\n    }\n\n    /**\n     * Creates a function definition\n     * @param {Function} func - function implementation in Javascript\n     * @param {string} signature - JSONata function signature definition\n     * @returns {{implementation: *, signature: *}} function definition\n     */\n    function defineFunction(func, signature) {\n        var definition = {\n            _jsonata_function: true,\n            implementation: func\n        };\n        if(typeof signature !== 'undefined') {\n            definition.signature = parseSignature(signature);\n        }\n        return definition;\n    }\n\n\n    /**\n     * parses and evaluates the supplied expression\n     * @param {string} expr - expression to evaluate\n     * @returns {*} - result of evaluating the expression\n     */\n    async function functionEval(expr, focus) {\n        // undefined inputs always return undefined\n        if(typeof expr === 'undefined') {\n            return undefined;\n        }\n        var input = this.input;\n        if(typeof focus !== 'undefined') {\n            input = focus;\n            // if the input is a JSON array, then wrap it in a singleton sequence so it gets treated as a single input\n            if(Array.isArray(input) && !isSequence(input)) {\n                input = createSequence(input);\n                input.outerWrapper = true;\n            }\n        }\n\n        try {\n            var ast = parser(expr, false);\n        } catch(err) {\n            // error parsing the expression passed to $eval\n            populateMessage(err);\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3120\",\n                value: err.message,\n                error: err\n            };\n        }\n        try {\n            var result = await evaluate(ast, input, this.environment);\n        } catch(err) {\n            // error evaluating the expression passed to $eval\n            populateMessage(err);\n            throw {\n                stack: (new Error()).stack,\n                code: \"D3121\",\n                value:err.message,\n                error: err\n            };\n        }\n\n        return result;\n    }\n\n    /**\n     * Clones an object\n     * @param {Object} arg - object to clone (deep copy)\n     * @returns {*} - the cloned object\n     */\n    function functionClone(arg) {\n        // undefined inputs always return undefined\n        if(typeof arg === 'undefined') {\n            return undefined;\n        }\n\n        return JSON.parse(fn.string(arg));\n    }\n\n    /**\n     * Create frame\n     * @param {Object} enclosingEnvironment - Enclosing environment\n     * @returns {{bind: bind, lookup: lookup}} Created frame\n     */\n    function createFrame(enclosingEnvironment) {\n        var bindings = {};\n        return {\n            bind: function (name, value) {\n                bindings[name] = value;\n            },\n            lookup: function (name) {\n                var value;\n                if(bindings.hasOwnProperty(name)) {\n                    value = bindings[name];\n                } else if (enclosingEnvironment) {\n                    value = enclosingEnvironment.lookup(name);\n                }\n                return value;\n            },\n            timestamp: enclosingEnvironment ? enclosingEnvironment.timestamp : null,\n            async: enclosingEnvironment ? enclosingEnvironment.async : false,\n            isParallelCall: enclosingEnvironment ? enclosingEnvironment.isParallelCall : false,\n            global: enclosingEnvironment ? enclosingEnvironment.global : {\n                ancestry: [ null ]\n            }\n        };\n    }\n\n    // Function registration\n    staticFrame.bind('sum', defineFunction(fn.sum, '<a<n>:n>'));\n    staticFrame.bind('count', defineFunction(fn.count, '<a:n>'));\n    staticFrame.bind('max', defineFunction(fn.max, '<a<n>:n>'));\n    staticFrame.bind('min', defineFunction(fn.min, '<a<n>:n>'));\n    staticFrame.bind('average', defineFunction(fn.average, '<a<n>:n>'));\n    staticFrame.bind('string', defineFunction(fn.string, '<x-b?:s>'));\n    staticFrame.bind('substring', defineFunction(fn.substring, '<s-nn?:s>'));\n    staticFrame.bind('substringBefore', defineFunction(fn.substringBefore, '<s-s:s>'));\n    staticFrame.bind('substringAfter', defineFunction(fn.substringAfter, '<s-s:s>'));\n    staticFrame.bind('lowercase', defineFunction(fn.lowercase, '<s-:s>'));\n    staticFrame.bind('uppercase', defineFunction(fn.uppercase, '<s-:s>'));\n    staticFrame.bind('length', defineFunction(fn.length, '<s-:n>'));\n    staticFrame.bind('trim', defineFunction(fn.trim, '<s-:s>'));\n    staticFrame.bind('pad', defineFunction(fn.pad, '<s-ns?:s>'));\n    staticFrame.bind('match', defineFunction(fn.match, '<s-f<s:o>n?:a<o>>'));\n    staticFrame.bind('contains', defineFunction(fn.contains, '<s-(sf):b>')); // TODO <s-(sf<s:o>):b>\n    staticFrame.bind('replace', defineFunction(fn.replace, '<s-(sf)(sf)n?:s>')); // TODO <s-(sf<s:o>)(sf<o:s>)n?:s>\n    staticFrame.bind('split', defineFunction(fn.split, '<s-(sf)n?:a<s>>')); // TODO <s-(sf<s:o>)n?:a<s>>\n    staticFrame.bind('join', defineFunction(fn.join, '<a<s>s?:s>'));\n    staticFrame.bind('formatNumber', defineFunction(fn.formatNumber, '<n-so?:s>'));\n    staticFrame.bind('formatBase', defineFunction(fn.formatBase, '<n-n?:s>'));\n    staticFrame.bind('formatInteger', defineFunction(datetime.formatInteger, '<n-s:s>'));\n    staticFrame.bind('parseInteger', defineFunction(datetime.parseInteger, '<s-s:n>'));\n    staticFrame.bind('number', defineFunction(fn.number, '<(nsb)-:n>'));\n    staticFrame.bind('floor', defineFunction(fn.floor, '<n-:n>'));\n    staticFrame.bind('ceil', defineFunction(fn.ceil, '<n-:n>'));\n    staticFrame.bind('round', defineFunction(fn.round, '<n-n?:n>'));\n    staticFrame.bind('abs', defineFunction(fn.abs, '<n-:n>'));\n    staticFrame.bind('sqrt', defineFunction(fn.sqrt, '<n-:n>'));\n    staticFrame.bind('power', defineFunction(fn.power, '<n-n:n>'));\n    staticFrame.bind('random', defineFunction(fn.random, '<:n>'));\n    staticFrame.bind('boolean', defineFunction(fn.boolean, '<x-:b>'));\n    staticFrame.bind('not', defineFunction(fn.not, '<x-:b>'));\n    staticFrame.bind('map', defineFunction(fn.map, '<af>'));\n    staticFrame.bind('zip', defineFunction(fn.zip, '<a+>'));\n    staticFrame.bind('filter', defineFunction(fn.filter, '<af>'));\n    staticFrame.bind('single', defineFunction(fn.single, '<af?>'));\n    staticFrame.bind('reduce', defineFunction(fn.foldLeft, '<afj?:j>')); // TODO <f<jj:j>a<j>j?:j>\n    staticFrame.bind('sift', defineFunction(fn.sift, '<o-f?:o>'));\n    staticFrame.bind('keys', defineFunction(fn.keys, '<x-:a<s>>'));\n    staticFrame.bind('lookup', defineFunction(fn.lookup, '<x-s:x>'));\n    staticFrame.bind('append', defineFunction(fn.append, '<xx:a>'));\n    staticFrame.bind('exists', defineFunction(fn.exists, '<x:b>'));\n    staticFrame.bind('spread', defineFunction(fn.spread, '<x-:a<o>>'));\n    staticFrame.bind('merge', defineFunction(fn.merge, '<a<o>:o>'));\n    staticFrame.bind('reverse', defineFunction(fn.reverse, '<a:a>'));\n    staticFrame.bind('each', defineFunction(fn.each, '<o-f:a>'));\n    staticFrame.bind('error', defineFunction(fn.error, '<s?:x>'));\n    staticFrame.bind('assert', defineFunction(fn.assert, '<bs?:x>'));\n    staticFrame.bind('type', defineFunction(fn.type, '<x:s>'));\n    staticFrame.bind('sort', defineFunction(fn.sort, '<af?:a>'));\n    staticFrame.bind('shuffle', defineFunction(fn.shuffle, '<a:a>'));\n    staticFrame.bind('distinct', defineFunction(fn.distinct, '<x:x>'));\n    staticFrame.bind('base64encode', defineFunction(fn.base64encode, '<s-:s>'));\n    staticFrame.bind('base64decode', defineFunction(fn.base64decode, '<s-:s>'));\n    staticFrame.bind('encodeUrlComponent', defineFunction(fn.encodeUrlComponent, '<s-:s>'));\n    staticFrame.bind('encodeUrl', defineFunction(fn.encodeUrl, '<s-:s>'));\n    staticFrame.bind('decodeUrlComponent', defineFunction(fn.decodeUrlComponent, '<s-:s>'));\n    staticFrame.bind('decodeUrl', defineFunction(fn.decodeUrl, '<s-:s>'));\n    staticFrame.bind('eval', defineFunction(functionEval, '<sx?:x>'));\n    staticFrame.bind('toMillis', defineFunction(datetime.toMillis, '<s-s?:n>'));\n    staticFrame.bind('fromMillis', defineFunction(datetime.fromMillis, '<n-s?s?:s>'));\n    staticFrame.bind('clone', defineFunction(functionClone, '<(oa)-:o>'));\n\n    /**\n     * Error codes\n     *\n     * Sxxxx    - Static errors (compile time)\n     * Txxxx    - Type errors\n     * Dxxxx    - Dynamic errors (evaluate time)\n     *  01xx    - tokenizer\n     *  02xx    - parser\n     *  03xx    - regex parser\n     *  04xx    - function signature parser/evaluator\n     *  10xx    - evaluator\n     *  20xx    - operators\n     *  3xxx    - functions (blocks of 10 for each function)\n     */\n    var errorCodes = {\n        \"S0101\": \"String literal must be terminated by a matching quote\",\n        \"S0102\": \"Number out of range: {{token}}\",\n        \"S0103\": \"Unsupported escape sequence: \\\\{{token}}\",\n        \"S0104\": \"The escape sequence \\\\u must be followed by 4 hex digits\",\n        \"S0105\": \"Quoted property name must be terminated with a backquote (`)\",\n        \"S0106\": \"Comment has no closing tag\",\n        \"S0201\": \"Syntax error: {{token}}\",\n        \"S0202\": \"Expected {{value}}, got {{token}}\",\n        \"S0203\": \"Expected {{value}} before end of expression\",\n        \"S0204\": \"Unknown operator: {{token}}\",\n        \"S0205\": \"Unexpected token: {{token}}\",\n        \"S0206\": \"Unknown expression type: {{token}}\",\n        \"S0207\": \"Unexpected end of expression\",\n        \"S0208\": \"Parameter {{value}} of function definition must be a variable name (start with $)\",\n        \"S0209\": \"A predicate cannot follow a grouping expression in a step\",\n        \"S0210\": \"Each step can only have one grouping expression\",\n        \"S0211\": \"The symbol {{token}} cannot be used as a unary operator\",\n        \"S0212\": \"The left side of := must be a variable name (start with $)\",\n        \"S0213\": \"The literal value {{value}} cannot be used as a step within a path expression\",\n        \"S0214\": \"The right side of {{token}} must be a variable name (start with $)\",\n        \"S0215\": \"A context variable binding must precede any predicates on a step\",\n        \"S0216\": \"A context variable binding must precede the 'order-by' clause on a step\",\n        \"S0217\": \"The object representing the 'parent' cannot be derived from this expression\",\n        \"S0301\": \"Empty regular expressions are not allowed\",\n        \"S0302\": \"No terminating / in regular expression\",\n        \"S0402\": \"Choice groups containing parameterized types are not supported\",\n        \"S0401\": \"Type parameters can only be applied to functions and arrays\",\n        \"S0500\": \"Attempted to evaluate an expression containing syntax error(s)\",\n        \"T0410\": \"Argument {{index}} of function {{token}} does not match function signature\",\n        \"T0411\": \"Context value is not a compatible type with argument {{index}} of function {{token}}\",\n        \"T0412\": \"Argument {{index}} of function {{token}} must be an array of {{type}}\",\n        \"D1001\": \"Number out of range: {{value}}\",\n        \"D1002\": \"Cannot negate a non-numeric value: {{value}}\",\n        \"T1003\": \"Key in object structure must evaluate to a string; got: {{value}}\",\n        \"D1004\": \"Regular expression matches zero length string\",\n        \"T1005\": \"Attempted to invoke a non-function. Did you mean ${{{token}}}?\",\n        \"T1006\": \"Attempted to invoke a non-function\",\n        \"T1007\": \"Attempted to partially apply a non-function. Did you mean ${{{token}}}?\",\n        \"T1008\": \"Attempted to partially apply a non-function\",\n        \"D1009\": \"Multiple key definitions evaluate to same key: {{value}}\",\n        \"D1010\": \"Attempted to access the Javascript object prototype\", // Javascript specific \n        \"T1010\": \"The matcher function argument passed to function {{token}} does not return the correct object structure\",\n        \"T2001\": \"The left side of the {{token}} operator must evaluate to a number\",\n        \"T2002\": \"The right side of the {{token}} operator must evaluate to a number\",\n        \"T2003\": \"The left side of the range operator (..) must evaluate to an integer\",\n        \"T2004\": \"The right side of the range operator (..) must evaluate to an integer\",\n        \"D2005\": \"The left side of := must be a variable name (start with $)\",  // defunct - replaced by S0212 parser error\n        \"T2006\": \"The right side of the function application operator ~> must be a function\",\n        \"T2007\": \"Type mismatch when comparing values {{value}} and {{value2}} in order-by clause\",\n        \"T2008\": \"The expressions within an order-by clause must evaluate to numeric or string values\",\n        \"T2009\": \"The values {{value}} and {{value2}} either side of operator {{token}} must be of the same data type\",\n        \"T2010\": \"The expressions either side of operator {{token}} must evaluate to numeric or string values\",\n        \"T2011\": \"The insert/update clause of the transform expression must evaluate to an object: {{value}}\",\n        \"T2012\": \"The delete clause of the transform expression must evaluate to a string or array of strings: {{value}}\",\n        \"T2013\": \"The transform expression clones the input object using the $clone() function.  This has been overridden in the current scope by a non-function.\",\n        \"D2014\": \"The size of the sequence allocated by the range operator (..) must not exceed 1e6.  Attempted to allocate {{value}}.\",\n        \"D3001\": \"Attempting to invoke string function on Infinity or NaN\",\n        \"D3010\": \"Second argument of replace function cannot be an empty string\",\n        \"D3011\": \"Fourth argument of replace function must evaluate to a positive number\",\n        \"D3012\": \"Attempted to replace a matched string with a non-string value\",\n        \"D3020\": \"Third argument of split function must evaluate to a positive number\",\n        \"D3030\": \"Unable to cast value to a number: {{value}}\",\n        \"D3040\": \"Third argument of match function must evaluate to a positive number\",\n        \"D3050\": \"The second argument of reduce function must be a function with at least two arguments\",\n        \"D3060\": \"The sqrt function cannot be applied to a negative number: {{value}}\",\n        \"D3061\": \"The power function has resulted in a value that cannot be represented as a JSON number: base={{value}}, exponent={{exp}}\",\n        \"D3070\": \"The single argument form of the sort function can only be applied to an array of strings or an array of numbers.  Use the second argument to specify a comparison function\",\n        \"D3080\": \"The picture string must only contain a maximum of two sub-pictures\",\n        \"D3081\": \"The sub-picture must not contain more than one instance of the 'decimal-separator' character\",\n        \"D3082\": \"The sub-picture must not contain more than one instance of the 'percent' character\",\n        \"D3083\": \"The sub-picture must not contain more than one instance of the 'per-mille' character\",\n        \"D3084\": \"The sub-picture must not contain both a 'percent' and a 'per-mille' character\",\n        \"D3085\": \"The mantissa part of a sub-picture must contain at least one character that is either an 'optional digit character' or a member of the 'decimal digit family'\",\n        \"D3086\": \"The sub-picture must not contain a passive character that is preceded by an active character and that is followed by another active character\",\n        \"D3087\": \"The sub-picture must not contain a 'grouping-separator' character that appears adjacent to a 'decimal-separator' character\",\n        \"D3088\": \"The sub-picture must not contain a 'grouping-separator' at the end of the integer part\",\n        \"D3089\": \"The sub-picture must not contain two adjacent instances of the 'grouping-separator' character\",\n        \"D3090\": \"The integer part of the sub-picture must not contain a member of the 'decimal digit family' that is followed by an instance of the 'optional digit character'\",\n        \"D3091\": \"The fractional part of the sub-picture must not contain an instance of the 'optional digit character' that is followed by a member of the 'decimal digit family'\",\n        \"D3092\": \"A sub-picture that contains a 'percent' or 'per-mille' character must not contain a character treated as an 'exponent-separator'\",\n        \"D3093\": \"The exponent part of the sub-picture must comprise only of one or more characters that are members of the 'decimal digit family'\",\n        \"D3100\": \"The radix of the formatBase function must be between 2 and 36.  It was given {{value}}\",\n        \"D3110\": \"The argument of the toMillis function must be an ISO 8601 formatted timestamp. Given {{value}}\",\n        \"D3120\": \"Syntax error in expression passed to function eval: {{value}}\",\n        \"D3121\": \"Dynamic error evaluating the expression passed to function eval: {{value}}\",\n        \"D3130\": \"Formatting or parsing an integer as a sequence starting with {{value}} is not supported by this implementation\",\n        \"D3131\": \"In a decimal digit pattern, all digits must be from the same decimal group\",\n        \"D3132\": \"Unknown component specifier {{value}} in date/time picture string\",\n        \"D3133\": \"The 'name' modifier can only be applied to months and days in the date/time picture string, not {{value}}\",\n        \"D3134\": \"The timezone integer format specifier cannot have more than four digits\",\n        \"D3135\": \"No matching closing bracket ']' in date/time picture string\",\n        \"D3136\": \"The date/time picture string is missing specifiers required to parse the timestamp\",\n        \"D3137\": \"{{{message}}}\",\n        \"D3138\": \"The $single() function expected exactly 1 matching result.  Instead it matched more.\",\n        \"D3139\": \"The $single() function expected exactly 1 matching result.  Instead it matched 0.\",\n        \"D3140\": \"Malformed URL passed to ${{{functionName}}}(): {{value}}\",\n        \"D3141\": \"{{{message}}}\"\n    };\n\n    /**\n     * lookup a message template from the catalog and substitute the inserts.\n     * Populates `err.message` with the substituted message. Leaves `err.message`\n     * untouched if code lookup fails.\n     * @param {string} err - error code to lookup\n     * @returns {undefined} - `err` is modified in place\n     */\n    function populateMessage(err) {\n        var template = errorCodes[err.code];\n        if(typeof template !== 'undefined') {\n            // if there are any handlebars, replace them with the field references\n            // triple braces - replace with value\n            // double braces - replace with json stringified value\n            var message = template.replace(/\\{\\{\\{([^}]+)}}}/g, function() {\n                return err[arguments[1]];\n            });\n            message = message.replace(/\\{\\{([^}]+)}}/g, function() {\n                return JSON.stringify(err[arguments[1]]);\n            });\n            err.message = message;\n        }\n        // Otherwise retain the original `err.message`\n    }\n\n    /**\n     * JSONata\n     * @param {Object} expr - JSONata expression\n     * @param {Object} options\n     * @param {boolean} options.recover: attempt to recover on parse error\n     * @param {Function} options.RegexEngine: RegEx class constructor to use\n     * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\n     */\n    function jsonata(expr, options) {\n        var ast;\n        var errors;\n        try {\n            ast = parser(expr, options && options.recover);\n            errors = ast.errors;\n            delete ast.errors;\n        } catch(err) {\n            // insert error message into structure\n            populateMessage(err); // possible side-effects on `err`\n            throw err;\n        }\n        var environment = createFrame(staticFrame);\n\n        var timestamp = new Date(); // will be overridden on each call to evalute()\n        environment.bind('now', defineFunction(function(picture, timezone) {\n            return datetime.fromMillis(timestamp.getTime(), picture, timezone);\n        }, '<s?s?:s>'));\n        environment.bind('millis', defineFunction(function() {\n            return timestamp.getTime();\n        }, '<:n>'));\n\n        if(options && options.RegexEngine) {\n            jsonata.RegexEngine = options.RegexEngine;\n        } else {\n            jsonata.RegexEngine = RegExp;\n        }\n\n        return {\n            evaluate: async function (input, bindings, callback) {\n                // throw if the expression compiled with syntax errors\n                if(typeof errors !== 'undefined') {\n                    var err = {\n                        code: 'S0500',\n                        position: 0\n                    };\n                    populateMessage(err); // possible side-effects on `err`\n                    throw err;\n                }\n\n                if (typeof bindings !== 'undefined') {\n                    var exec_env;\n                    // the variable bindings have been passed in - create a frame to hold these\n                    exec_env = createFrame(environment);\n                    for (var v in bindings) {\n                        exec_env.bind(v, bindings[v]);\n                    }\n                } else {\n                    exec_env = environment;\n                }\n                // put the input document into the environment as the root object\n                exec_env.bind('$', input);\n\n                // capture the timestamp and put it in the execution environment\n                // the $now() and $millis() functions will return this value - whenever it is called\n                timestamp = new Date();\n                exec_env.timestamp = timestamp;\n\n                // if the input is a JSON array, then wrap it in a singleton sequence so it gets treated as a single input\n                if(Array.isArray(input) && !isSequence(input)) {\n                    input = createSequence(input);\n                    input.outerWrapper = true;\n                }\n\n                var it;\n                try {\n                    it = await evaluate(ast, input, exec_env);\n                    if (typeof callback === \"function\") {\n                        callback(null, it);\n                    }\n                    return it;\n                } catch (err) {\n                    // insert error message into structure\n                    populateMessage(err); // possible side-effects on `err`\n                    throw err;\n                }\n            },\n            assign: function (name, value) {\n                environment.bind(name, value);\n            },\n            registerFunction: function(name, implementation, signature) {\n                var func = defineFunction(implementation, signature);\n                environment.bind(name, func);\n            },\n            ast: function() {\n                return ast;\n            },\n            errors: function() {\n                return errors;\n            }\n        };\n    }\n\n    jsonata.parser = parser; // TODO remove this in a future release - use ast() instead\n\n    return jsonata;\n\n})();\n\nmodule.exports = jsonata;\n\n},{\"./datetime\":1,\"./functions\":2,\"./parser\":4,\"./signature\":5,\"./utils\":6}],4:[function(require,module,exports){\n/**\n *  Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar parseSignature = require('./signature');\n\nconst parser = (() => {\n    'use strict';\n\n    var operators = {\n        '.': 75,\n        '[': 80,\n        ']': 0,\n        '{': 70,\n        '}': 0,\n        '(': 80,\n        ')': 0,\n        ',': 0,\n        '@': 80,\n        '#': 80,\n        ';': 80,\n        ':': 80,\n        '?': 20,\n        '+': 50,\n        '-': 50,\n        '*': 60,\n        '/': 60,\n        '%': 60,\n        '|': 20,\n        '=': 40,\n        '<': 40,\n        '>': 40,\n        '^': 40,\n        '**': 60,\n        '..': 20,\n        ':=': 10,\n        '!=': 40,\n        '<=': 40,\n        '>=': 40,\n        '~>': 40,\n        'and': 30,\n        'or': 25,\n        'in': 40,\n        '&': 50,\n        '!': 0,   // not an operator, but needed as a stop character for name tokens\n        '~': 0   // not an operator, but needed as a stop character for name tokens\n    };\n\n    var escapes = {  // JSON string escape sequences - see json.org\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t'\n    };\n\n    // Tokenizer (lexer) - invoked by the parser to return one token at a time\n    var tokenizer = function (path) {\n        var position = 0;\n        var length = path.length;\n\n        var create = function (type, value) {\n            var obj = {type: type, value: value, position: position};\n            return obj;\n        };\n\n        var scanRegex = function () {\n            // the prefix '/' will have been previously scanned. Find the end of the regex.\n            // search for closing '/' ignoring any that are escaped, or within brackets\n            var start = position;\n            var depth = 0;\n            var pattern;\n            var flags;\n\n            var isClosingSlash = function (position) {\n                if (path.charAt(position) === '/' && depth === 0) {\n                    var backslashCount = 0;\n                    while (path.charAt(position - (backslashCount + 1)) === '\\\\') {\n                        backslashCount++;\n                    }\n                    if (backslashCount % 2 === 0) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n\n            while (position < length) {\n                var currentChar = path.charAt(position);\n                if (isClosingSlash(position)) {\n                    // end of regex found\n                    pattern = path.substring(start, position);\n                    if (pattern === '') {\n                        throw {\n                            code: \"S0301\",\n                            stack: (new Error()).stack,\n                            position: position\n                        };\n                    }\n                    position++;\n                    currentChar = path.charAt(position);\n                    // flags\n                    start = position;\n                    while (currentChar === 'i' || currentChar === 'm') {\n                        position++;\n                        currentChar = path.charAt(position);\n                    }\n                    flags = path.substring(start, position) + 'g';\n                    return new RegExp(pattern, flags);\n                }\n                if ((currentChar === '(' || currentChar === '[' || currentChar === '{') && path.charAt(position - 1) !== '\\\\') {\n                    depth++;\n                }\n                if ((currentChar === ')' || currentChar === ']' || currentChar === '}') && path.charAt(position - 1) !== '\\\\') {\n                    depth--;\n                }\n\n                position++;\n            }\n            throw {\n                code: \"S0302\",\n                stack: (new Error()).stack,\n                position: position\n            };\n        };\n\n        var next = function (prefix) {\n            if (position >= length) return null;\n            var currentChar = path.charAt(position);\n            // skip whitespace\n            while (position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = path.charAt(position);\n            }\n            // skip comments\n            if (currentChar === '/' && path.charAt(position + 1) === '*') {\n                var commentStart = position;\n                position += 2;\n                currentChar = path.charAt(position);\n                while (!(currentChar === '*' && path.charAt(position + 1) === '/')) {\n                    currentChar = path.charAt(++position);\n                    if (position >= length) {\n                        // no closing tag\n                        throw {\n                            code: \"S0106\",\n                            stack: (new Error()).stack,\n                            position: commentStart\n                        };\n                    }\n                }\n                position += 2;\n                currentChar = path.charAt(position);\n                return next(prefix); // need this to swallow any following whitespace\n            }\n            // test for regex\n            if (prefix !== true && currentChar === '/') {\n                position++;\n                return create('regex', scanRegex());\n            }\n            // handle double-char operators\n            if (currentChar === '.' && path.charAt(position + 1) === '.') {\n                // double-dot .. range operator\n                position += 2;\n                return create('operator', '..');\n            }\n            if (currentChar === ':' && path.charAt(position + 1) === '=') {\n                // := assignment\n                position += 2;\n                return create('operator', ':=');\n            }\n            if (currentChar === '!' && path.charAt(position + 1) === '=') {\n                // !=\n                position += 2;\n                return create('operator', '!=');\n            }\n            if (currentChar === '>' && path.charAt(position + 1) === '=') {\n                // >=\n                position += 2;\n                return create('operator', '>=');\n            }\n            if (currentChar === '<' && path.charAt(position + 1) === '=') {\n                // <=\n                position += 2;\n                return create('operator', '<=');\n            }\n            if (currentChar === '*' && path.charAt(position + 1) === '*') {\n                // **  descendant wildcard\n                position += 2;\n                return create('operator', '**');\n            }\n            if (currentChar === '~' && path.charAt(position + 1) === '>') {\n                // ~>  chain function\n                position += 2;\n                return create('operator', '~>');\n            }\n            // test for single char operators\n            if (Object.prototype.hasOwnProperty.call(operators, currentChar)) {\n                position++;\n                return create('operator', currentChar);\n            }\n            // test for string literals\n            if (currentChar === '\"' || currentChar === \"'\") {\n                var quoteType = currentChar;\n                // double quoted string literal - find end of string\n                position++;\n                var qstr = \"\";\n                while (position < length) {\n                    currentChar = path.charAt(position);\n                    if (currentChar === '\\\\') { // escape sequence\n                        position++;\n                        currentChar = path.charAt(position);\n                        if (Object.prototype.hasOwnProperty.call(escapes, currentChar)) {\n                            qstr += escapes[currentChar];\n                        } else if (currentChar === 'u') {\n                            // \\u should be followed by 4 hex digits\n                            var octets = path.substr(position + 1, 4);\n                            if (/^[0-9a-fA-F]+$/.test(octets)) {\n                                var codepoint = parseInt(octets, 16);\n                                qstr += String.fromCharCode(codepoint);\n                                position += 4;\n                            } else {\n                                throw {\n                                    code: \"S0104\",\n                                    stack: (new Error()).stack,\n                                    position: position\n                                };\n                            }\n                        } else {\n                            // illegal escape sequence\n                            throw {\n                                code: \"S0103\",\n                                stack: (new Error()).stack,\n                                position: position,\n                                token: currentChar\n                            };\n\n                        }\n                    } else if (currentChar === quoteType) {\n                        position++;\n                        return create('string', qstr);\n                    } else {\n                        qstr += currentChar;\n                    }\n                    position++;\n                }\n                throw {\n                    code: \"S0101\",\n                    stack: (new Error()).stack,\n                    position: position\n                };\n            }\n            // test for numbers\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\n            var match = numregex.exec(path.substring(position));\n            if (match !== null) {\n                var num = parseFloat(match[0]);\n                if (!isNaN(num) && isFinite(num)) {\n                    position += match[0].length;\n                    return create('number', num);\n                } else {\n                    throw {\n                        code: \"S0102\",\n                        stack: (new Error()).stack,\n                        position: position,\n                        token: match[0]\n                    };\n                }\n            }\n            // test for quoted names (backticks)\n            var name;\n            if (currentChar === '`') {\n                // scan for closing quote\n                position++;\n                var end = path.indexOf('`', position);\n                if (end !== -1) {\n                    name = path.substring(position, end);\n                    position = end + 1;\n                    return create('name', name);\n                }\n                position = length;\n                throw {\n                    code: \"S0105\",\n                    stack: (new Error()).stack,\n                    position: position\n                };\n            }\n            // test for names\n            var i = position;\n            var ch;\n            for (; ;) {\n                ch = path.charAt(i);\n                if (i === length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || Object.prototype.hasOwnProperty.call(operators, ch)) {\n                    if (path.charAt(position) === '$') {\n                        // variable reference\n                        name = path.substring(position + 1, i);\n                        position = i;\n                        return create('variable', name);\n                    } else {\n                        name = path.substring(position, i);\n                        position = i;\n                        switch (name) {\n                            case 'or':\n                            case 'in':\n                            case 'and':\n                                return create('operator', name);\n                            case 'true':\n                                return create('value', true);\n                            case 'false':\n                                return create('value', false);\n                            case 'null':\n                                return create('value', null);\n                            default:\n                                if (position === length && name === '') {\n                                    // whitespace at end of input\n                                    return null;\n                                }\n                                return create('name', name);\n                        }\n                    }\n                } else {\n                    i++;\n                }\n            }\n        };\n\n        return next;\n    };\n\n    // This parser implements the 'Top down operator precedence' algorithm developed by Vaughan R Pratt; http://dl.acm.org/citation.cfm?id=512931.\n    // and builds on the Javascript framework described by Douglas Crockford at http://javascript.crockford.com/tdop/tdop.html\n    // and in 'Beautiful Code', edited by Andy Oram and Greg Wilson, Copyright 2007 O'Reilly Media, Inc. 798-0-596-51004-6\n\n    var parser = function (source, recover) {\n        var node;\n        var lexer;\n\n        var symbol_table = {};\n        var errors = [];\n\n        var remainingTokens = function () {\n            var remaining = [];\n            if (node.id !== '(end)') {\n                remaining.push({type: node.type, value: node.value, position: node.position});\n            }\n            var nxt = lexer();\n            while (nxt !== null) {\n                remaining.push(nxt);\n                nxt = lexer();\n            }\n            return remaining;\n        };\n\n        var base_symbol = {\n            nud: function () {\n                // error - symbol has been invoked as a unary operator\n                var err = {\n                    code: 'S0211',\n                    token: this.value,\n                    position: this.position\n                };\n\n                if (recover) {\n                    err.remaining = remainingTokens();\n                    err.type = 'error';\n                    errors.push(err);\n                    return err;\n                } else {\n                    err.stack = (new Error()).stack;\n                    throw err;\n                }\n            }\n        };\n\n        var symbol = function (id, bp) {\n            var s = symbol_table[id];\n            bp = bp || 0;\n            if (s) {\n                if (bp >= s.lbp) {\n                    s.lbp = bp;\n                }\n            } else {\n                s = Object.create(base_symbol);\n                s.id = s.value = id;\n                s.lbp = bp;\n                symbol_table[id] = s;\n            }\n            return s;\n        };\n\n        var handleError = function (err) {\n            if (recover) {\n                // tokenize the rest of the buffer and add it to an error token\n                err.remaining = remainingTokens();\n                errors.push(err);\n                var symbol = symbol_table[\"(error)\"];\n                node = Object.create(symbol);\n                node.error = err;\n                node.type = \"(error)\";\n                return node;\n            } else {\n                err.stack = (new Error()).stack;\n                throw err;\n            }\n        };\n\n        var advance = function (id, infix) {\n            if (id && node.id !== id) {\n                var code;\n                if (node.id === '(end)') {\n                    // unexpected end of buffer\n                    code = \"S0203\";\n                } else {\n                    code = \"S0202\";\n                }\n                var err = {\n                    code: code,\n                    position: node.position,\n                    token: node.value,\n                    value: id\n                };\n                return handleError(err);\n            }\n            var next_token = lexer(infix);\n            if (next_token === null) {\n                node = symbol_table[\"(end)\"];\n                node.position = source.length;\n                return node;\n            }\n            var value = next_token.value;\n            var type = next_token.type;\n            var symbol;\n            switch (type) {\n                case 'name':\n                case 'variable':\n                    symbol = symbol_table[\"(name)\"];\n                    break;\n                case 'operator':\n                    symbol = symbol_table[value];\n                    if (!symbol) {\n                        return handleError({\n                            code: \"S0204\",\n                            stack: (new Error()).stack,\n                            position: next_token.position,\n                            token: value\n                        });\n                    }\n                    break;\n                case 'string':\n                case 'number':\n                case 'value':\n                    symbol = symbol_table[\"(literal)\"];\n                    break;\n                case 'regex':\n                    type = \"regex\";\n                    symbol = symbol_table[\"(regex)\"];\n                    break;\n                /* istanbul ignore next */\n                default:\n                    return handleError({\n                        code: \"S0205\",\n                        stack: (new Error()).stack,\n                        position: next_token.position,\n                        token: value\n                    });\n            }\n\n            node = Object.create(symbol);\n            node.value = value;\n            node.type = type;\n            node.position = next_token.position;\n            return node;\n        };\n\n        // Pratt's algorithm\n        var expression = function (rbp) {\n            var left;\n            var t = node;\n            advance(null, true);\n            left = t.nud();\n            while (rbp < node.lbp) {\n                t = node;\n                advance();\n                left = t.led(left);\n            }\n            return left;\n        };\n\n        var terminal = function (id) {\n            var s = symbol(id, 0);\n            s.nud = function () {\n                return this;\n            };\n        };\n\n        // match infix operators\n        // <expression> <operator> <expression>\n        // left associative\n        var infix = function (id, bp, led) {\n            var bindingPower = bp || operators[id];\n            var s = symbol(id, bindingPower);\n            s.led = led || function (left) {\n                this.lhs = left;\n                this.rhs = expression(bindingPower);\n                this.type = \"binary\";\n                return this;\n            };\n            return s;\n        };\n\n        // match infix operators\n        // <expression> <operator> <expression>\n        // right associative\n        var infixr = function (id, bp, led) {\n            var s = symbol(id, bp);\n            s.led = led;\n            return s;\n        };\n\n        // match prefix operators\n        // <operator> <expression>\n        var prefix = function (id, nud) {\n            var s = symbol(id);\n            s.nud = nud || function () {\n                this.expression = expression(70);\n                this.type = \"unary\";\n                return this;\n            };\n            return s;\n        };\n\n        terminal(\"(end)\");\n        terminal(\"(name)\");\n        terminal(\"(literal)\");\n        terminal(\"(regex)\");\n        symbol(\":\");\n        symbol(\";\");\n        symbol(\",\");\n        symbol(\")\");\n        symbol(\"]\");\n        symbol(\"}\");\n        symbol(\"..\"); // range operator\n        infix(\".\"); // map operator\n        infix(\"+\"); // numeric addition\n        infix(\"-\"); // numeric subtraction\n        infix(\"*\"); // numeric multiplication\n        infix(\"/\"); // numeric division\n        infix(\"%\"); // numeric modulus\n        infix(\"=\"); // equality\n        infix(\"<\"); // less than\n        infix(\">\"); // greater than\n        infix(\"!=\"); // not equal to\n        infix(\"<=\"); // less than or equal\n        infix(\">=\"); // greater than or equal\n        infix(\"&\"); // string concatenation\n        infix(\"and\"); // Boolean AND\n        infix(\"or\"); // Boolean OR\n        infix(\"in\"); // is member of array\n        terminal(\"and\"); // the 'keywords' can also be used as terminals (field names)\n        terminal(\"or\"); //\n        terminal(\"in\"); //\n        prefix(\"-\"); // unary numeric negation\n        infix(\"~>\"); // function application\n\n        infixr(\"(error)\", 10, function (left) {\n            this.lhs = left;\n\n            this.error = node.error;\n            this.remaining = remainingTokens();\n            this.type = 'error';\n            return this;\n        });\n\n        // field wildcard (single level)\n        prefix('*', function () {\n            this.type = \"wildcard\";\n            return this;\n        });\n\n        // descendant wildcard (multi-level)\n        prefix('**', function () {\n            this.type = \"descendant\";\n            return this;\n        });\n\n        // parent operator\n        prefix('%', function () {\n            this.type = \"parent\";\n            return this;\n        });\n\n        // function invocation\n        infix(\"(\", operators['('], function (left) {\n            // left is is what we are trying to invoke\n            this.procedure = left;\n            this.type = 'function';\n            this.arguments = [];\n            if (node.id !== ')') {\n                for (; ;) {\n                    if (node.type === 'operator' && node.id === '?') {\n                        // partial function application\n                        this.type = 'partial';\n                        this.arguments.push(node);\n                        advance('?');\n                    } else {\n                        this.arguments.push(expression(0));\n                    }\n                    if (node.id !== ',') break;\n                    advance(',');\n                }\n            }\n            advance(\")\", true);\n            // if the name of the function is 'function' or , then this is function definition (lambda function)\n            if (left.type === 'name' && (left.value === 'function' || left.value === '\\u03BB')) {\n                // all of the args must be VARIABLE tokens\n                this.arguments.forEach(function (arg, index) {\n                    if (arg.type !== 'variable') {\n                        return handleError({\n                            code: \"S0208\",\n                            stack: (new Error()).stack,\n                            position: arg.position,\n                            token: arg.value,\n                            value: index + 1\n                        });\n                    }\n                });\n                this.type = 'lambda';\n                // is the next token a '<' - if so, parse the function signature\n                if (node.id === '<') {\n                    var sigPos = node.position;\n                    var depth = 1;\n                    var sig = '<';\n                    while (depth > 0 && node.id !== '{' && node.id !== '(end)') {\n                        var tok = advance();\n                        if (tok.id === '>') {\n                            depth--;\n                        } else if (tok.id === '<') {\n                            depth++;\n                        }\n                        sig += tok.value;\n                    }\n                    advance('>');\n                    try {\n                        this.signature = parseSignature(sig);\n                    } catch (err) {\n                        // insert the position into this error\n                        err.position = sigPos + err.offset;\n                        return handleError(err);\n                    }\n                }\n                // parse the function body\n                advance('{');\n                this.body = expression(0);\n                advance('}');\n            }\n            return this;\n        });\n\n        // parenthesis - block expression\n        prefix(\"(\", function () {\n            var expressions = [];\n            while (node.id !== \")\") {\n                expressions.push(expression(0));\n                if (node.id !== \";\") {\n                    break;\n                }\n                advance(\";\");\n            }\n            advance(\")\", true);\n            this.type = 'block';\n            this.expressions = expressions;\n            return this;\n        });\n\n        // array constructor\n        prefix(\"[\", function () {\n            var a = [];\n            if (node.id !== \"]\") {\n                for (; ;) {\n                    var item = expression(0);\n                    if (node.id === \"..\") {\n                        // range operator\n                        var range = {type: \"binary\", value: \"..\", position: node.position, lhs: item};\n                        advance(\"..\");\n                        range.rhs = expression(0);\n                        item = range;\n                    }\n                    a.push(item);\n                    if (node.id !== \",\") {\n                        break;\n                    }\n                    advance(\",\");\n                }\n            }\n            advance(\"]\", true);\n            this.expressions = a;\n            this.type = \"unary\";\n            return this;\n        });\n\n        // filter - predicate or array index\n        infix(\"[\", operators['['], function (left) {\n            if (node.id === \"]\") {\n                // empty predicate means maintain singleton arrays in the output\n                var step = left;\n                while (step && step.type === 'binary' && step.value === '[') {\n                    step = step.lhs;\n                }\n                step.keepArray = true;\n                advance(\"]\");\n                return left;\n            } else {\n                this.lhs = left;\n                this.rhs = expression(operators[']']);\n                this.type = 'binary';\n                advance(\"]\", true);\n                return this;\n            }\n        });\n\n        // order-by\n        infix(\"^\", operators['^'], function (left) {\n            advance(\"(\");\n            var terms = [];\n            for (; ;) {\n                var term = {\n                    descending: false\n                };\n                if (node.id === \"<\") {\n                    // ascending sort\n                    advance(\"<\");\n                } else if (node.id === \">\") {\n                    // descending sort\n                    term.descending = true;\n                    advance(\">\");\n                } else {\n                    //unspecified - default to ascending\n                }\n                term.expression = expression(0);\n                terms.push(term);\n                if (node.id !== \",\") {\n                    break;\n                }\n                advance(\",\");\n            }\n            advance(\")\");\n            this.lhs = left;\n            this.rhs = terms;\n            this.type = 'binary';\n            return this;\n        });\n\n        var objectParser = function (left) {\n            var a = [];\n            if (node.id !== \"}\") {\n                for (; ;) {\n                    var n = expression(0);\n                    advance(\":\");\n                    var v = expression(0);\n                    a.push([n, v]); // holds an array of name/value expression pairs\n                    if (node.id !== \",\") {\n                        break;\n                    }\n                    advance(\",\");\n                }\n            }\n            advance(\"}\", true);\n            if (typeof left === 'undefined') {\n                // NUD - unary prefix form\n                this.lhs = a;\n                this.type = \"unary\";\n            } else {\n                // LED - binary infix form\n                this.lhs = left;\n                this.rhs = a;\n                this.type = 'binary';\n            }\n            return this;\n        };\n\n        // object constructor\n        prefix(\"{\", objectParser);\n\n        // object grouping\n        infix(\"{\", operators['{'], objectParser);\n\n        // bind variable\n        infixr(\":=\", operators[':='], function (left) {\n            if (left.type !== 'variable') {\n                return handleError({\n                    code: \"S0212\",\n                    stack: (new Error()).stack,\n                    position: left.position,\n                    token: left.value\n                });\n            }\n            this.lhs = left;\n            this.rhs = expression(operators[':='] - 1); // subtract 1 from bindingPower for right associative operators\n            this.type = \"binary\";\n            return this;\n        });\n\n        // focus variable bind\n        infix(\"@\", operators['@'], function (left) {\n            this.lhs = left;\n            this.rhs = expression(operators['@']);\n            if(this.rhs.type !== 'variable') {\n                return handleError({\n                    code: \"S0214\",\n                    stack: (new Error()).stack,\n                    position: this.rhs.position,\n                    token: \"@\"\n                });\n            }\n            this.type = \"binary\";\n            return this;\n        });\n\n        // index (position) variable bind\n        infix(\"#\", operators['#'], function (left) {\n            this.lhs = left;\n            this.rhs = expression(operators['#']);\n            if(this.rhs.type !== 'variable') {\n                return handleError({\n                    code: \"S0214\",\n                    stack: (new Error()).stack,\n                    position: this.rhs.position,\n                    token: \"#\"\n                });\n            }\n            this.type = \"binary\";\n            return this;\n        });\n\n        // if/then/else ternary operator ?:\n        infix(\"?\", operators['?'], function (left) {\n            this.type = 'condition';\n            this.condition = left;\n            this.then = expression(0);\n            if (node.id === ':') {\n                // else condition\n                advance(\":\");\n                this.else = expression(0);\n            }\n            return this;\n        });\n\n        // object transformer\n        prefix(\"|\", function () {\n            this.type = 'transform';\n            this.pattern = expression(0);\n            advance('|');\n            this.update = expression(0);\n            if (node.id === ',') {\n                advance(',');\n                this.delete = expression(0);\n            }\n            advance('|');\n            return this;\n        });\n\n        // tail call optimization\n        // this is invoked by the post parser to analyse lambda functions to see\n        // if they make a tail call.  If so, it is replaced by a thunk which will\n        // be invoked by the trampoline loop during function application.\n        // This enables tail-recursive functions to be written without growing the stack\n        var tailCallOptimize = function (expr) {\n            var result;\n            if (expr.type === 'function' && !expr.predicate) {\n                var thunk = {type: 'lambda', thunk: true, arguments: [], position: expr.position};\n                thunk.body = expr;\n                result = thunk;\n            } else if (expr.type === 'condition') {\n                // analyse both branches\n                expr.then = tailCallOptimize(expr.then);\n                if (typeof expr.else !== 'undefined') {\n                    expr.else = tailCallOptimize(expr.else);\n                }\n                result = expr;\n            } else if (expr.type === 'block') {\n                // only the last expression in the block\n                var length = expr.expressions.length;\n                if (length > 0) {\n                    expr.expressions[length - 1] = tailCallOptimize(expr.expressions[length - 1]);\n                }\n                result = expr;\n            } else {\n                result = expr;\n            }\n            return result;\n        };\n\n        var ancestorLabel = 0;\n        var ancestorIndex = 0;\n        var ancestry = [];\n\n        var seekParent = function (node, slot) {\n            switch (node.type) {\n                case 'name':\n                case 'wildcard':\n                    slot.level--;\n                    if(slot.level === 0) {\n                        if (typeof node.ancestor === 'undefined') {\n                            node.ancestor = slot;\n                        } else {\n                            // reuse the existing label\n                            ancestry[slot.index].slot.label = node.ancestor.label;\n                            node.ancestor = slot;\n                        }\n                        node.tuple = true;\n                    }\n                    break;\n                case 'parent':\n                    slot.level++;\n                    break;\n                case 'block':\n                    // look in last expression in the block\n                    if(node.expressions.length > 0) {\n                        node.tuple = true;\n                        slot = seekParent(node.expressions[node.expressions.length - 1], slot);\n                    }\n                    break;\n                case 'path':\n                    // last step in path\n                    node.tuple = true;\n                    var index = node.steps.length - 1;\n                    slot = seekParent(node.steps[index--], slot);\n                    while (slot.level > 0 && index >= 0) {\n                        // check previous steps\n                        slot = seekParent(node.steps[index--], slot);\n                    }\n                    break;\n                default:\n                    // error - can't derive ancestor\n                    throw {\n                        code: \"S0217\",\n                        token: node.type,\n                        position: node.position\n                    };\n            }\n            return slot;\n        };\n\n        var pushAncestry = function(result, value) {\n            if(typeof value.seekingParent !== 'undefined' || value.type === 'parent') {\n                var slots = (typeof value.seekingParent !== 'undefined') ? value.seekingParent : [];\n                if (value.type === 'parent') {\n                    slots.push(value.slot);\n                }\n                if(typeof result.seekingParent === 'undefined') {\n                    result.seekingParent = slots;\n                } else {\n                    Array.prototype.push.apply(result.seekingParent, slots);\n                }\n            }\n        };\n\n        var resolveAncestry = function(path) {\n            var index = path.steps.length - 1;\n            var laststep = path.steps[index];\n            var slots = (typeof laststep.seekingParent !== 'undefined') ? laststep.seekingParent : [];\n            if (laststep.type === 'parent') {\n                slots.push(laststep.slot);\n            }\n            for(var is = 0; is < slots.length; is++) {\n                var slot = slots[is];\n                index = path.steps.length - 2;\n                while (slot.level > 0) {\n                    if (index < 0) {\n                        if(typeof path.seekingParent === 'undefined') {\n                            path.seekingParent = [slot];\n                        } else {\n                            path.seekingParent.push(slot);\n                        }\n                        break;\n                    }\n                    // try previous step\n                    var step = path.steps[index--];\n                    // multiple contiguous steps that bind the focus should be skipped\n                    while(index >= 0 && step.focus && path.steps[index].focus) {\n                        step = path.steps[index--];\n                    }\n                    slot = seekParent(step, slot);\n                }\n            }\n        };\n\n        // post-parse stage\n        // the purpose of this is to add as much semantic value to the parse tree as possible\n        // in order to simplify the work of the evaluator.\n        // This includes flattening the parts of the AST representing location paths,\n        // converting them to arrays of steps which in turn may contain arrays of predicates.\n        // following this, nodes containing '.' and '[' should be eliminated from the AST.\n        var processAST = function (expr) {\n            var result;\n            switch (expr.type) {\n                case 'binary':\n                    switch (expr.value) {\n                        case '.':\n                            var lstep = processAST(expr.lhs);\n\n                            if (lstep.type === 'path') {\n                                result = lstep;\n                            } else {\n                                result = {type: 'path', steps: [lstep]};\n                            }\n                            if(lstep.type === 'parent') {\n                                result.seekingParent = [lstep.slot];\n                            }\n                            var rest = processAST(expr.rhs);\n                            if (rest.type === 'function' &&\n                                rest.procedure.type === 'path' &&\n                                rest.procedure.steps.length === 1 &&\n                                rest.procedure.steps[0].type === 'name' &&\n                                result.steps[result.steps.length - 1].type === 'function') {\n                                // next function in chain of functions - will override a thenable\n                                result.steps[result.steps.length - 1].nextFunction = rest.procedure.steps[0].value;\n                            }\n                            if (rest.type === 'path') {\n                                Array.prototype.push.apply(result.steps, rest.steps);\n                            } else {\n                                if(typeof rest.predicate !== 'undefined') {\n                                    rest.stages = rest.predicate;\n                                    delete rest.predicate;\n                                }\n                                result.steps.push(rest);\n                            }\n                            // any steps within a path that are string literals, should be changed to 'name'\n                            result.steps.filter(function (step) {\n                                if (step.type === 'number' || step.type === 'value') {\n                                    // don't allow steps to be numbers or the values true/false/null\n                                    throw {\n                                        code: \"S0213\",\n                                        stack: (new Error()).stack,\n                                        position: step.position,\n                                        value: step.value\n                                    };\n                                }\n                                return step.type === 'string';\n                            }).forEach(function (lit) {\n                                lit.type = 'name';\n                            });\n                            // any step that signals keeping a singleton array, should be flagged on the path\n                            if (result.steps.filter(function (step) {\n                                return step.keepArray === true;\n                            }).length > 0) {\n                                result.keepSingletonArray = true;\n                            }\n                            // if first step is a path constructor, flag it for special handling\n                            var firststep = result.steps[0];\n                            if (firststep.type === 'unary' && firststep.value === '[') {\n                                firststep.consarray = true;\n                            }\n                            // if the last step is an array constructor, flag it so it doesn't flatten\n                            var laststep = result.steps[result.steps.length - 1];\n                            if (laststep.type === 'unary' && laststep.value === '[') {\n                                laststep.consarray = true;\n                            }\n                            resolveAncestry(result);\n                            break;\n                        case '[':\n                            // predicated step\n                            // LHS is a step or a predicated step\n                            // RHS is the predicate expr\n                            result = processAST(expr.lhs);\n                            var step = result;\n                            var type = 'predicate';\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                                type = 'stages';\n                            }\n                            if (typeof step.group !== 'undefined') {\n                                throw {\n                                    code: \"S0209\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            if (typeof step[type] === 'undefined') {\n                                step[type] = [];\n                            }\n                            var predicate = processAST(expr.rhs);\n                            if(typeof predicate.seekingParent !== 'undefined') {\n                                predicate.seekingParent.forEach(slot => {\n                                    if(slot.level === 1) {\n                                        seekParent(step, slot);\n                                    } else {\n                                        slot.level--;\n                                    }\n                                });\n                                pushAncestry(step, predicate);\n                            }\n                            step[type].push({type: 'filter', expr: predicate, position: expr.position});\n                            break;\n                        case '{':\n                            // group-by\n                            // LHS is a step or a predicated step\n                            // RHS is the object constructor expr\n                            result = processAST(expr.lhs);\n                            if (typeof result.group !== 'undefined') {\n                                throw {\n                                    code: \"S0210\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            // object constructor - process each pair\n                            result.group = {\n                                lhs: expr.rhs.map(function (pair) {\n                                    return [processAST(pair[0]), processAST(pair[1])];\n                                }),\n                                position: expr.position\n                            };\n                            break;\n                        case '^':\n                            // order-by\n                            // LHS is the array to be ordered\n                            // RHS defines the terms\n                            result = processAST(expr.lhs);\n                            if (result.type !== 'path') {\n                                result = {type: 'path', steps: [result]};\n                            }\n                            var sortStep = {type: 'sort', position: expr.position};\n                            sortStep.terms = expr.rhs.map(function (terms) {\n                                var expression = processAST(terms.expression);\n                                pushAncestry(sortStep, expression);\n                                return {\n                                    descending: terms.descending,\n                                    expression: expression\n                                };\n                            });\n                            result.steps.push(sortStep);\n                            resolveAncestry(result);\n                            break;\n                        case ':=':\n                            result = {type: 'bind', value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            pushAncestry(result, result.rhs);\n                            break;\n                        case '@':\n                            result = processAST(expr.lhs);\n                            step = result;\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                            }\n                            // throw error if there are any predicates defined at this point\n                            // at this point the only type of stages can be predicates\n                            if(typeof step.stages !== 'undefined' || typeof step.predicate !== 'undefined') {\n                                throw {\n                                    code: \"S0215\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            // also throw if this is applied after an 'order-by' clause\n                            if(step.type === 'sort') {\n                                throw {\n                                    code: \"S0216\",\n                                    stack: (new Error()).stack,\n                                    position: expr.position\n                                };\n                            }\n                            if(expr.keepArray) {\n                                step.keepArray = true;\n                            }\n                            step.focus = expr.rhs.value;\n                            step.tuple = true;\n                            break;\n                        case '#':\n                            result = processAST(expr.lhs);\n                            step = result;\n                            if (result.type === 'path') {\n                                step = result.steps[result.steps.length - 1];\n                            } else {\n                                result = {type: 'path', steps: [result]};\n                                if (typeof step.predicate !== 'undefined') {\n                                    step.stages = step.predicate;\n                                    delete step.predicate;\n                                }\n                            }\n                            if (typeof step.stages === 'undefined') {\n                                step.index = expr.rhs.value;\n                            } else {\n                                step.stages.push({type: 'index', value: expr.rhs.value, position: expr.position});\n                            }\n                            step.tuple = true;\n                            break;\n                        case '~>':\n                            result = {type: 'apply', value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            break;\n                        default:\n                            result = {type: expr.type, value: expr.value, position: expr.position};\n                            result.lhs = processAST(expr.lhs);\n                            result.rhs = processAST(expr.rhs);\n                            pushAncestry(result, result.lhs);\n                            pushAncestry(result, result.rhs);\n                    }\n                    break;\n                case 'unary':\n                    result = {type: expr.type, value: expr.value, position: expr.position};\n                    if (expr.value === '[') {\n                        // array constructor - process each item\n                        result.expressions = expr.expressions.map(function (item) {\n                            var value = processAST(item);\n                            pushAncestry(result, value);\n                            return value;\n                        });\n                    } else if (expr.value === '{') {\n                        // object constructor - process each pair\n                        result.lhs = expr.lhs.map(function (pair) {\n                            var key = processAST(pair[0]);\n                            pushAncestry(result, key);\n                            var value = processAST(pair[1]);\n                            pushAncestry(result, value);\n                            return [key, value];\n                        });\n                    } else {\n                        // all other unary expressions - just process the expression\n                        result.expression = processAST(expr.expression);\n                        // if unary minus on a number, then pre-process\n                        if (expr.value === '-' && result.expression.type === 'number') {\n                            result = result.expression;\n                            result.value = -result.value;\n                        } else {\n                            pushAncestry(result, result.expression);\n                        }\n                    }\n                    break;\n                case 'function':\n                case 'partial':\n                    result = {type: expr.type, name: expr.name, value: expr.value, position: expr.position};\n                    result.arguments = expr.arguments.map(function (arg) {\n                        var argAST = processAST(arg);\n                        pushAncestry(result, argAST);\n                        return argAST;\n                    });\n                    result.procedure = processAST(expr.procedure);\n                    break;\n                case 'lambda':\n                    result = {\n                        type: expr.type,\n                        arguments: expr.arguments,\n                        signature: expr.signature,\n                        position: expr.position\n                    };\n                    var body = processAST(expr.body);\n                    result.body = tailCallOptimize(body);\n                    break;\n                case 'condition':\n                    result = {type: expr.type, position: expr.position};\n                    result.condition = processAST(expr.condition);\n                    pushAncestry(result, result.condition);\n                    result.then = processAST(expr.then);\n                    pushAncestry(result, result.then);\n                    if (typeof expr.else !== 'undefined') {\n                        result.else = processAST(expr.else);\n                        pushAncestry(result, result.else);\n                    }\n                    break;\n                case 'transform':\n                    result = {type: expr.type, position: expr.position};\n                    result.pattern = processAST(expr.pattern);\n                    result.update = processAST(expr.update);\n                    if (typeof expr.delete !== 'undefined') {\n                        result.delete = processAST(expr.delete);\n                    }\n                    break;\n                case 'block':\n                    result = {type: expr.type, position: expr.position};\n                    // array of expressions - process each one\n                    result.expressions = expr.expressions.map(function (item) {\n                        var part = processAST(item);\n                        pushAncestry(result, part);\n                        if (part.consarray || (part.type === 'path' && part.steps[0].consarray)) {\n                            result.consarray = true;\n                        }\n                        return part;\n                    });\n                    // TODO scan the array of expressions to see if any of them assign variables\n                    // if so, need to mark the block as one that needs to create a new frame\n                    break;\n                case 'name':\n                    result = {type: 'path', steps: [expr]};\n                    if (expr.keepArray) {\n                        result.keepSingletonArray = true;\n                    }\n                    break;\n                case 'parent':\n                    result = {type: 'parent', slot: { label: '!' + ancestorLabel++, level: 1, index: ancestorIndex++ } };\n                    ancestry.push(result);\n                    break;\n                case 'string':\n                case 'number':\n                case 'value':\n                case 'wildcard':\n                case 'descendant':\n                case 'variable':\n                case 'regex':\n                    result = expr;\n                    break;\n                case 'operator':\n                    // the tokens 'and' and 'or' might have been used as a name rather than an operator\n                    if (expr.value === 'and' || expr.value === 'or' || expr.value === 'in') {\n                        expr.type = 'name';\n                        result = processAST(expr);\n                    } else /* istanbul ignore else */ if (expr.value === '?') {\n                        // partial application\n                        result = expr;\n                    } else {\n                        throw {\n                            code: \"S0201\",\n                            stack: (new Error()).stack,\n                            position: expr.position,\n                            token: expr.value\n                        };\n                    }\n                    break;\n                case 'error':\n                    result = expr;\n                    if (expr.lhs) {\n                        result = processAST(expr.lhs);\n                    }\n                    break;\n                default:\n                    var code = \"S0206\";\n                    /* istanbul ignore else */\n                    if (expr.id === '(end)') {\n                        code = \"S0207\";\n                    }\n                    var err = {\n                        code: code,\n                        position: expr.position,\n                        token: expr.value\n                    };\n                    if (recover) {\n                        errors.push(err);\n                        return {type: 'error', error: err};\n                    } else {\n                        err.stack = (new Error()).stack;\n                        throw err;\n                    }\n            }\n            if (expr.keepArray) {\n                result.keepArray = true;\n            }\n            return result;\n        };\n\n        // now invoke the tokenizer and the parser and return the syntax tree\n        lexer = tokenizer(source);\n        advance();\n        // parse the tokens\n        var expr = expression(0);\n        if (node.id !== '(end)') {\n            var err = {\n                code: \"S0201\",\n                position: node.position,\n                token: node.value\n            };\n            handleError(err);\n        }\n        expr = processAST(expr);\n\n        if(expr.type === 'parent' || typeof expr.seekingParent !== 'undefined') {\n            // error - trying to derive ancestor at top level\n            throw {\n                code: \"S0217\",\n                token: expr.type,\n                position: expr.position\n            };\n        }\n\n        if (errors.length > 0) {\n            expr.errors = errors;\n        }\n\n        return expr;\n    };\n\n    return parser;\n})();\n\nmodule.exports = parser;\n\n},{\"./signature\":5}],5:[function(require,module,exports){\n/**\n *  Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nvar utils = require('./utils');\n\nconst signature = (() => {\n    'use strict';\n\n    // A mapping between the function signature symbols and the full plural of the type\n    // Expected to be used in error messages\n    var arraySignatureMapping = {\n        \"a\": \"arrays\",\n        \"b\": \"booleans\",\n        \"f\": \"functions\",\n        \"n\": \"numbers\",\n        \"o\": \"objects\",\n        \"s\": \"strings\"\n    };\n\n    /**\n     * Parses a function signature definition and returns a validation function\n     * @param {string} signature - the signature between the <angle brackets>\n     * @returns {Function} validation function\n     */\n    function parseSignature(signature) {\n        // create a Regex that represents this signature and return a function that when invoked,\n        // returns the validated (possibly fixed-up) arguments, or throws a validation error\n        // step through the signature, one symbol at a time\n        var position = 1;\n        var params = [];\n        var param = {};\n        var prevParam = param;\n        while (position < signature.length) {\n            var symbol = signature.charAt(position);\n            if (symbol === ':') {\n                // TODO figure out what to do with the return type\n                // ignore it for now\n                break;\n            }\n\n            var next = function () {\n                params.push(param);\n                prevParam = param;\n                param = {};\n            };\n\n            var findClosingBracket = function (str, start, openSymbol, closeSymbol) {\n                // returns the position of the closing symbol (e.g. bracket) in a string\n                // that balances the opening symbol at position start\n                var depth = 1;\n                var position = start;\n                while (position < str.length) {\n                    position++;\n                    symbol = str.charAt(position);\n                    if (symbol === closeSymbol) {\n                        depth--;\n                        if (depth === 0) {\n                            // we're done\n                            break; // out of while loop\n                        }\n                    } else if (symbol === openSymbol) {\n                        depth++;\n                    }\n                }\n                return position;\n            };\n\n            switch (symbol) {\n                case 's': // string\n                case 'n': // number\n                case 'b': // boolean\n                case 'l': // not so sure about expecting null?\n                case 'o': // object\n                    param.regex = '[' + symbol + 'm]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'a': // array\n                    //  normally treat any value as singleton array\n                    param.regex = '[asnblfom]';\n                    param.type = symbol;\n                    param.array = true;\n                    next();\n                    break;\n                case 'f': // function\n                    param.regex = 'f';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'j': // any JSON type\n                    param.regex = '[asnblom]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case 'x': // any type\n                    param.regex = '[asnblfom]';\n                    param.type = symbol;\n                    next();\n                    break;\n                case '-': // use context if param not supplied\n                    prevParam.context = true;\n                    prevParam.contextRegex = new RegExp(prevParam.regex); // pre-compiled to test the context type at runtime\n                    prevParam.regex += '?';\n                    break;\n                case '?': // optional param\n                case '+': // one or more\n                    prevParam.regex += symbol;\n                    break;\n                case '(': // choice of types\n                    // search forward for matching ')'\n                    var endParen = findClosingBracket(signature, position, '(', ')');\n                    var choice = signature.substring(position + 1, endParen);\n                    if (choice.indexOf('<') === -1) {\n                        // no parameterized types, simple regex\n                        param.regex = '[' + choice + 'm]';\n                    } else {\n                        // TODO harder\n                        throw {\n                            code: \"S0402\",\n                            stack: (new Error()).stack,\n                            value: choice,\n                            offset: position\n                        };\n                    }\n                    param.type = '(' + choice + ')';\n                    position = endParen;\n                    next();\n                    break;\n                case '<': // type parameter - can only be applied to 'a' and 'f'\n                    if (prevParam.type === 'a' || prevParam.type === 'f') {\n                        // search forward for matching '>'\n                        var endPos = findClosingBracket(signature, position, '<', '>');\n                        prevParam.subtype = signature.substring(position + 1, endPos);\n                        position = endPos;\n                    } else {\n                        throw {\n                            code: \"S0401\",\n                            stack: (new Error()).stack,\n                            value: prevParam.type,\n                            offset: position\n                        };\n                    }\n                    break;\n            }\n            position++;\n        }\n        var regexStr = '^' +\n            params.map(function (param) {\n                return '(' + param.regex + ')';\n            }).join('') +\n            '$';\n        var regex = new RegExp(regexStr);\n        var getSymbol = function (value) {\n            var symbol;\n            if (utils.isFunction(value)) {\n                symbol = 'f';\n            } else {\n                var type = typeof value;\n                switch (type) {\n                    case 'string':\n                        symbol = 's';\n                        break;\n                    case 'number':\n                        symbol = 'n';\n                        break;\n                    case 'boolean':\n                        symbol = 'b';\n                        break;\n                    case 'object':\n                        if (value === null) {\n                            symbol = 'l';\n                        } else if (Array.isArray(value)) {\n                            symbol = 'a';\n                        } else {\n                            symbol = 'o';\n                        }\n                        break;\n                    case 'undefined':\n                    default:\n                        // any value can be undefined, but should be allowed to match\n                        symbol = 'm'; // m for missing\n                }\n            }\n            return symbol;\n        };\n\n        var throwValidationError = function (badArgs, badSig) {\n            // to figure out where this went wrong we need apply each component of the\n            // regex to each argument until we get to the one that fails to match\n            var partialPattern = '^';\n            var goodTo = 0;\n            for (var index = 0; index < params.length; index++) {\n                partialPattern += params[index].regex;\n                var match = badSig.match(partialPattern);\n                if (match === null) {\n                    // failed here\n                    throw {\n                        code: \"T0410\",\n                        stack: (new Error()).stack,\n                        value: badArgs[goodTo],\n                        index: goodTo + 1\n                    };\n                }\n                goodTo = match[0].length;\n            }\n            // if it got this far, it's probably because of extraneous arguments (we\n            // haven't added the trailing '$' in the regex yet.\n            throw {\n                code: \"T0410\",\n                stack: (new Error()).stack,\n                value: badArgs[goodTo],\n                index: goodTo + 1\n            };\n        };\n\n        return {\n            definition: signature,\n            validate: function (args, context) {\n                var suppliedSig = '';\n                args.forEach(function (arg) {\n                    suppliedSig += getSymbol(arg);\n                });\n                var isValid = regex.exec(suppliedSig);\n                if (isValid) {\n                    var validatedArgs = [];\n                    var argIndex = 0;\n                    params.forEach(function (param, index) {\n                        var arg = args[argIndex];\n                        var match = isValid[index + 1];\n                        if (match === '') {\n                            if (param.context && param.contextRegex) {\n                                // substitute context value for missing arg\n                                // first check that the context value is the right type\n                                var contextType = getSymbol(context);\n                                // test contextType against the regex for this arg (without the trailing ?)\n                                if (param.contextRegex.test(contextType)) {\n                                    validatedArgs.push(context);\n                                } else {\n                                    // context value not compatible with this argument\n                                    throw {\n                                        code: \"T0411\",\n                                        stack: (new Error()).stack,\n                                        value: context,\n                                        index: argIndex + 1\n                                    };\n                                }\n                            } else {\n                                validatedArgs.push(arg);\n                                argIndex++;\n                            }\n                        } else {\n                            // may have matched multiple args (if the regex ends with a '+'\n                            // split into single tokens\n                            match.split('').forEach(function (single) {\n                                if (param.type === 'a') {\n                                    if (single === 'm') {\n                                        // missing (undefined)\n                                        arg = undefined;\n                                    } else {\n                                        arg = args[argIndex];\n                                        var arrayOK = true;\n                                        // is there type information on the contents of the array?\n                                        if (typeof param.subtype !== 'undefined') {\n                                            if (single !== 'a' && match !== param.subtype) {\n                                                arrayOK = false;\n                                            } else if (single === 'a') {\n                                                if (arg.length > 0) {\n                                                    var itemType = getSymbol(arg[0]);\n                                                    if (itemType !== param.subtype.charAt(0)) { // TODO recurse further\n                                                        arrayOK = false;\n                                                    } else {\n                                                        // make sure every item in the array is this type\n                                                        var differentItems = arg.filter(function (val) {\n                                                            return (getSymbol(val) !== itemType);\n                                                        });\n                                                        arrayOK = (differentItems.length === 0);\n                                                    }\n                                                }\n                                            }\n                                        }\n                                        if (!arrayOK) {\n                                            throw {\n                                                code: \"T0412\",\n                                                stack: (new Error()).stack,\n                                                value: arg,\n                                                index: argIndex + 1,\n                                                type: arraySignatureMapping[param.subtype]\n                                            };\n                                        }\n                                        // the function expects an array. If it's not one, make it so\n                                        if (single !== 'a') {\n                                            arg = [arg];\n                                        }\n                                    }\n                                    validatedArgs.push(arg);\n                                    argIndex++;\n                                } else {\n                                    validatedArgs.push(arg);\n                                    argIndex++;\n                                }\n                            });\n                        }\n                    });\n                    return validatedArgs;\n                }\n                throwValidationError(args, suppliedSig);\n            }\n        };\n    }\n\n    return parseSignature;\n})();\n\nmodule.exports = signature;\n\n},{\"./utils\":6}],6:[function(require,module,exports){\n/**\n *  Copyright IBM Corp. 2016, 2018 All Rights Reserved\n *   Project name: JSONata\n *   This project is licensed under the MIT License, see LICENSE\n */\n\nconst utils = (() => {\n    'use strict';\n\n    /**\n     * Check if value is a finite number\n     * @param {float} n - number to evaluate\n     * @returns {boolean} True if n is a finite number\n     */\n    function isNumeric(n) {\n        var isNum = false;\n        if(typeof n === 'number') {\n            isNum = !isNaN(n);\n            if (isNum && !isFinite(n)) {\n                throw {\n                    code: \"D1001\",\n                    value: n,\n                    stack: (new Error()).stack\n                };\n            }\n        }\n        return isNum;\n    }\n\n    /**\n     * Returns true if the arg is an array of strings\n     * @param {*} arg - the item to test\n     * @returns {boolean} True if arg is an array of strings\n     */\n    function isArrayOfStrings(arg) {\n        var result = false;\n        /* istanbul ignore else */\n        if(Array.isArray(arg)) {\n            result = (arg.filter(function(item){return typeof item !== 'string';}).length === 0);\n        }\n        return result;\n    }\n\n    /**\n     * Returns true if the arg is an array of numbers\n     * @param {*} arg - the item to test\n     * @returns {boolean} True if arg is an array of numbers\n     */\n    function isArrayOfNumbers(arg) {\n        var result = false;\n        if(Array.isArray(arg)) {\n            result = (arg.filter(function(item){return !isNumeric(item);}).length === 0);\n        }\n        return result;\n    }\n\n    /**\n     * Create an empty sequence to contain query results\n     * @returns {Array} - empty sequence\n     */\n    function createSequence() {\n        var sequence = [];\n        sequence.sequence = true;\n        if (arguments.length === 1) {\n            sequence.push(arguments[0]);\n        }\n        return sequence;\n    }\n\n    /**\n     * Tests if a value is a sequence\n     * @param {*} value the value to test\n     * @returns {boolean} true if it's a sequence\n     */\n    function isSequence(value) {\n        return value.sequence === true && Array.isArray(value);\n    }\n\n    /**\n     *\n     * @param {Object} arg - expression to test\n     * @returns {boolean} - true if it is a function (lambda or built-in)\n     */\n    function isFunction(arg) {\n        return ((arg && (arg._jsonata_function === true || arg._jsonata_lambda === true)) || typeof arg === 'function');\n    }\n\n    /**\n     * Returns the arity (number of arguments) of the function\n     * @param {*} func - the function\n     * @returns {*} - the arity\n     */\n    function getFunctionArity(func) {\n        var arity = typeof func.arity === 'number' ? func.arity :\n            typeof func.implementation === 'function' ? func.implementation.length :\n                typeof func.length === 'number' ? func.length : func.arguments.length;\n        return arity;\n    }\n\n    /**\n     * Tests whether arg is a lambda function\n     * @param {*} arg - the value to test\n     * @returns {boolean} - true if it is a lambda function\n     */\n    function isLambda(arg) {\n        return arg && arg._jsonata_lambda === true;\n    }\n\n    // istanbul ignore next\n    var iteratorSymbol = (typeof Symbol === \"function\" ? Symbol : {}).iterator || \"@@iterator\";\n\n    /**\n     * @param {Object} arg - expression to test\n     * @returns {boolean} - true if it is iterable\n     */\n    function isIterable(arg) {\n        return (\n            typeof arg === 'object' &&\n            arg !== null &&\n            iteratorSymbol in arg &&\n            'next' in arg &&\n            typeof arg.next === 'function'\n        );\n    }\n\n    /**\n     * Compares two values for equality\n     * @param {*} lhs first value\n     * @param {*} rhs second value\n     * @returns {boolean} true if they are deep equal\n     */\n    function isDeepEqual(lhs, rhs) {\n        if (lhs === rhs) {\n            return true;\n        }\n        if(typeof lhs === 'object' && typeof rhs === 'object' && lhs !== null && rhs !== null) {\n            if(Array.isArray(lhs) && Array.isArray(rhs)) {\n                // both arrays (or sequences)\n                // must be the same length\n                if(lhs.length !== rhs.length) {\n                    return false;\n                }\n                // must contain same values in same order\n                for(var ii = 0; ii < lhs.length; ii++) {\n                    if(!isDeepEqual(lhs[ii], rhs[ii])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            // both objects\n            // must have the same set of keys (in any order)\n            var lkeys = Object.getOwnPropertyNames(lhs);\n            var rkeys = Object.getOwnPropertyNames(rhs);\n            if(lkeys.length !== rkeys.length) {\n                return false;\n            }\n            lkeys = lkeys.sort();\n            rkeys = rkeys.sort();\n            for(ii=0; ii < lkeys.length; ii++) {\n                if(lkeys[ii] !== rkeys[ii]) {\n                    return false;\n                }\n            }\n            // must have the same values\n            for(ii=0; ii < lkeys.length; ii++) {\n                var key = lkeys[ii];\n                if(!isDeepEqual(lhs[key], rhs[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @param {Object} arg - expression to test\n     * @returns {boolean} - true if it is a promise\n     */\n    function isPromise(arg) {\n        return (\n            typeof arg === 'object' &&\n                arg !== null &&\n                'then' in arg &&\n                typeof arg.then === 'function'\n        );\n    }\n\n    /**\n     * converts a string to an array of characters\n     * @param {string} str - the input string\n     * @returns {Array} - the array of characters\n     */\n    function stringToArray(str) {\n        var arr = [];\n        for (let char of str) {\n            arr.push(char);\n        }\n        return arr;\n    }\n\n    return {\n        isNumeric,\n        isArrayOfStrings,\n        isArrayOfNumbers,\n        createSequence,\n        isSequence,\n        isFunction,\n        isLambda,\n        isIterable,\n        getFunctionArity,\n        isDeepEqual,\n        stringToArray,\n        isPromise\n    };\n})();\n\nmodule.exports = utils;\n\n},{}]},{},[3])(3)\n});\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport stylePropType from 'react-style-proptype';\nimport { polyfill } from 'react-lifecycles-compat';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar Pane = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Pane, _React$PureComponent);\n\n  var _super = _createSuper(Pane);\n\n  function Pane() {\n    _classCallCheck(this, Pane);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Pane, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          className = _this$props.className,\n          split = _this$props.split,\n          styleProps = _this$props.style,\n          size = _this$props.size,\n          eleRef = _this$props.eleRef;\n      var classes = ['Pane', split, className];\n      var style = {\n        flex: 1,\n        position: 'relative',\n        outline: 'none'\n      };\n\n      if (size !== undefined) {\n        if (split === 'vertical') {\n          style.width = size;\n        } else {\n          style.height = size;\n          style.display = 'flex';\n        }\n\n        style.flex = 'none';\n      }\n\n      style = Object.assign({}, style, styleProps || {});\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: eleRef,\n        className: classes.join(' '),\n        style: style\n      }, children);\n    }\n  }]);\n\n  return Pane;\n}(React.PureComponent);\n\nPane.propTypes = {\n  className: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  split: PropTypes.oneOf(['vertical', 'horizontal']),\n  style: stylePropType,\n  eleRef: PropTypes.func\n};\nPane.defaultProps = {};\n\nvar RESIZER_DEFAULT_CLASSNAME = 'Resizer';\n\nvar Resizer = /*#__PURE__*/function (_React$Component) {\n  _inherits(Resizer, _React$Component);\n\n  var _super = _createSuper(Resizer);\n\n  function Resizer() {\n    _classCallCheck(this, Resizer);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Resizer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          _onClick = _this$props.onClick,\n          _onDoubleClick = _this$props.onDoubleClick,\n          _onMouseDown = _this$props.onMouseDown,\n          _onTouchEnd = _this$props.onTouchEnd,\n          _onTouchStart = _this$props.onTouchStart,\n          resizerClassName = _this$props.resizerClassName,\n          split = _this$props.split,\n          style = _this$props.style;\n      var classes = [resizerClassName, split, className];\n      return /*#__PURE__*/React.createElement(\"span\", {\n        role: \"presentation\",\n        className: classes.join(' '),\n        style: style,\n        onMouseDown: function onMouseDown(event) {\n          return _onMouseDown(event);\n        },\n        onTouchStart: function onTouchStart(event) {\n          event.preventDefault();\n\n          _onTouchStart(event);\n        },\n        onTouchEnd: function onTouchEnd(event) {\n          event.preventDefault();\n\n          _onTouchEnd(event);\n        },\n        onClick: function onClick(event) {\n          if (_onClick) {\n            event.preventDefault();\n\n            _onClick(event);\n          }\n        },\n        onDoubleClick: function onDoubleClick(event) {\n          if (_onDoubleClick) {\n            event.preventDefault();\n\n            _onDoubleClick(event);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Resizer;\n}(React.Component);\n\nResizer.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func,\n  onDoubleClick: PropTypes.func,\n  onMouseDown: PropTypes.func.isRequired,\n  onTouchStart: PropTypes.func.isRequired,\n  onTouchEnd: PropTypes.func.isRequired,\n  split: PropTypes.oneOf(['vertical', 'horizontal']),\n  style: stylePropType,\n  resizerClassName: PropTypes.string.isRequired\n};\nResizer.defaultProps = {\n  resizerClassName: RESIZER_DEFAULT_CLASSNAME\n};\n\nfunction unFocus(document, window) {\n  if (document.selection) {\n    document.selection.empty();\n  } else {\n    try {\n      window.getSelection().removeAllRanges(); // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction getDefaultSize(defaultSize, minSize, maxSize, draggedSize) {\n  if (typeof draggedSize === 'number') {\n    var min = typeof minSize === 'number' ? minSize : 0;\n    var max = typeof maxSize === 'number' && maxSize >= 0 ? maxSize : Infinity;\n    return Math.max(min, Math.min(max, draggedSize));\n  }\n\n  if (defaultSize !== undefined) {\n    return defaultSize;\n  }\n\n  return minSize;\n}\n\nfunction removeNullChildren(children) {\n  return React.Children.toArray(children).filter(function (c) {\n    return c;\n  });\n}\n\nvar SplitPane = /*#__PURE__*/function (_React$Component) {\n  _inherits(SplitPane, _React$Component);\n\n  var _super = _createSuper(SplitPane);\n\n  function SplitPane(props) {\n    var _this;\n\n    _classCallCheck(this, SplitPane);\n\n    _this = _super.call(this, props);\n    _this.onMouseDown = _this.onMouseDown.bind(_assertThisInitialized(_this));\n    _this.onTouchStart = _this.onTouchStart.bind(_assertThisInitialized(_this));\n    _this.onMouseMove = _this.onMouseMove.bind(_assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(_assertThisInitialized(_this));\n    _this.onMouseUp = _this.onMouseUp.bind(_assertThisInitialized(_this)); // order of setting panel sizes.\n    // 1. size\n    // 2. getDefaultSize(defaultSize, minsize, maxSize)\n\n    var size = props.size,\n        defaultSize = props.defaultSize,\n        minSize = props.minSize,\n        maxSize = props.maxSize,\n        primary = props.primary;\n    var initialSize = size !== undefined ? size : getDefaultSize(defaultSize, minSize, maxSize, null);\n    _this.state = {\n      active: false,\n      resized: false,\n      pane1Size: primary === 'first' ? initialSize : undefined,\n      pane2Size: primary === 'second' ? initialSize : undefined,\n      // these are props that are needed in static functions. ie: gDSFP\n      instanceProps: {\n        size: size\n      }\n    };\n    return _this;\n  }\n\n  _createClass(SplitPane, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mouseup', this.onMouseUp);\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('touchmove', this.onTouchMove);\n      this.setState(SplitPane.getSizeUpdate(this.props, this.state));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('touchmove', this.onTouchMove);\n    }\n  }, {\n    key: \"onMouseDown\",\n    value: function onMouseDown(event) {\n      var eventWithTouches = Object.assign({}, event, {\n        touches: [{\n          clientX: event.clientX,\n          clientY: event.clientY\n        }]\n      });\n      this.onTouchStart(eventWithTouches);\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(event) {\n      var _this$props = this.props,\n          allowResize = _this$props.allowResize,\n          onDragStarted = _this$props.onDragStarted,\n          split = _this$props.split;\n\n      if (allowResize) {\n        unFocus(document, window);\n        var position = split === 'vertical' ? event.touches[0].clientX : event.touches[0].clientY;\n\n        if (typeof onDragStarted === 'function') {\n          onDragStarted();\n        }\n\n        this.setState({\n          active: true,\n          position: position\n        });\n      }\n    }\n  }, {\n    key: \"onMouseMove\",\n    value: function onMouseMove(event) {\n      var eventWithTouches = Object.assign({}, event, {\n        touches: [{\n          clientX: event.clientX,\n          clientY: event.clientY\n        }]\n      });\n      this.onTouchMove(eventWithTouches);\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(event) {\n      var _this$props2 = this.props,\n          allowResize = _this$props2.allowResize,\n          maxSize = _this$props2.maxSize,\n          minSize = _this$props2.minSize,\n          onChange = _this$props2.onChange,\n          split = _this$props2.split,\n          step = _this$props2.step;\n      var _this$state = this.state,\n          active = _this$state.active,\n          position = _this$state.position;\n\n      if (allowResize && active) {\n        unFocus(document, window);\n        var isPrimaryFirst = this.props.primary === 'first';\n        var ref = isPrimaryFirst ? this.pane1 : this.pane2;\n        var ref2 = isPrimaryFirst ? this.pane2 : this.pane1;\n\n        if (ref) {\n          var node = ref;\n          var node2 = ref2;\n\n          if (node.getBoundingClientRect) {\n            var width = node.getBoundingClientRect().width;\n            var height = node.getBoundingClientRect().height;\n            var current = split === 'vertical' ? event.touches[0].clientX : event.touches[0].clientY;\n            var size = split === 'vertical' ? width : height;\n            var positionDelta = position - current;\n\n            if (step) {\n              if (Math.abs(positionDelta) < step) {\n                return;\n              } // Integer division\n              // eslint-disable-next-line no-bitwise\n\n\n              positionDelta = ~~(positionDelta / step) * step;\n            }\n\n            var sizeDelta = isPrimaryFirst ? positionDelta : -positionDelta;\n            var pane1Order = parseInt(window.getComputedStyle(node).order);\n            var pane2Order = parseInt(window.getComputedStyle(node2).order);\n\n            if (pane1Order > pane2Order) {\n              sizeDelta = -sizeDelta;\n            }\n\n            var newMaxSize = maxSize;\n\n            if (maxSize !== undefined && maxSize <= 0) {\n              var splitPane = this.splitPane;\n\n              if (split === 'vertical') {\n                newMaxSize = splitPane.getBoundingClientRect().width + maxSize;\n              } else {\n                newMaxSize = splitPane.getBoundingClientRect().height + maxSize;\n              }\n            }\n\n            var newSize = size - sizeDelta;\n            var newPosition = position - positionDelta;\n\n            if (newSize < minSize) {\n              newSize = minSize;\n            } else if (maxSize !== undefined && newSize > newMaxSize) {\n              newSize = newMaxSize;\n            } else {\n              this.setState({\n                position: newPosition,\n                resized: true\n              });\n            }\n\n            if (onChange) onChange(newSize);\n            this.setState(_defineProperty({\n              draggedSize: newSize\n            }, isPrimaryFirst ? 'pane1Size' : 'pane2Size', newSize));\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onMouseUp\",\n    value: function onMouseUp() {\n      var _this$props3 = this.props,\n          allowResize = _this$props3.allowResize,\n          onDragFinished = _this$props3.onDragFinished;\n      var _this$state2 = this.state,\n          active = _this$state2.active,\n          draggedSize = _this$state2.draggedSize;\n\n      if (allowResize && active) {\n        if (typeof onDragFinished === 'function') {\n          onDragFinished(draggedSize);\n        }\n\n        this.setState({\n          active: false\n        });\n      }\n    } // we have to check values since gDSFP is called on every render and more in StrictMode\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          allowResize = _this$props4.allowResize,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          onResizerClick = _this$props4.onResizerClick,\n          onResizerDoubleClick = _this$props4.onResizerDoubleClick,\n          paneClassName = _this$props4.paneClassName,\n          pane1ClassName = _this$props4.pane1ClassName,\n          pane2ClassName = _this$props4.pane2ClassName,\n          paneStyle = _this$props4.paneStyle,\n          pane1StyleProps = _this$props4.pane1Style,\n          pane2StyleProps = _this$props4.pane2Style,\n          resizerClassName = _this$props4.resizerClassName,\n          resizerStyle = _this$props4.resizerStyle,\n          split = _this$props4.split,\n          styleProps = _this$props4.style;\n      var _this$state3 = this.state,\n          pane1Size = _this$state3.pane1Size,\n          pane2Size = _this$state3.pane2Size;\n      var disabledClass = allowResize ? '' : 'disabled';\n      var resizerClassNamesIncludingDefault = resizerClassName ? \"\".concat(resizerClassName, \" \").concat(RESIZER_DEFAULT_CLASSNAME) : resizerClassName;\n      var notNullChildren = removeNullChildren(children);\n\n      var style = _objectSpread2({\n        display: 'flex',\n        flex: 1,\n        height: '100%',\n        position: 'absolute',\n        outline: 'none',\n        overflow: 'hidden',\n        MozUserSelect: 'text',\n        WebkitUserSelect: 'text',\n        msUserSelect: 'text',\n        userSelect: 'text'\n      }, styleProps);\n\n      if (split === 'vertical') {\n        Object.assign(style, {\n          flexDirection: 'row',\n          left: 0,\n          right: 0\n        });\n      } else {\n        Object.assign(style, {\n          bottom: 0,\n          flexDirection: 'column',\n          minHeight: '100%',\n          top: 0,\n          width: '100%'\n        });\n      }\n\n      var classes = ['SplitPane', className, split, disabledClass];\n\n      var pane1Style = _objectSpread2({}, paneStyle, {}, pane1StyleProps);\n\n      var pane2Style = _objectSpread2({}, paneStyle, {}, pane2StyleProps);\n\n      var pane1Classes = ['Pane1', paneClassName, pane1ClassName].join(' ');\n      var pane2Classes = ['Pane2', paneClassName, pane2ClassName].join(' ');\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.join(' '),\n        ref: function ref(node) {\n          _this2.splitPane = node;\n        },\n        style: style\n      }, /*#__PURE__*/React.createElement(Pane, {\n        className: pane1Classes,\n        key: \"pane1\",\n        eleRef: function eleRef(node) {\n          _this2.pane1 = node;\n        },\n        size: pane1Size,\n        split: split,\n        style: pane1Style\n      }, notNullChildren[0]), /*#__PURE__*/React.createElement(Resizer, {\n        className: disabledClass,\n        onClick: onResizerClick,\n        onDoubleClick: onResizerDoubleClick,\n        onMouseDown: this.onMouseDown,\n        onTouchStart: this.onTouchStart,\n        onTouchEnd: this.onMouseUp,\n        key: \"resizer\",\n        resizerClassName: resizerClassNamesIncludingDefault,\n        split: split,\n        style: resizerStyle || {}\n      }), /*#__PURE__*/React.createElement(Pane, {\n        className: pane2Classes,\n        key: \"pane2\",\n        eleRef: function eleRef(node) {\n          _this2.pane2 = node;\n        },\n        size: pane2Size,\n        split: split,\n        style: pane2Style\n      }, notNullChildren[1]));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      return SplitPane.getSizeUpdate(nextProps, prevState);\n    }\n  }, {\n    key: \"getSizeUpdate\",\n    value: function getSizeUpdate(props, state) {\n      var newState = {};\n      var instanceProps = state.instanceProps;\n\n      if (instanceProps.size === props.size && props.size !== undefined) {\n        return {};\n      }\n\n      var newSize = props.size !== undefined ? props.size : getDefaultSize(props.defaultSize, props.minSize, props.maxSize, state.draggedSize);\n\n      if (props.size !== undefined) {\n        newState.draggedSize = newSize;\n      }\n\n      var isPanel1Primary = props.primary === 'first';\n      newState[isPanel1Primary ? 'pane1Size' : 'pane2Size'] = newSize;\n      newState[isPanel1Primary ? 'pane2Size' : 'pane1Size'] = undefined;\n      newState.instanceProps = {\n        size: props.size\n      };\n      return newState;\n    }\n  }]);\n\n  return SplitPane;\n}(React.Component);\n\nSplitPane.propTypes = {\n  allowResize: PropTypes.bool,\n  children: PropTypes.arrayOf(PropTypes.node).isRequired,\n  className: PropTypes.string,\n  primary: PropTypes.oneOf(['first', 'second']),\n  minSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  maxSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  // eslint-disable-next-line react/no-unused-prop-types\n  defaultSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  split: PropTypes.oneOf(['vertical', 'horizontal']),\n  onDragStarted: PropTypes.func,\n  onDragFinished: PropTypes.func,\n  onChange: PropTypes.func,\n  onResizerClick: PropTypes.func,\n  onResizerDoubleClick: PropTypes.func,\n  style: stylePropType,\n  resizerStyle: stylePropType,\n  paneClassName: PropTypes.string,\n  pane1ClassName: PropTypes.string,\n  pane2ClassName: PropTypes.string,\n  paneStyle: stylePropType,\n  pane1Style: stylePropType,\n  pane2Style: stylePropType,\n  resizerClassName: PropTypes.string,\n  step: PropTypes.number\n};\nSplitPane.defaultProps = {\n  allowResize: true,\n  minSize: 50,\n  primary: 'first',\n  split: 'vertical',\n  paneClassName: '',\n  pane1ClassName: '',\n  pane2ClassName: ''\n};\npolyfill(SplitPane);\n\nexport default SplitPane;\nexport { Pane };\n","// GENERATED DO NOT EDIT\nmodule.exports = [\n  \"alignContent\",\n  \"MozAlignContent\",\n  \"WebkitAlignContent\",\n  \"MSAlignContent\",\n  \"OAlignContent\",\n  \"alignItems\",\n  \"MozAlignItems\",\n  \"WebkitAlignItems\",\n  \"MSAlignItems\",\n  \"OAlignItems\",\n  \"alignSelf\",\n  \"MozAlignSelf\",\n  \"WebkitAlignSelf\",\n  \"MSAlignSelf\",\n  \"OAlignSelf\",\n  \"all\",\n  \"MozAll\",\n  \"WebkitAll\",\n  \"MSAll\",\n  \"OAll\",\n  \"animation\",\n  \"MozAnimation\",\n  \"WebkitAnimation\",\n  \"MSAnimation\",\n  \"OAnimation\",\n  \"animationDelay\",\n  \"MozAnimationDelay\",\n  \"WebkitAnimationDelay\",\n  \"MSAnimationDelay\",\n  \"OAnimationDelay\",\n  \"animationDirection\",\n  \"MozAnimationDirection\",\n  \"WebkitAnimationDirection\",\n  \"MSAnimationDirection\",\n  \"OAnimationDirection\",\n  \"animationDuration\",\n  \"MozAnimationDuration\",\n  \"WebkitAnimationDuration\",\n  \"MSAnimationDuration\",\n  \"OAnimationDuration\",\n  \"animationFillMode\",\n  \"MozAnimationFillMode\",\n  \"WebkitAnimationFillMode\",\n  \"MSAnimationFillMode\",\n  \"OAnimationFillMode\",\n  \"animationIterationCount\",\n  \"MozAnimationIterationCount\",\n  \"WebkitAnimationIterationCount\",\n  \"MSAnimationIterationCount\",\n  \"OAnimationIterationCount\",\n  \"animationName\",\n  \"MozAnimationName\",\n  \"WebkitAnimationName\",\n  \"MSAnimationName\",\n  \"OAnimationName\",\n  \"animationPlayState\",\n  \"MozAnimationPlayState\",\n  \"WebkitAnimationPlayState\",\n  \"MSAnimationPlayState\",\n  \"OAnimationPlayState\",\n  \"animationTimingFunction\",\n  \"MozAnimationTimingFunction\",\n  \"WebkitAnimationTimingFunction\",\n  \"MSAnimationTimingFunction\",\n  \"OAnimationTimingFunction\",\n  \"backfaceVisibility\",\n  \"MozBackfaceVisibility\",\n  \"WebkitBackfaceVisibility\",\n  \"MSBackfaceVisibility\",\n  \"OBackfaceVisibility\",\n  \"background\",\n  \"MozBackground\",\n  \"WebkitBackground\",\n  \"MSBackground\",\n  \"OBackground\",\n  \"backgroundAttachment\",\n  \"MozBackgroundAttachment\",\n  \"WebkitBackgroundAttachment\",\n  \"MSBackgroundAttachment\",\n  \"OBackgroundAttachment\",\n  \"backgroundBlendMode\",\n  \"MozBackgroundBlendMode\",\n  \"WebkitBackgroundBlendMode\",\n  \"MSBackgroundBlendMode\",\n  \"OBackgroundBlendMode\",\n  \"backgroundClip\",\n  \"MozBackgroundClip\",\n  \"WebkitBackgroundClip\",\n  \"MSBackgroundClip\",\n  \"OBackgroundClip\",\n  \"backgroundColor\",\n  \"MozBackgroundColor\",\n  \"WebkitBackgroundColor\",\n  \"MSBackgroundColor\",\n  \"OBackgroundColor\",\n  \"backgroundImage\",\n  \"MozBackgroundImage\",\n  \"WebkitBackgroundImage\",\n  \"MSBackgroundImage\",\n  \"OBackgroundImage\",\n  \"backgroundOrigin\",\n  \"MozBackgroundOrigin\",\n  \"WebkitBackgroundOrigin\",\n  \"MSBackgroundOrigin\",\n  \"OBackgroundOrigin\",\n  \"backgroundPosition\",\n  \"MozBackgroundPosition\",\n  \"WebkitBackgroundPosition\",\n  \"MSBackgroundPosition\",\n  \"OBackgroundPosition\",\n  \"backgroundRepeat\",\n  \"MozBackgroundRepeat\",\n  \"WebkitBackgroundRepeat\",\n  \"MSBackgroundRepeat\",\n  \"OBackgroundRepeat\",\n  \"backgroundSize\",\n  \"MozBackgroundSize\",\n  \"WebkitBackgroundSize\",\n  \"MSBackgroundSize\",\n  \"OBackgroundSize\",\n  \"blockSize\",\n  \"MozBlockSize\",\n  \"WebkitBlockSize\",\n  \"MSBlockSize\",\n  \"OBlockSize\",\n  \"border\",\n  \"MozBorder\",\n  \"WebkitBorder\",\n  \"MSBorder\",\n  \"OBorder\",\n  \"borderBlockEnd\",\n  \"MozBorderBlockEnd\",\n  \"WebkitBorderBlockEnd\",\n  \"MSBorderBlockEnd\",\n  \"OBorderBlockEnd\",\n  \"borderBlockEndColor\",\n  \"MozBorderBlockEndColor\",\n  \"WebkitBorderBlockEndColor\",\n  \"MSBorderBlockEndColor\",\n  \"OBorderBlockEndColor\",\n  \"borderBlockEndStyle\",\n  \"MozBorderBlockEndStyle\",\n  \"WebkitBorderBlockEndStyle\",\n  \"MSBorderBlockEndStyle\",\n  \"OBorderBlockEndStyle\",\n  \"borderBlockEndWidth\",\n  \"MozBorderBlockEndWidth\",\n  \"WebkitBorderBlockEndWidth\",\n  \"MSBorderBlockEndWidth\",\n  \"OBorderBlockEndWidth\",\n  \"borderBlockStart\",\n  \"MozBorderBlockStart\",\n  \"WebkitBorderBlockStart\",\n  \"MSBorderBlockStart\",\n  \"OBorderBlockStart\",\n  \"borderBlockStartColor\",\n  \"MozBorderBlockStartColor\",\n  \"WebkitBorderBlockStartColor\",\n  \"MSBorderBlockStartColor\",\n  \"OBorderBlockStartColor\",\n  \"borderBlockStartStyle\",\n  \"MozBorderBlockStartStyle\",\n  \"WebkitBorderBlockStartStyle\",\n  \"MSBorderBlockStartStyle\",\n  \"OBorderBlockStartStyle\",\n  \"borderBlockStartWidth\",\n  \"MozBorderBlockStartWidth\",\n  \"WebkitBorderBlockStartWidth\",\n  \"MSBorderBlockStartWidth\",\n  \"OBorderBlockStartWidth\",\n  \"borderBottom\",\n  \"MozBorderBottom\",\n  \"WebkitBorderBottom\",\n  \"MSBorderBottom\",\n  \"OBorderBottom\",\n  \"borderBottomColor\",\n  \"MozBorderBottomColor\",\n  \"WebkitBorderBottomColor\",\n  \"MSBorderBottomColor\",\n  \"OBorderBottomColor\",\n  \"borderBottomLeftRadius\",\n  \"MozBorderBottomLeftRadius\",\n  \"WebkitBorderBottomLeftRadius\",\n  \"MSBorderBottomLeftRadius\",\n  \"OBorderBottomLeftRadius\",\n  \"borderBottomRightRadius\",\n  \"MozBorderBottomRightRadius\",\n  \"WebkitBorderBottomRightRadius\",\n  \"MSBorderBottomRightRadius\",\n  \"OBorderBottomRightRadius\",\n  \"borderBottomStyle\",\n  \"MozBorderBottomStyle\",\n  \"WebkitBorderBottomStyle\",\n  \"MSBorderBottomStyle\",\n  \"OBorderBottomStyle\",\n  \"borderBottomWidth\",\n  \"MozBorderBottomWidth\",\n  \"WebkitBorderBottomWidth\",\n  \"MSBorderBottomWidth\",\n  \"OBorderBottomWidth\",\n  \"borderCollapse\",\n  \"MozBorderCollapse\",\n  \"WebkitBorderCollapse\",\n  \"MSBorderCollapse\",\n  \"OBorderCollapse\",\n  \"borderColor\",\n  \"MozBorderColor\",\n  \"WebkitBorderColor\",\n  \"MSBorderColor\",\n  \"OBorderColor\",\n  \"borderImage\",\n  \"MozBorderImage\",\n  \"WebkitBorderImage\",\n  \"MSBorderImage\",\n  \"OBorderImage\",\n  \"borderImageOutset\",\n  \"MozBorderImageOutset\",\n  \"WebkitBorderImageOutset\",\n  \"MSBorderImageOutset\",\n  \"OBorderImageOutset\",\n  \"borderImageRepeat\",\n  \"MozBorderImageRepeat\",\n  \"WebkitBorderImageRepeat\",\n  \"MSBorderImageRepeat\",\n  \"OBorderImageRepeat\",\n  \"borderImageSlice\",\n  \"MozBorderImageSlice\",\n  \"WebkitBorderImageSlice\",\n  \"MSBorderImageSlice\",\n  \"OBorderImageSlice\",\n  \"borderImageSource\",\n  \"MozBorderImageSource\",\n  \"WebkitBorderImageSource\",\n  \"MSBorderImageSource\",\n  \"OBorderImageSource\",\n  \"borderImageWidth\",\n  \"MozBorderImageWidth\",\n  \"WebkitBorderImageWidth\",\n  \"MSBorderImageWidth\",\n  \"OBorderImageWidth\",\n  \"borderInlineEnd\",\n  \"MozBorderInlineEnd\",\n  \"WebkitBorderInlineEnd\",\n  \"MSBorderInlineEnd\",\n  \"OBorderInlineEnd\",\n  \"borderInlineEndColor\",\n  \"MozBorderInlineEndColor\",\n  \"WebkitBorderInlineEndColor\",\n  \"MSBorderInlineEndColor\",\n  \"OBorderInlineEndColor\",\n  \"borderInlineEndStyle\",\n  \"MozBorderInlineEndStyle\",\n  \"WebkitBorderInlineEndStyle\",\n  \"MSBorderInlineEndStyle\",\n  \"OBorderInlineEndStyle\",\n  \"borderInlineEndWidth\",\n  \"MozBorderInlineEndWidth\",\n  \"WebkitBorderInlineEndWidth\",\n  \"MSBorderInlineEndWidth\",\n  \"OBorderInlineEndWidth\",\n  \"borderInlineStart\",\n  \"MozBorderInlineStart\",\n  \"WebkitBorderInlineStart\",\n  \"MSBorderInlineStart\",\n  \"OBorderInlineStart\",\n  \"borderInlineStartColor\",\n  \"MozBorderInlineStartColor\",\n  \"WebkitBorderInlineStartColor\",\n  \"MSBorderInlineStartColor\",\n  \"OBorderInlineStartColor\",\n  \"borderInlineStartStyle\",\n  \"MozBorderInlineStartStyle\",\n  \"WebkitBorderInlineStartStyle\",\n  \"MSBorderInlineStartStyle\",\n  \"OBorderInlineStartStyle\",\n  \"borderInlineStartWidth\",\n  \"MozBorderInlineStartWidth\",\n  \"WebkitBorderInlineStartWidth\",\n  \"MSBorderInlineStartWidth\",\n  \"OBorderInlineStartWidth\",\n  \"borderLeft\",\n  \"MozBorderLeft\",\n  \"WebkitBorderLeft\",\n  \"MSBorderLeft\",\n  \"OBorderLeft\",\n  \"borderLeftColor\",\n  \"MozBorderLeftColor\",\n  \"WebkitBorderLeftColor\",\n  \"MSBorderLeftColor\",\n  \"OBorderLeftColor\",\n  \"borderLeftStyle\",\n  \"MozBorderLeftStyle\",\n  \"WebkitBorderLeftStyle\",\n  \"MSBorderLeftStyle\",\n  \"OBorderLeftStyle\",\n  \"borderLeftWidth\",\n  \"MozBorderLeftWidth\",\n  \"WebkitBorderLeftWidth\",\n  \"MSBorderLeftWidth\",\n  \"OBorderLeftWidth\",\n  \"borderRadius\",\n  \"MozBorderRadius\",\n  \"WebkitBorderRadius\",\n  \"MSBorderRadius\",\n  \"OBorderRadius\",\n  \"borderRight\",\n  \"MozBorderRight\",\n  \"WebkitBorderRight\",\n  \"MSBorderRight\",\n  \"OBorderRight\",\n  \"borderRightColor\",\n  \"MozBorderRightColor\",\n  \"WebkitBorderRightColor\",\n  \"MSBorderRightColor\",\n  \"OBorderRightColor\",\n  \"borderRightStyle\",\n  \"MozBorderRightStyle\",\n  \"WebkitBorderRightStyle\",\n  \"MSBorderRightStyle\",\n  \"OBorderRightStyle\",\n  \"borderRightWidth\",\n  \"MozBorderRightWidth\",\n  \"WebkitBorderRightWidth\",\n  \"MSBorderRightWidth\",\n  \"OBorderRightWidth\",\n  \"borderSpacing\",\n  \"MozBorderSpacing\",\n  \"WebkitBorderSpacing\",\n  \"MSBorderSpacing\",\n  \"OBorderSpacing\",\n  \"borderStyle\",\n  \"MozBorderStyle\",\n  \"WebkitBorderStyle\",\n  \"MSBorderStyle\",\n  \"OBorderStyle\",\n  \"borderTop\",\n  \"MozBorderTop\",\n  \"WebkitBorderTop\",\n  \"MSBorderTop\",\n  \"OBorderTop\",\n  \"borderTopColor\",\n  \"MozBorderTopColor\",\n  \"WebkitBorderTopColor\",\n  \"MSBorderTopColor\",\n  \"OBorderTopColor\",\n  \"borderTopLeftRadius\",\n  \"MozBorderTopLeftRadius\",\n  \"WebkitBorderTopLeftRadius\",\n  \"MSBorderTopLeftRadius\",\n  \"OBorderTopLeftRadius\",\n  \"borderTopRightRadius\",\n  \"MozBorderTopRightRadius\",\n  \"WebkitBorderTopRightRadius\",\n  \"MSBorderTopRightRadius\",\n  \"OBorderTopRightRadius\",\n  \"borderTopStyle\",\n  \"MozBorderTopStyle\",\n  \"WebkitBorderTopStyle\",\n  \"MSBorderTopStyle\",\n  \"OBorderTopStyle\",\n  \"borderTopWidth\",\n  \"MozBorderTopWidth\",\n  \"WebkitBorderTopWidth\",\n  \"MSBorderTopWidth\",\n  \"OBorderTopWidth\",\n  \"borderWidth\",\n  \"MozBorderWidth\",\n  \"WebkitBorderWidth\",\n  \"MSBorderWidth\",\n  \"OBorderWidth\",\n  \"bottom\",\n  \"MozBottom\",\n  \"WebkitBottom\",\n  \"MSBottom\",\n  \"OBottom\",\n  \"boxDecorationBreak\",\n  \"MozBoxDecorationBreak\",\n  \"WebkitBoxDecorationBreak\",\n  \"MSBoxDecorationBreak\",\n  \"OBoxDecorationBreak\",\n  \"boxShadow\",\n  \"MozBoxShadow\",\n  \"WebkitBoxShadow\",\n  \"MSBoxShadow\",\n  \"OBoxShadow\",\n  \"boxSizing\",\n  \"MozBoxSizing\",\n  \"WebkitBoxSizing\",\n  \"MSBoxSizing\",\n  \"OBoxSizing\",\n  \"breakAfter\",\n  \"MozBreakAfter\",\n  \"WebkitBreakAfter\",\n  \"MSBreakAfter\",\n  \"OBreakAfter\",\n  \"breakBefore\",\n  \"MozBreakBefore\",\n  \"WebkitBreakBefore\",\n  \"MSBreakBefore\",\n  \"OBreakBefore\",\n  \"breakInside\",\n  \"MozBreakInside\",\n  \"WebkitBreakInside\",\n  \"MSBreakInside\",\n  \"OBreakInside\",\n  \"captionSide\",\n  \"MozCaptionSide\",\n  \"WebkitCaptionSide\",\n  \"MSCaptionSide\",\n  \"OCaptionSide\",\n  \"caretColor\",\n  \"MozCaretColor\",\n  \"WebkitCaretColor\",\n  \"MSCaretColor\",\n  \"OCaretColor\",\n  \"ch\",\n  \"MozCh\",\n  \"WebkitCh\",\n  \"MSCh\",\n  \"OCh\",\n  \"clear\",\n  \"MozClear\",\n  \"WebkitClear\",\n  \"MSClear\",\n  \"OClear\",\n  \"clip\",\n  \"MozClip\",\n  \"WebkitClip\",\n  \"MSClip\",\n  \"OClip\",\n  \"clipPath\",\n  \"MozClipPath\",\n  \"WebkitClipPath\",\n  \"MSClipPath\",\n  \"OClipPath\",\n  \"cm\",\n  \"MozCm\",\n  \"WebkitCm\",\n  \"MSCm\",\n  \"OCm\",\n  \"color\",\n  \"MozColor\",\n  \"WebkitColor\",\n  \"MSColor\",\n  \"OColor\",\n  \"columnCount\",\n  \"MozColumnCount\",\n  \"WebkitColumnCount\",\n  \"MSColumnCount\",\n  \"OColumnCount\",\n  \"columnFill\",\n  \"MozColumnFill\",\n  \"WebkitColumnFill\",\n  \"MSColumnFill\",\n  \"OColumnFill\",\n  \"columnGap\",\n  \"MozColumnGap\",\n  \"WebkitColumnGap\",\n  \"MSColumnGap\",\n  \"OColumnGap\",\n  \"columnRule\",\n  \"MozColumnRule\",\n  \"WebkitColumnRule\",\n  \"MSColumnRule\",\n  \"OColumnRule\",\n  \"columnRuleColor\",\n  \"MozColumnRuleColor\",\n  \"WebkitColumnRuleColor\",\n  \"MSColumnRuleColor\",\n  \"OColumnRuleColor\",\n  \"columnRuleStyle\",\n  \"MozColumnRuleStyle\",\n  \"WebkitColumnRuleStyle\",\n  \"MSColumnRuleStyle\",\n  \"OColumnRuleStyle\",\n  \"columnRuleWidth\",\n  \"MozColumnRuleWidth\",\n  \"WebkitColumnRuleWidth\",\n  \"MSColumnRuleWidth\",\n  \"OColumnRuleWidth\",\n  \"columnSpan\",\n  \"MozColumnSpan\",\n  \"WebkitColumnSpan\",\n  \"MSColumnSpan\",\n  \"OColumnSpan\",\n  \"columnWidth\",\n  \"MozColumnWidth\",\n  \"WebkitColumnWidth\",\n  \"MSColumnWidth\",\n  \"OColumnWidth\",\n  \"columns\",\n  \"MozColumns\",\n  \"WebkitColumns\",\n  \"MSColumns\",\n  \"OColumns\",\n  \"content\",\n  \"MozContent\",\n  \"WebkitContent\",\n  \"MSContent\",\n  \"OContent\",\n  \"counterIncrement\",\n  \"MozCounterIncrement\",\n  \"WebkitCounterIncrement\",\n  \"MSCounterIncrement\",\n  \"OCounterIncrement\",\n  \"counterReset\",\n  \"MozCounterReset\",\n  \"WebkitCounterReset\",\n  \"MSCounterReset\",\n  \"OCounterReset\",\n  \"cursor\",\n  \"MozCursor\",\n  \"WebkitCursor\",\n  \"MSCursor\",\n  \"OCursor\",\n  \"deg\",\n  \"MozDeg\",\n  \"WebkitDeg\",\n  \"MSDeg\",\n  \"ODeg\",\n  \"direction\",\n  \"MozDirection\",\n  \"WebkitDirection\",\n  \"MSDirection\",\n  \"ODirection\",\n  \"display\",\n  \"MozDisplay\",\n  \"WebkitDisplay\",\n  \"MSDisplay\",\n  \"ODisplay\",\n  \"dpcm\",\n  \"MozDpcm\",\n  \"WebkitDpcm\",\n  \"MSDpcm\",\n  \"ODpcm\",\n  \"dpi\",\n  \"MozDpi\",\n  \"WebkitDpi\",\n  \"MSDpi\",\n  \"ODpi\",\n  \"dppx\",\n  \"MozDppx\",\n  \"WebkitDppx\",\n  \"MSDppx\",\n  \"ODppx\",\n  \"em\",\n  \"MozEm\",\n  \"WebkitEm\",\n  \"MSEm\",\n  \"OEm\",\n  \"emptyCells\",\n  \"MozEmptyCells\",\n  \"WebkitEmptyCells\",\n  \"MSEmptyCells\",\n  \"OEmptyCells\",\n  \"ex\",\n  \"MozEx\",\n  \"WebkitEx\",\n  \"MSEx\",\n  \"OEx\",\n  \"filter\",\n  \"MozFilter\",\n  \"WebkitFilter\",\n  \"MSFilter\",\n  \"OFilter\",\n  \"flexBasis\",\n  \"MozFlexBasis\",\n  \"WebkitFlexBasis\",\n  \"MSFlexBasis\",\n  \"OFlexBasis\",\n  \"flexDirection\",\n  \"MozFlexDirection\",\n  \"WebkitFlexDirection\",\n  \"MSFlexDirection\",\n  \"OFlexDirection\",\n  \"flexFlow\",\n  \"MozFlexFlow\",\n  \"WebkitFlexFlow\",\n  \"MSFlexFlow\",\n  \"OFlexFlow\",\n  \"flexGrow\",\n  \"MozFlexGrow\",\n  \"WebkitFlexGrow\",\n  \"MSFlexGrow\",\n  \"OFlexGrow\",\n  \"flexShrink\",\n  \"MozFlexShrink\",\n  \"WebkitFlexShrink\",\n  \"MSFlexShrink\",\n  \"OFlexShrink\",\n  \"flexWrap\",\n  \"MozFlexWrap\",\n  \"WebkitFlexWrap\",\n  \"MSFlexWrap\",\n  \"OFlexWrap\",\n  \"float\",\n  \"MozFloat\",\n  \"WebkitFloat\",\n  \"MSFloat\",\n  \"OFloat\",\n  \"font\",\n  \"MozFont\",\n  \"WebkitFont\",\n  \"MSFont\",\n  \"OFont\",\n  \"fontFamily\",\n  \"MozFontFamily\",\n  \"WebkitFontFamily\",\n  \"MSFontFamily\",\n  \"OFontFamily\",\n  \"fontFeatureSettings\",\n  \"MozFontFeatureSettings\",\n  \"WebkitFontFeatureSettings\",\n  \"MSFontFeatureSettings\",\n  \"OFontFeatureSettings\",\n  \"fontKerning\",\n  \"MozFontKerning\",\n  \"WebkitFontKerning\",\n  \"MSFontKerning\",\n  \"OFontKerning\",\n  \"fontLanguageOverride\",\n  \"MozFontLanguageOverride\",\n  \"WebkitFontLanguageOverride\",\n  \"MSFontLanguageOverride\",\n  \"OFontLanguageOverride\",\n  \"fontSize\",\n  \"MozFontSize\",\n  \"WebkitFontSize\",\n  \"MSFontSize\",\n  \"OFontSize\",\n  \"fontSizeAdjust\",\n  \"MozFontSizeAdjust\",\n  \"WebkitFontSizeAdjust\",\n  \"MSFontSizeAdjust\",\n  \"OFontSizeAdjust\",\n  \"fontStretch\",\n  \"MozFontStretch\",\n  \"WebkitFontStretch\",\n  \"MSFontStretch\",\n  \"OFontStretch\",\n  \"fontStyle\",\n  \"MozFontStyle\",\n  \"WebkitFontStyle\",\n  \"MSFontStyle\",\n  \"OFontStyle\",\n  \"fontSynthesis\",\n  \"MozFontSynthesis\",\n  \"WebkitFontSynthesis\",\n  \"MSFontSynthesis\",\n  \"OFontSynthesis\",\n  \"fontVariant\",\n  \"MozFontVariant\",\n  \"WebkitFontVariant\",\n  \"MSFontVariant\",\n  \"OFontVariant\",\n  \"fontVariantAlternates\",\n  \"MozFontVariantAlternates\",\n  \"WebkitFontVariantAlternates\",\n  \"MSFontVariantAlternates\",\n  \"OFontVariantAlternates\",\n  \"fontVariantCaps\",\n  \"MozFontVariantCaps\",\n  \"WebkitFontVariantCaps\",\n  \"MSFontVariantCaps\",\n  \"OFontVariantCaps\",\n  \"fontVariantEastAsian\",\n  \"MozFontVariantEastAsian\",\n  \"WebkitFontVariantEastAsian\",\n  \"MSFontVariantEastAsian\",\n  \"OFontVariantEastAsian\",\n  \"fontVariantLigatures\",\n  \"MozFontVariantLigatures\",\n  \"WebkitFontVariantLigatures\",\n  \"MSFontVariantLigatures\",\n  \"OFontVariantLigatures\",\n  \"fontVariantNumeric\",\n  \"MozFontVariantNumeric\",\n  \"WebkitFontVariantNumeric\",\n  \"MSFontVariantNumeric\",\n  \"OFontVariantNumeric\",\n  \"fontVariantPosition\",\n  \"MozFontVariantPosition\",\n  \"WebkitFontVariantPosition\",\n  \"MSFontVariantPosition\",\n  \"OFontVariantPosition\",\n  \"fontWeight\",\n  \"MozFontWeight\",\n  \"WebkitFontWeight\",\n  \"MSFontWeight\",\n  \"OFontWeight\",\n  \"fr\",\n  \"MozFr\",\n  \"WebkitFr\",\n  \"MSFr\",\n  \"OFr\",\n  \"grad\",\n  \"MozGrad\",\n  \"WebkitGrad\",\n  \"MSGrad\",\n  \"OGrad\",\n  \"grid\",\n  \"MozGrid\",\n  \"WebkitGrid\",\n  \"MSGrid\",\n  \"OGrid\",\n  \"gridArea\",\n  \"MozGridArea\",\n  \"WebkitGridArea\",\n  \"MSGridArea\",\n  \"OGridArea\",\n  \"gridAutoColumns\",\n  \"MozGridAutoColumns\",\n  \"WebkitGridAutoColumns\",\n  \"MSGridAutoColumns\",\n  \"OGridAutoColumns\",\n  \"gridAutoFlow\",\n  \"MozGridAutoFlow\",\n  \"WebkitGridAutoFlow\",\n  \"MSGridAutoFlow\",\n  \"OGridAutoFlow\",\n  \"gridAutoRows\",\n  \"MozGridAutoRows\",\n  \"WebkitGridAutoRows\",\n  \"MSGridAutoRows\",\n  \"OGridAutoRows\",\n  \"gridColumn\",\n  \"MozGridColumn\",\n  \"WebkitGridColumn\",\n  \"MSGridColumn\",\n  \"OGridColumn\",\n  \"gridColumnEnd\",\n  \"MozGridColumnEnd\",\n  \"WebkitGridColumnEnd\",\n  \"MSGridColumnEnd\",\n  \"OGridColumnEnd\",\n  \"gridColumnGap\",\n  \"MozGridColumnGap\",\n  \"WebkitGridColumnGap\",\n  \"MSGridColumnGap\",\n  \"OGridColumnGap\",\n  \"gridColumnStart\",\n  \"MozGridColumnStart\",\n  \"WebkitGridColumnStart\",\n  \"MSGridColumnStart\",\n  \"OGridColumnStart\",\n  \"gridGap\",\n  \"MozGridGap\",\n  \"WebkitGridGap\",\n  \"MSGridGap\",\n  \"OGridGap\",\n  \"gridRow\",\n  \"MozGridRow\",\n  \"WebkitGridRow\",\n  \"MSGridRow\",\n  \"OGridRow\",\n  \"gridRowEnd\",\n  \"MozGridRowEnd\",\n  \"WebkitGridRowEnd\",\n  \"MSGridRowEnd\",\n  \"OGridRowEnd\",\n  \"gridRowGap\",\n  \"MozGridRowGap\",\n  \"WebkitGridRowGap\",\n  \"MSGridRowGap\",\n  \"OGridRowGap\",\n  \"gridRowStart\",\n  \"MozGridRowStart\",\n  \"WebkitGridRowStart\",\n  \"MSGridRowStart\",\n  \"OGridRowStart\",\n  \"gridTemplate\",\n  \"MozGridTemplate\",\n  \"WebkitGridTemplate\",\n  \"MSGridTemplate\",\n  \"OGridTemplate\",\n  \"gridTemplateAreas\",\n  \"MozGridTemplateAreas\",\n  \"WebkitGridTemplateAreas\",\n  \"MSGridTemplateAreas\",\n  \"OGridTemplateAreas\",\n  \"gridTemplateColumns\",\n  \"MozGridTemplateColumns\",\n  \"WebkitGridTemplateColumns\",\n  \"MSGridTemplateColumns\",\n  \"OGridTemplateColumns\",\n  \"gridTemplateRows\",\n  \"MozGridTemplateRows\",\n  \"WebkitGridTemplateRows\",\n  \"MSGridTemplateRows\",\n  \"OGridTemplateRows\",\n  \"height\",\n  \"MozHeight\",\n  \"WebkitHeight\",\n  \"MSHeight\",\n  \"OHeight\",\n  \"hyphens\",\n  \"MozHyphens\",\n  \"WebkitHyphens\",\n  \"MSHyphens\",\n  \"OHyphens\",\n  \"hz\",\n  \"MozHz\",\n  \"WebkitHz\",\n  \"MSHz\",\n  \"OHz\",\n  \"imageOrientation\",\n  \"MozImageOrientation\",\n  \"WebkitImageOrientation\",\n  \"MSImageOrientation\",\n  \"OImageOrientation\",\n  \"imageRendering\",\n  \"MozImageRendering\",\n  \"WebkitImageRendering\",\n  \"MSImageRendering\",\n  \"OImageRendering\",\n  \"imageResolution\",\n  \"MozImageResolution\",\n  \"WebkitImageResolution\",\n  \"MSImageResolution\",\n  \"OImageResolution\",\n  \"imeMode\",\n  \"MozImeMode\",\n  \"WebkitImeMode\",\n  \"MSImeMode\",\n  \"OImeMode\",\n  \"in\",\n  \"MozIn\",\n  \"WebkitIn\",\n  \"MSIn\",\n  \"OIn\",\n  \"inherit\",\n  \"MozInherit\",\n  \"WebkitInherit\",\n  \"MSInherit\",\n  \"OInherit\",\n  \"initial\",\n  \"MozInitial\",\n  \"WebkitInitial\",\n  \"MSInitial\",\n  \"OInitial\",\n  \"inlineSize\",\n  \"MozInlineSize\",\n  \"WebkitInlineSize\",\n  \"MSInlineSize\",\n  \"OInlineSize\",\n  \"isolation\",\n  \"MozIsolation\",\n  \"WebkitIsolation\",\n  \"MSIsolation\",\n  \"OIsolation\",\n  \"justifyContent\",\n  \"MozJustifyContent\",\n  \"WebkitJustifyContent\",\n  \"MSJustifyContent\",\n  \"OJustifyContent\",\n  \"khz\",\n  \"MozKhz\",\n  \"WebkitKhz\",\n  \"MSKhz\",\n  \"OKhz\",\n  \"left\",\n  \"MozLeft\",\n  \"WebkitLeft\",\n  \"MSLeft\",\n  \"OLeft\",\n  \"letterSpacing\",\n  \"MozLetterSpacing\",\n  \"WebkitLetterSpacing\",\n  \"MSLetterSpacing\",\n  \"OLetterSpacing\",\n  \"lineBreak\",\n  \"MozLineBreak\",\n  \"WebkitLineBreak\",\n  \"MSLineBreak\",\n  \"OLineBreak\",\n  \"lineHeight\",\n  \"MozLineHeight\",\n  \"WebkitLineHeight\",\n  \"MSLineHeight\",\n  \"OLineHeight\",\n  \"listStyle\",\n  \"MozListStyle\",\n  \"WebkitListStyle\",\n  \"MSListStyle\",\n  \"OListStyle\",\n  \"listStyleImage\",\n  \"MozListStyleImage\",\n  \"WebkitListStyleImage\",\n  \"MSListStyleImage\",\n  \"OListStyleImage\",\n  \"listStylePosition\",\n  \"MozListStylePosition\",\n  \"WebkitListStylePosition\",\n  \"MSListStylePosition\",\n  \"OListStylePosition\",\n  \"listStyleType\",\n  \"MozListStyleType\",\n  \"WebkitListStyleType\",\n  \"MSListStyleType\",\n  \"OListStyleType\",\n  \"margin\",\n  \"MozMargin\",\n  \"WebkitMargin\",\n  \"MSMargin\",\n  \"OMargin\",\n  \"marginBlockEnd\",\n  \"MozMarginBlockEnd\",\n  \"WebkitMarginBlockEnd\",\n  \"MSMarginBlockEnd\",\n  \"OMarginBlockEnd\",\n  \"marginBlockStart\",\n  \"MozMarginBlockStart\",\n  \"WebkitMarginBlockStart\",\n  \"MSMarginBlockStart\",\n  \"OMarginBlockStart\",\n  \"marginBottom\",\n  \"MozMarginBottom\",\n  \"WebkitMarginBottom\",\n  \"MSMarginBottom\",\n  \"OMarginBottom\",\n  \"marginInlineEnd\",\n  \"MozMarginInlineEnd\",\n  \"WebkitMarginInlineEnd\",\n  \"MSMarginInlineEnd\",\n  \"OMarginInlineEnd\",\n  \"marginInlineStart\",\n  \"MozMarginInlineStart\",\n  \"WebkitMarginInlineStart\",\n  \"MSMarginInlineStart\",\n  \"OMarginInlineStart\",\n  \"marginLeft\",\n  \"MozMarginLeft\",\n  \"WebkitMarginLeft\",\n  \"MSMarginLeft\",\n  \"OMarginLeft\",\n  \"marginRight\",\n  \"MozMarginRight\",\n  \"WebkitMarginRight\",\n  \"MSMarginRight\",\n  \"OMarginRight\",\n  \"marginTop\",\n  \"MozMarginTop\",\n  \"WebkitMarginTop\",\n  \"MSMarginTop\",\n  \"OMarginTop\",\n  \"mask\",\n  \"MozMask\",\n  \"WebkitMask\",\n  \"MSMask\",\n  \"OMask\",\n  \"maskClip\",\n  \"MozMaskClip\",\n  \"WebkitMaskClip\",\n  \"MSMaskClip\",\n  \"OMaskClip\",\n  \"maskComposite\",\n  \"MozMaskComposite\",\n  \"WebkitMaskComposite\",\n  \"MSMaskComposite\",\n  \"OMaskComposite\",\n  \"maskImage\",\n  \"MozMaskImage\",\n  \"WebkitMaskImage\",\n  \"MSMaskImage\",\n  \"OMaskImage\",\n  \"maskMode\",\n  \"MozMaskMode\",\n  \"WebkitMaskMode\",\n  \"MSMaskMode\",\n  \"OMaskMode\",\n  \"maskOrigin\",\n  \"MozMaskOrigin\",\n  \"WebkitMaskOrigin\",\n  \"MSMaskOrigin\",\n  \"OMaskOrigin\",\n  \"maskPosition\",\n  \"MozMaskPosition\",\n  \"WebkitMaskPosition\",\n  \"MSMaskPosition\",\n  \"OMaskPosition\",\n  \"maskRepeat\",\n  \"MozMaskRepeat\",\n  \"WebkitMaskRepeat\",\n  \"MSMaskRepeat\",\n  \"OMaskRepeat\",\n  \"maskSize\",\n  \"MozMaskSize\",\n  \"WebkitMaskSize\",\n  \"MSMaskSize\",\n  \"OMaskSize\",\n  \"maskType\",\n  \"MozMaskType\",\n  \"WebkitMaskType\",\n  \"MSMaskType\",\n  \"OMaskType\",\n  \"maxHeight\",\n  \"MozMaxHeight\",\n  \"WebkitMaxHeight\",\n  \"MSMaxHeight\",\n  \"OMaxHeight\",\n  \"maxWidth\",\n  \"MozMaxWidth\",\n  \"WebkitMaxWidth\",\n  \"MSMaxWidth\",\n  \"OMaxWidth\",\n  \"minBlockSize\",\n  \"MozMinBlockSize\",\n  \"WebkitMinBlockSize\",\n  \"MSMinBlockSize\",\n  \"OMinBlockSize\",\n  \"minHeight\",\n  \"MozMinHeight\",\n  \"WebkitMinHeight\",\n  \"MSMinHeight\",\n  \"OMinHeight\",\n  \"minInlineSize\",\n  \"MozMinInlineSize\",\n  \"WebkitMinInlineSize\",\n  \"MSMinInlineSize\",\n  \"OMinInlineSize\",\n  \"minWidth\",\n  \"MozMinWidth\",\n  \"WebkitMinWidth\",\n  \"MSMinWidth\",\n  \"OMinWidth\",\n  \"mixBlendMode\",\n  \"MozMixBlendMode\",\n  \"WebkitMixBlendMode\",\n  \"MSMixBlendMode\",\n  \"OMixBlendMode\",\n  \"mm\",\n  \"MozMm\",\n  \"WebkitMm\",\n  \"MSMm\",\n  \"OMm\",\n  \"ms\",\n  \"MozMs\",\n  \"WebkitMs\",\n  \"MSMs\",\n  \"OMs\",\n  \"objectFit\",\n  \"MozObjectFit\",\n  \"WebkitObjectFit\",\n  \"MSObjectFit\",\n  \"OObjectFit\",\n  \"objectPosition\",\n  \"MozObjectPosition\",\n  \"WebkitObjectPosition\",\n  \"MSObjectPosition\",\n  \"OObjectPosition\",\n  \"offsetBlockEnd\",\n  \"MozOffsetBlockEnd\",\n  \"WebkitOffsetBlockEnd\",\n  \"MSOffsetBlockEnd\",\n  \"OOffsetBlockEnd\",\n  \"offsetBlockStart\",\n  \"MozOffsetBlockStart\",\n  \"WebkitOffsetBlockStart\",\n  \"MSOffsetBlockStart\",\n  \"OOffsetBlockStart\",\n  \"offsetInlineEnd\",\n  \"MozOffsetInlineEnd\",\n  \"WebkitOffsetInlineEnd\",\n  \"MSOffsetInlineEnd\",\n  \"OOffsetInlineEnd\",\n  \"offsetInlineStart\",\n  \"MozOffsetInlineStart\",\n  \"WebkitOffsetInlineStart\",\n  \"MSOffsetInlineStart\",\n  \"OOffsetInlineStart\",\n  \"opacity\",\n  \"MozOpacity\",\n  \"WebkitOpacity\",\n  \"MSOpacity\",\n  \"OOpacity\",\n  \"order\",\n  \"MozOrder\",\n  \"WebkitOrder\",\n  \"MSOrder\",\n  \"OOrder\",\n  \"orphans\",\n  \"MozOrphans\",\n  \"WebkitOrphans\",\n  \"MSOrphans\",\n  \"OOrphans\",\n  \"outline\",\n  \"MozOutline\",\n  \"WebkitOutline\",\n  \"MSOutline\",\n  \"OOutline\",\n  \"outlineColor\",\n  \"MozOutlineColor\",\n  \"WebkitOutlineColor\",\n  \"MSOutlineColor\",\n  \"OOutlineColor\",\n  \"outlineOffset\",\n  \"MozOutlineOffset\",\n  \"WebkitOutlineOffset\",\n  \"MSOutlineOffset\",\n  \"OOutlineOffset\",\n  \"outlineStyle\",\n  \"MozOutlineStyle\",\n  \"WebkitOutlineStyle\",\n  \"MSOutlineStyle\",\n  \"OOutlineStyle\",\n  \"outlineWidth\",\n  \"MozOutlineWidth\",\n  \"WebkitOutlineWidth\",\n  \"MSOutlineWidth\",\n  \"OOutlineWidth\",\n  \"overflow\",\n  \"MozOverflow\",\n  \"WebkitOverflow\",\n  \"MSOverflow\",\n  \"OOverflow\",\n  \"overflowWrap\",\n  \"MozOverflowWrap\",\n  \"WebkitOverflowWrap\",\n  \"MSOverflowWrap\",\n  \"OOverflowWrap\",\n  \"overflowX\",\n  \"MozOverflowX\",\n  \"WebkitOverflowX\",\n  \"MSOverflowX\",\n  \"OOverflowX\",\n  \"overflowY\",\n  \"MozOverflowY\",\n  \"WebkitOverflowY\",\n  \"MSOverflowY\",\n  \"OOverflowY\",\n  \"padding\",\n  \"MozPadding\",\n  \"WebkitPadding\",\n  \"MSPadding\",\n  \"OPadding\",\n  \"paddingBlockEnd\",\n  \"MozPaddingBlockEnd\",\n  \"WebkitPaddingBlockEnd\",\n  \"MSPaddingBlockEnd\",\n  \"OPaddingBlockEnd\",\n  \"paddingBlockStart\",\n  \"MozPaddingBlockStart\",\n  \"WebkitPaddingBlockStart\",\n  \"MSPaddingBlockStart\",\n  \"OPaddingBlockStart\",\n  \"paddingBottom\",\n  \"MozPaddingBottom\",\n  \"WebkitPaddingBottom\",\n  \"MSPaddingBottom\",\n  \"OPaddingBottom\",\n  \"paddingInlineEnd\",\n  \"MozPaddingInlineEnd\",\n  \"WebkitPaddingInlineEnd\",\n  \"MSPaddingInlineEnd\",\n  \"OPaddingInlineEnd\",\n  \"paddingInlineStart\",\n  \"MozPaddingInlineStart\",\n  \"WebkitPaddingInlineStart\",\n  \"MSPaddingInlineStart\",\n  \"OPaddingInlineStart\",\n  \"paddingLeft\",\n  \"MozPaddingLeft\",\n  \"WebkitPaddingLeft\",\n  \"MSPaddingLeft\",\n  \"OPaddingLeft\",\n  \"paddingRight\",\n  \"MozPaddingRight\",\n  \"WebkitPaddingRight\",\n  \"MSPaddingRight\",\n  \"OPaddingRight\",\n  \"paddingTop\",\n  \"MozPaddingTop\",\n  \"WebkitPaddingTop\",\n  \"MSPaddingTop\",\n  \"OPaddingTop\",\n  \"pageBreakAfter\",\n  \"MozPageBreakAfter\",\n  \"WebkitPageBreakAfter\",\n  \"MSPageBreakAfter\",\n  \"OPageBreakAfter\",\n  \"pageBreakBefore\",\n  \"MozPageBreakBefore\",\n  \"WebkitPageBreakBefore\",\n  \"MSPageBreakBefore\",\n  \"OPageBreakBefore\",\n  \"pageBreakInside\",\n  \"MozPageBreakInside\",\n  \"WebkitPageBreakInside\",\n  \"MSPageBreakInside\",\n  \"OPageBreakInside\",\n  \"pc\",\n  \"MozPc\",\n  \"WebkitPc\",\n  \"MSPc\",\n  \"OPc\",\n  \"perspective\",\n  \"MozPerspective\",\n  \"WebkitPerspective\",\n  \"MSPerspective\",\n  \"OPerspective\",\n  \"perspectiveOrigin\",\n  \"MozPerspectiveOrigin\",\n  \"WebkitPerspectiveOrigin\",\n  \"MSPerspectiveOrigin\",\n  \"OPerspectiveOrigin\",\n  \"pointerEvents\",\n  \"MozPointerEvents\",\n  \"WebkitPointerEvents\",\n  \"MSPointerEvents\",\n  \"OPointerEvents\",\n  \"position\",\n  \"MozPosition\",\n  \"WebkitPosition\",\n  \"MSPosition\",\n  \"OPosition\",\n  \"pt\",\n  \"MozPt\",\n  \"WebkitPt\",\n  \"MSPt\",\n  \"OPt\",\n  \"px\",\n  \"MozPx\",\n  \"WebkitPx\",\n  \"MSPx\",\n  \"OPx\",\n  \"q\",\n  \"MozQ\",\n  \"WebkitQ\",\n  \"MSQ\",\n  \"OQ\",\n  \"quotes\",\n  \"MozQuotes\",\n  \"WebkitQuotes\",\n  \"MSQuotes\",\n  \"OQuotes\",\n  \"rad\",\n  \"MozRad\",\n  \"WebkitRad\",\n  \"MSRad\",\n  \"ORad\",\n  \"rem\",\n  \"MozRem\",\n  \"WebkitRem\",\n  \"MSRem\",\n  \"ORem\",\n  \"resize\",\n  \"MozResize\",\n  \"WebkitResize\",\n  \"MSResize\",\n  \"OResize\",\n  \"revert\",\n  \"MozRevert\",\n  \"WebkitRevert\",\n  \"MSRevert\",\n  \"ORevert\",\n  \"right\",\n  \"MozRight\",\n  \"WebkitRight\",\n  \"MSRight\",\n  \"ORight\",\n  \"rubyAlign\",\n  \"MozRubyAlign\",\n  \"WebkitRubyAlign\",\n  \"MSRubyAlign\",\n  \"ORubyAlign\",\n  \"rubyMerge\",\n  \"MozRubyMerge\",\n  \"WebkitRubyMerge\",\n  \"MSRubyMerge\",\n  \"ORubyMerge\",\n  \"rubyPosition\",\n  \"MozRubyPosition\",\n  \"WebkitRubyPosition\",\n  \"MSRubyPosition\",\n  \"ORubyPosition\",\n  \"s\",\n  \"MozS\",\n  \"WebkitS\",\n  \"MSS\",\n  \"OS\",\n  \"scrollBehavior\",\n  \"MozScrollBehavior\",\n  \"WebkitScrollBehavior\",\n  \"MSScrollBehavior\",\n  \"OScrollBehavior\",\n  \"scrollSnapCoordinate\",\n  \"MozScrollSnapCoordinate\",\n  \"WebkitScrollSnapCoordinate\",\n  \"MSScrollSnapCoordinate\",\n  \"OScrollSnapCoordinate\",\n  \"scrollSnapDestination\",\n  \"MozScrollSnapDestination\",\n  \"WebkitScrollSnapDestination\",\n  \"MSScrollSnapDestination\",\n  \"OScrollSnapDestination\",\n  \"scrollSnapType\",\n  \"MozScrollSnapType\",\n  \"WebkitScrollSnapType\",\n  \"MSScrollSnapType\",\n  \"OScrollSnapType\",\n  \"shapeImageThreshold\",\n  \"MozShapeImageThreshold\",\n  \"WebkitShapeImageThreshold\",\n  \"MSShapeImageThreshold\",\n  \"OShapeImageThreshold\",\n  \"shapeMargin\",\n  \"MozShapeMargin\",\n  \"WebkitShapeMargin\",\n  \"MSShapeMargin\",\n  \"OShapeMargin\",\n  \"shapeOutside\",\n  \"MozShapeOutside\",\n  \"WebkitShapeOutside\",\n  \"MSShapeOutside\",\n  \"OShapeOutside\",\n  \"tabSize\",\n  \"MozTabSize\",\n  \"WebkitTabSize\",\n  \"MSTabSize\",\n  \"OTabSize\",\n  \"tableLayout\",\n  \"MozTableLayout\",\n  \"WebkitTableLayout\",\n  \"MSTableLayout\",\n  \"OTableLayout\",\n  \"textAlign\",\n  \"MozTextAlign\",\n  \"WebkitTextAlign\",\n  \"MSTextAlign\",\n  \"OTextAlign\",\n  \"textAlignLast\",\n  \"MozTextAlignLast\",\n  \"WebkitTextAlignLast\",\n  \"MSTextAlignLast\",\n  \"OTextAlignLast\",\n  \"textCombineUpright\",\n  \"MozTextCombineUpright\",\n  \"WebkitTextCombineUpright\",\n  \"MSTextCombineUpright\",\n  \"OTextCombineUpright\",\n  \"textDecoration\",\n  \"MozTextDecoration\",\n  \"WebkitTextDecoration\",\n  \"MSTextDecoration\",\n  \"OTextDecoration\",\n  \"textDecorationColor\",\n  \"MozTextDecorationColor\",\n  \"WebkitTextDecorationColor\",\n  \"MSTextDecorationColor\",\n  \"OTextDecorationColor\",\n  \"textDecorationLine\",\n  \"MozTextDecorationLine\",\n  \"WebkitTextDecorationLine\",\n  \"MSTextDecorationLine\",\n  \"OTextDecorationLine\",\n  \"textDecorationStyle\",\n  \"MozTextDecorationStyle\",\n  \"WebkitTextDecorationStyle\",\n  \"MSTextDecorationStyle\",\n  \"OTextDecorationStyle\",\n  \"textEmphasis\",\n  \"MozTextEmphasis\",\n  \"WebkitTextEmphasis\",\n  \"MSTextEmphasis\",\n  \"OTextEmphasis\",\n  \"textEmphasisColor\",\n  \"MozTextEmphasisColor\",\n  \"WebkitTextEmphasisColor\",\n  \"MSTextEmphasisColor\",\n  \"OTextEmphasisColor\",\n  \"textEmphasisPosition\",\n  \"MozTextEmphasisPosition\",\n  \"WebkitTextEmphasisPosition\",\n  \"MSTextEmphasisPosition\",\n  \"OTextEmphasisPosition\",\n  \"textEmphasisStyle\",\n  \"MozTextEmphasisStyle\",\n  \"WebkitTextEmphasisStyle\",\n  \"MSTextEmphasisStyle\",\n  \"OTextEmphasisStyle\",\n  \"textIndent\",\n  \"MozTextIndent\",\n  \"WebkitTextIndent\",\n  \"MSTextIndent\",\n  \"OTextIndent\",\n  \"textOrientation\",\n  \"MozTextOrientation\",\n  \"WebkitTextOrientation\",\n  \"MSTextOrientation\",\n  \"OTextOrientation\",\n  \"textOverflow\",\n  \"MozTextOverflow\",\n  \"WebkitTextOverflow\",\n  \"MSTextOverflow\",\n  \"OTextOverflow\",\n  \"textRendering\",\n  \"MozTextRendering\",\n  \"WebkitTextRendering\",\n  \"MSTextRendering\",\n  \"OTextRendering\",\n  \"textShadow\",\n  \"MozTextShadow\",\n  \"WebkitTextShadow\",\n  \"MSTextShadow\",\n  \"OTextShadow\",\n  \"textTransform\",\n  \"MozTextTransform\",\n  \"WebkitTextTransform\",\n  \"MSTextTransform\",\n  \"OTextTransform\",\n  \"textUnderlinePosition\",\n  \"MozTextUnderlinePosition\",\n  \"WebkitTextUnderlinePosition\",\n  \"MSTextUnderlinePosition\",\n  \"OTextUnderlinePosition\",\n  \"top\",\n  \"MozTop\",\n  \"WebkitTop\",\n  \"MSTop\",\n  \"OTop\",\n  \"touchAction\",\n  \"MozTouchAction\",\n  \"WebkitTouchAction\",\n  \"MSTouchAction\",\n  \"OTouchAction\",\n  \"transform\",\n  \"MozTransform\",\n  \"WebkitTransform\",\n  \"msTransform\",\n  \"OTransform\",\n  \"transformBox\",\n  \"MozTransformBox\",\n  \"WebkitTransformBox\",\n  \"MSTransformBox\",\n  \"OTransformBox\",\n  \"transformOrigin\",\n  \"MozTransformOrigin\",\n  \"WebkitTransformOrigin\",\n  \"MSTransformOrigin\",\n  \"OTransformOrigin\",\n  \"transformStyle\",\n  \"MozTransformStyle\",\n  \"WebkitTransformStyle\",\n  \"MSTransformStyle\",\n  \"OTransformStyle\",\n  \"transition\",\n  \"MozTransition\",\n  \"WebkitTransition\",\n  \"MSTransition\",\n  \"OTransition\",\n  \"transitionDelay\",\n  \"MozTransitionDelay\",\n  \"WebkitTransitionDelay\",\n  \"MSTransitionDelay\",\n  \"OTransitionDelay\",\n  \"transitionDuration\",\n  \"MozTransitionDuration\",\n  \"WebkitTransitionDuration\",\n  \"MSTransitionDuration\",\n  \"OTransitionDuration\",\n  \"transitionProperty\",\n  \"MozTransitionProperty\",\n  \"WebkitTransitionProperty\",\n  \"MSTransitionProperty\",\n  \"OTransitionProperty\",\n  \"transitionTimingFunction\",\n  \"MozTransitionTimingFunction\",\n  \"WebkitTransitionTimingFunction\",\n  \"MSTransitionTimingFunction\",\n  \"OTransitionTimingFunction\",\n  \"turn\",\n  \"MozTurn\",\n  \"WebkitTurn\",\n  \"MSTurn\",\n  \"OTurn\",\n  \"unicodeBidi\",\n  \"MozUnicodeBidi\",\n  \"WebkitUnicodeBidi\",\n  \"MSUnicodeBidi\",\n  \"OUnicodeBidi\",\n  \"unset\",\n  \"MozUnset\",\n  \"WebkitUnset\",\n  \"MSUnset\",\n  \"OUnset\",\n  \"verticalAlign\",\n  \"MozVerticalAlign\",\n  \"WebkitVerticalAlign\",\n  \"MSVerticalAlign\",\n  \"OVerticalAlign\",\n  \"vh\",\n  \"MozVh\",\n  \"WebkitVh\",\n  \"MSVh\",\n  \"OVh\",\n  \"visibility\",\n  \"MozVisibility\",\n  \"WebkitVisibility\",\n  \"MSVisibility\",\n  \"OVisibility\",\n  \"vmax\",\n  \"MozVmax\",\n  \"WebkitVmax\",\n  \"MSVmax\",\n  \"OVmax\",\n  \"vmin\",\n  \"MozVmin\",\n  \"WebkitVmin\",\n  \"MSVmin\",\n  \"OVmin\",\n  \"vw\",\n  \"MozVw\",\n  \"WebkitVw\",\n  \"MSVw\",\n  \"OVw\",\n  \"whiteSpace\",\n  \"MozWhiteSpace\",\n  \"WebkitWhiteSpace\",\n  \"MSWhiteSpace\",\n  \"OWhiteSpace\",\n  \"widows\",\n  \"MozWidows\",\n  \"WebkitWidows\",\n  \"MSWidows\",\n  \"OWidows\",\n  \"width\",\n  \"MozWidth\",\n  \"WebkitWidth\",\n  \"MSWidth\",\n  \"OWidth\",\n  \"willChange\",\n  \"MozWillChange\",\n  \"WebkitWillChange\",\n  \"MSWillChange\",\n  \"OWillChange\",\n  \"wordBreak\",\n  \"MozWordBreak\",\n  \"WebkitWordBreak\",\n  \"MSWordBreak\",\n  \"OWordBreak\",\n  \"wordSpacing\",\n  \"MozWordSpacing\",\n  \"WebkitWordSpacing\",\n  \"MSWordSpacing\",\n  \"OWordSpacing\",\n  \"wordWrap\",\n  \"MozWordWrap\",\n  \"WebkitWordWrap\",\n  \"MSWordWrap\",\n  \"OWordWrap\",\n  \"writingMode\",\n  \"MozWritingMode\",\n  \"WebkitWritingMode\",\n  \"MSWritingMode\",\n  \"OWritingMode\",\n  \"zIndex\",\n  \"MozZIndex\",\n  \"WebkitZIndex\",\n  \"MSZIndex\",\n  \"OZIndex\",\n  \"fontSize\",\n  \"MozFontSize\",\n  \"WebkitFontSize\",\n  \"MSFontSize\",\n  \"OFontSize\",\n  \"flex\",\n  \"MozFlex\",\n  \"WebkitFlex\",\n  \"MSFlex\",\n  \"OFlex\",\n  \"fr\",\n  \"MozFr\",\n  \"WebkitFr\",\n  \"MSFr\",\n  \"OFr\",\n  \"overflowScrolling\",\n  \"MozOverflowScrolling\",\n  \"WebkitOverflowScrolling\",\n  \"MSOverflowScrolling\",\n  \"OOverflowScrolling\",\n  \"userSelect\",\n  \"MozUserSelect\",\n  \"WebkitUserSelect\",\n  \"MSUserSelect\",\n  \"OUserSelect\"\n]\n","var properties = require('./css-properties.js');\nvar PropTypes = require('prop-types');\n\nmodule.exports = function(props, propName, componentName) {\n  var styles = props[propName];\n  if (!styles) {\n    return;\n  }\n\n  var failures = [];\n  Object.keys(styles).forEach(function(styleKey){\n    if (properties.indexOf(styleKey) === -1) {\n      failures.push(styleKey);\n    }\n  });\n  if (failures.length) {\n    throw new Error('Prop ' + propName + ' passed to ' + componentName + '. Has invalid keys ' + failures.join(', '));\n  }\n};\n\nmodule.exports.isRequired = function(props, propName, componentName) {\n  if (!props[propName]) {\n    throw new Error('Prop ' + propName + ' passed to ' + componentName + ' is required');\n  }\n  return module.exports(props, propName, componentName);\n};\n\nmodule.exports.supportingArrays = PropTypes.oneOfType([\n  PropTypes.arrayOf(module.exports),\n  module.exports\n]);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithHoles as arrayWithHoles, _defineProperty as defineProperty, _iterableToArrayLimit as iterableToArrayLimit, _nonIterableRest as nonIterableRest, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _slicedToArray as slicedToArray, _unsupportedIterableToArray as unsupportedIterableToArray };\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n}\n\nfunction curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len3 = arguments.length, nextArgs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        nextArgs[_key3] = arguments[_key3];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nfunction isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nfunction isEmpty(obj) {\n  return !Object.keys(obj).length;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction hasOwnProperty(object, property) {\n  return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nfunction validateChanges(initial, changes) {\n  if (!isObject(changes)) errorHandler('changeType');\n  if (Object.keys(changes).some(function (field) {\n    return !hasOwnProperty(initial, field);\n  })) errorHandler('changeField');\n  return changes;\n}\n\nfunction validateSelector(selector) {\n  if (!isFunction(selector)) errorHandler('selectorType');\n}\n\nfunction validateHandler(handler) {\n  if (!(isFunction(handler) || isObject(handler))) errorHandler('handlerType');\n  if (isObject(handler) && Object.values(handler).some(function (_handler) {\n    return !isFunction(_handler);\n  })) errorHandler('handlersType');\n}\n\nfunction validateInitial(initial) {\n  if (!initial) errorHandler('initialIsRequired');\n  if (!isObject(initial)) errorHandler('initialType');\n  if (isEmpty(initial)) errorHandler('initialContent');\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  initialIsRequired: 'initial state is required',\n  initialType: 'initial state should be an object',\n  initialContent: 'initial state shouldn\\'t be an empty object',\n  handlerType: 'handler should be an object or a function',\n  handlersType: 'all handlers should be a functions',\n  selectorType: 'selector should be a function',\n  changeType: 'provided value of changes should be an object',\n  changeField: 'it seams you want to change a field in the state which is not specified in the \"initial\" state',\n  \"default\": 'an unknown error accured in `state-local` package'\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  changes: validateChanges,\n  selector: validateSelector,\n  handler: validateHandler,\n  initial: validateInitial\n};\n\nfunction create(initial) {\n  var handler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  validators.initial(initial);\n  validators.handler(handler);\n  var state = {\n    current: initial\n  };\n  var didUpdate = curry(didStateUpdate)(state, handler);\n  var update = curry(updateState)(state);\n  var validate = curry(validators.changes)(initial);\n  var getChanges = curry(extractChanges)(state);\n\n  function getState() {\n    var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n      return state;\n    };\n    validators.selector(selector);\n    return selector(state.current);\n  }\n\n  function setState(causedChanges) {\n    compose(didUpdate, update, validate, getChanges)(causedChanges);\n  }\n\n  return [getState, setState];\n}\n\nfunction extractChanges(state, causedChanges) {\n  return isFunction(causedChanges) ? causedChanges(state.current) : causedChanges;\n}\n\nfunction updateState(state, changes) {\n  state.current = _objectSpread2(_objectSpread2({}, state.current), changes);\n  return changes;\n}\n\nfunction didStateUpdate(state, handler, changes) {\n  isFunction(handler) ? handler(state.current) : Object.keys(changes).forEach(function (field) {\n    var _handler$field;\n\n    return (_handler$field = handler[field]) === null || _handler$field === void 0 ? void 0 : _handler$field.call(handler, state.current[field]);\n  });\n  return changes;\n}\n\nvar index = {\n  create: create\n};\n\nexport default index;\n","var config = {\n  paths: {\n    vs: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs'\n  }\n};\n\nexport default config;\n","function isObject(value) {\n  return {}.toString.call(value).includes('Object');\n}\n\nexport default isObject;\n","import curry from '../utils/curry.js';\nimport isObject from '../utils/isObject.js';\n\n/**\n * validates the configuration object and informs about deprecation\n * @param {Object} config - the configuration object \n * @return {Object} config - the validated configuration object\n */\n\nfunction validateConfig(config) {\n  if (!config) errorHandler('configIsRequired');\n  if (!isObject(config)) errorHandler('configType');\n\n  if (config.urls) {\n    informAboutDeprecation();\n    return {\n      paths: {\n        vs: config.urls.monacoBase\n      }\n    };\n  }\n\n  return config;\n}\n/**\n * logs deprecation message\n */\n\n\nfunction informAboutDeprecation() {\n  console.warn(errorMessages.deprecation);\n}\n\nfunction throwError(errorMessages, type) {\n  throw new Error(errorMessages[type] || errorMessages[\"default\"]);\n}\n\nvar errorMessages = {\n  configIsRequired: 'the configuration object is required',\n  configType: 'the configuration object should be an object',\n  \"default\": 'an unknown error accured in `@monaco-editor/loader` package',\n  deprecation: \"Deprecation warning!\\n    You are using deprecated way of configuration.\\n\\n    Instead of using\\n      monaco.config({ urls: { monacoBase: '...' } })\\n    use\\n      monaco.config({ paths: { vs: '...' } })\\n\\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\\n  \"\n};\nvar errorHandler = curry(throwError)(errorMessages);\nvar validators = {\n  config: validateConfig\n};\n\nexport default validators;\nexport { errorHandler, errorMessages };\n","function curry(fn) {\n  return function curried() {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return args.length >= fn.length ? fn.apply(this, args) : function () {\n      for (var _len2 = arguments.length, nextArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        nextArgs[_key2] = arguments[_key2];\n      }\n\n      return curried.apply(_this, [].concat(args, nextArgs));\n    };\n  };\n}\n\nexport default curry;\n","var compose = function compose() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduceRight(function (y, f) {\n      return f(y);\n    }, x);\n  };\n};\n\nexport default compose;\n","import { objectSpread2 as _objectSpread2 } from '../_virtual/_rollupPluginBabelHelpers.js';\n\nfunction merge(target, source) {\n  Object.keys(source).forEach(function (key) {\n    if (source[key] instanceof Object) {\n      if (target[key]) {\n        Object.assign(source[key], merge(target[key], source[key]));\n      }\n    }\n  });\n  return _objectSpread2(_objectSpread2({}, target), source);\n}\n\nexport default merge;\n","// The source (has been changed) is https://github.com/facebook/react/issues/5465#issuecomment-157888325\nvar CANCELATION_MESSAGE = {\n  type: 'cancelation',\n  msg: 'operation is manually canceled'\n};\n\nfunction makeCancelable(promise) {\n  var hasCanceled_ = false;\n  var wrappedPromise = new Promise(function (resolve, reject) {\n    promise.then(function (val) {\n      return hasCanceled_ ? reject(CANCELATION_MESSAGE) : resolve(val);\n    });\n    promise[\"catch\"](reject);\n  });\n  return wrappedPromise.cancel = function () {\n    return hasCanceled_ = true;\n  }, wrappedPromise;\n}\n\nexport default makeCancelable;\nexport { CANCELATION_MESSAGE };\n","import { slicedToArray as _slicedToArray, objectWithoutProperties as _objectWithoutProperties } from '../_virtual/_rollupPluginBabelHelpers.js';\nimport state from 'state-local';\nimport config$1 from '../config/index.js';\nimport validators from '../validators/index.js';\nimport compose from '../utils/compose.js';\nimport merge from '../utils/deepMerge.js';\nimport makeCancelable from '../utils/makeCancelable.js';\n\n/** the local state of the module */\n\nvar _state$create = state.create({\n  config: config$1,\n  isInitialized: false,\n  resolve: null,\n  reject: null,\n  monaco: null\n}),\n    _state$create2 = _slicedToArray(_state$create, 2),\n    getState = _state$create2[0],\n    setState = _state$create2[1];\n/**\n * set the loader configuration\n * @param {Object} config - the configuration object\n */\n\n\nfunction config(globalConfig) {\n  var _validators$config = validators.config(globalConfig),\n      monaco = _validators$config.monaco,\n      config = _objectWithoutProperties(_validators$config, [\"monaco\"]);\n\n  setState(function (state) {\n    return {\n      config: merge(state.config, config),\n      monaco: monaco\n    };\n  });\n}\n/**\n * handles the initialization of the monaco-editor\n * @return {Promise} - returns an instance of monaco (with a cancelable promise)\n */\n\n\nfunction init() {\n  var state = getState(function (_ref) {\n    var monaco = _ref.monaco,\n        isInitialized = _ref.isInitialized,\n        resolve = _ref.resolve;\n    return {\n      monaco: monaco,\n      isInitialized: isInitialized,\n      resolve: resolve\n    };\n  });\n\n  if (!state.isInitialized) {\n    setState({\n      isInitialized: true\n    });\n\n    if (state.monaco) {\n      state.resolve(state.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n\n    if (window.monaco && window.monaco.editor) {\n      storeMonacoInstance(window.monaco);\n      state.resolve(window.monaco);\n      return makeCancelable(wrapperPromise);\n    }\n\n    compose(injectScripts, getMonacoLoaderScript)(configureLoader);\n  }\n\n  return makeCancelable(wrapperPromise);\n}\n/**\n * injects provided scripts into the document.body\n * @param {Object} script - an HTML script element\n * @return {Object} - the injected HTML script element\n */\n\n\nfunction injectScripts(script) {\n  return document.body.appendChild(script);\n}\n/**\n * creates an HTML script element with/without provided src\n * @param {string} [src] - the source path of the script\n * @return {Object} - the created HTML script element\n */\n\n\nfunction createScript(src) {\n  var script = document.createElement('script');\n  return src && (script.src = src), script;\n}\n/**\n * creates an HTML script element with the monaco loader src\n * @return {Object} - the created HTML script element\n */\n\n\nfunction getMonacoLoaderScript(configureLoader) {\n  var state = getState(function (_ref2) {\n    var config = _ref2.config,\n        reject = _ref2.reject;\n    return {\n      config: config,\n      reject: reject\n    };\n  });\n  var loaderScript = createScript(\"\".concat(state.config.paths.vs, \"/loader.js\"));\n\n  loaderScript.onload = function () {\n    return configureLoader();\n  };\n\n  loaderScript.onerror = state.reject;\n  return loaderScript;\n}\n/**\n * configures the monaco loader\n */\n\n\nfunction configureLoader() {\n  var state = getState(function (_ref3) {\n    var config = _ref3.config,\n        resolve = _ref3.resolve,\n        reject = _ref3.reject;\n    return {\n      config: config,\n      resolve: resolve,\n      reject: reject\n    };\n  });\n  var require = window.require;\n\n  require.config(state.config);\n\n  require(['vs/editor/editor.main'], function (monaco) {\n    storeMonacoInstance(monaco);\n    state.resolve(monaco);\n  }, function (error) {\n    state.reject(error);\n  });\n}\n/**\n * store monaco instance in local state\n */\n\n\nfunction storeMonacoInstance(monaco) {\n  if (!getState().monaco) {\n    setState({\n      monaco: monaco\n    });\n  }\n}\n/**\n * internal helper function\n * extracts stored monaco instance\n * @return {Object|null} - the monaco instance\n */\n\n\nfunction __getMonacoInstance() {\n  return getState(function (_ref4) {\n    var monaco = _ref4.monaco;\n    return monaco;\n  });\n}\n\nvar wrapperPromise = new Promise(function (resolve, reject) {\n  return setState({\n    resolve: resolve,\n    reject: reject\n  });\n});\nvar loader = {\n  config: config,\n  init: init,\n  __getMonacoInstance: __getMonacoInstance\n};\n\nexport default loader;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  wrapper: {\n    display: 'flex',\n    position: 'relative',\n    textAlign: 'initial',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n  hide: {\n    display: 'none',\n  },\n};\n\nexport default styles;\n","import { type CSSProperties } from 'react';\n\nconst styles: Record<string, CSSProperties> = {\n  container: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nexport default styles;\n","import React, { type PropsWithChildren } from 'react';\n\nimport styles from './styles';\n\nfunction Loading({ children }: PropsWithChildren) {\n  return <div style={styles.container}>{children}</div>;\n}\n\nexport default Loading;\n","import Loading from './Loading';\n\nexport default Loading;\n","import React from 'react';\n\nimport styles from './styles';\nimport Loading from '../Loading';\nimport { type ContainerProps } from './types';\n\n// ** forwardref render functions do not support proptypes or defaultprops **\n// one of the reasons why we use a separate prop for passing ref instead of using forwardref\n\nfunction MonacoContainer({\n  width,\n  height,\n  isEditorReady,\n  loading,\n  _ref,\n  className,\n  wrapperProps,\n}: ContainerProps) {\n  return (\n    <section style={{ ...styles.wrapper, width, height }} {...wrapperProps}>\n      {!isEditorReady && <Loading>{loading}</Loading>}\n      <div\n        ref={_ref}\n        style={{ ...styles.fullWidth, ...(!isEditorReady && styles.hide) }}\n        className={className}\n      />\n    </section>\n  );\n}\n\nexport default MonacoContainer;\n","import { memo } from 'react';\n\nimport MonacoContainer from './MonacoContainer';\n\nexport default memo(MonacoContainer);\n","import { useEffect, type EffectCallback } from 'react';\n\nfunction useMount(effect: EffectCallback) {\n  useEffect(effect, []);\n}\n\nexport default useMount;\n","import { useEffect, useRef, type DependencyList, type EffectCallback } from 'react';\n\nfunction useUpdate(effect: EffectCallback, deps: DependencyList, applyChanges = true) {\n  const isInitialMount = useRef(true);\n\n  useEffect(\n    isInitialMount.current || !applyChanges\n      ? () => {\n          isInitialMount.current = false;\n        }\n      : effect,\n    deps,\n  );\n}\n\nexport default useUpdate;\n","import { type Monaco } from '..';\n\n/**\n * noop is a helper function that does nothing\n * @returns undefined\n */\nfunction noop() {\n  /** no-op */\n}\n\n/**\n * getOrCreateModel is a helper function that will return a model if it exists\n * or create a new model if it does not exist.\n * This is useful for when you want to create a model for a file that may or may not exist yet.\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was found or created\n */\nfunction getOrCreateModel(monaco: Monaco, value: string, language: string, path: string) {\n  return getModel(monaco, path) || createModel(monaco, value, language, path);\n}\n\n/**\n * getModel is a helper function that will return a model if it exists\n * or return undefined if it does not exist.\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model that was found or undefined\n */\nfunction getModel(monaco: Monaco, path: string) {\n  return monaco.editor.getModel(createModelUri(monaco, path));\n}\n\n/**\n * createModel is a helper function that will create a new model\n * @param monaco The monaco instance\n * @param value The value of the model\n * @param language The language of the model\n * @param path The path of the model\n * @returns The model that was created\n */\nfunction createModel(monaco: Monaco, value: string, language?: string, path?: string) {\n  return monaco.editor.createModel(\n    value,\n    language,\n    path ? createModelUri(monaco, path) : undefined,\n  );\n}\n\n/**\n * createModelUri is a helper function that will create a new model uri\n * @param monaco The monaco instance\n * @param path The path of the model\n * @returns The model uri that was created\n */\nfunction createModelUri(monaco: Monaco, path: string) {\n  return monaco.Uri.parse(path);\n}\n\nexport { noop, getOrCreateModel };\n","'use client';\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport loader from '@monaco-editor/loader';\n\nimport MonacoContainer from '../MonacoContainer';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type DiffEditorProps, type MonacoDiffEditor } from './types';\nimport { type Monaco } from '..';\n\nfunction DiffEditor({\n  original,\n  modified,\n  language,\n  originalLanguage,\n  modifiedLanguage,\n  originalModelPath,\n  modifiedModelPath,\n  keepCurrentOriginalModel = false,\n  keepCurrentModifiedModel = false,\n  theme = 'light',\n  loading = 'Loading...',\n  options = {},\n  height = '100%',\n  width = '100%',\n  className,\n  wrapperProps = {},\n  beforeMount = noop,\n  onMount = noop,\n}: DiffEditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const editorRef = useRef<MonacoDiffEditor | null>(null);\n  const monacoRef = useRef<Monaco | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const preventCreation = useRef(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const originalEditor = editorRef.current.getOriginalEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          original || '',\n          originalLanguage || language || 'text',\n          originalModelPath || '',\n        );\n\n        if (model !== originalEditor.getModel()) {\n          originalEditor.setModel(model);\n        }\n      }\n    },\n    [originalModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (editorRef.current && monacoRef.current) {\n        const modifiedEditor = editorRef.current.getModifiedEditor();\n        const model = getOrCreateModel(\n          monacoRef.current,\n          modified || '',\n          modifiedLanguage || language || 'text',\n          modifiedModelPath || '',\n        );\n\n        if (model !== modifiedEditor.getModel()) {\n          modifiedEditor.setModel(model);\n        }\n      }\n    },\n    [modifiedModelPath],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const modifiedEditor = editorRef.current!.getModifiedEditor();\n      if (modifiedEditor.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        modifiedEditor.setValue(modified || '');\n      } else {\n        if (modified !== modifiedEditor.getValue()) {\n          modifiedEditor.executeEdits('', [\n            {\n              range: modifiedEditor.getModel()!.getFullModelRange(),\n              text: modified || '',\n              forceMoveMarkers: true,\n            },\n          ]);\n\n          modifiedEditor.pushUndoStop();\n        }\n      }\n    },\n    [modified],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.getModel()?.original.setValue(original || '');\n    },\n    [original],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const { original, modified } = editorRef.current!.getModel()!;\n\n      monacoRef.current!.editor.setModelLanguage(original, originalLanguage || language || 'text');\n      monacoRef.current!.editor.setModelLanguage(modified, modifiedLanguage || language || 'text');\n    },\n    [language, originalLanguage, modifiedLanguage],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  const setModels = useCallback(() => {\n    if (!monacoRef.current) return;\n    beforeMountRef.current(monacoRef.current);\n    const originalModel = getOrCreateModel(\n      monacoRef.current,\n      original || '',\n      originalLanguage || language || 'text',\n      originalModelPath || '',\n    );\n\n    const modifiedModel = getOrCreateModel(\n      monacoRef.current,\n      modified || '',\n      modifiedLanguage || language || 'text',\n      modifiedModelPath || '',\n    );\n\n    editorRef.current?.setModel({\n      original: originalModel,\n      modified: modifiedModel,\n    });\n  }, [\n    language,\n    modified,\n    modifiedLanguage,\n    original,\n    originalLanguage,\n    originalModelPath,\n    modifiedModelPath,\n  ]);\n\n  const createEditor = useCallback(() => {\n    if (!preventCreation.current && containerRef.current) {\n      editorRef.current = monacoRef.current!.editor.createDiffEditor(containerRef.current, {\n        automaticLayout: true,\n        ...options,\n      });\n\n      setModels();\n\n      monacoRef.current?.editor.setTheme(theme);\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [options, theme, setModels]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  function disposeEditor() {\n    const models = editorRef.current?.getModel();\n\n    if (!keepCurrentOriginalModel) {\n      models?.original?.dispose();\n    }\n\n    if (!keepCurrentModifiedModel) {\n      models?.modified?.dispose();\n    }\n\n    editorRef.current?.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default DiffEditor;\n","import { memo } from 'react';\n\nimport DiffEditor from './DiffEditor';\n\nexport * from './types';\n\nexport default memo(DiffEditor);\n","import { useEffect, useRef } from 'react';\n\nfunction usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\nexport default usePrevious;\n","'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport loader from '@monaco-editor/loader';\nimport useMount from '../hooks/useMount';\nimport useUpdate from '../hooks/useUpdate';\nimport usePrevious from '../hooks/usePrevious';\nimport { type IDisposable, type editor } from 'monaco-editor';\nimport { noop, getOrCreateModel } from '../utils';\nimport { type EditorProps } from './types';\nimport { type Monaco } from '..';\nimport MonacoContainer from '../MonacoContainer';\n\nconst viewStates = new Map();\n\nfunction Editor({\n  defaultValue,\n  defaultLanguage,\n  defaultPath,\n  value,\n  language,\n  path,\n  /* === */\n  theme = 'light',\n  line,\n  loading = 'Loading...',\n  options = {},\n  overrideServices = {},\n  saveViewState = true,\n  keepCurrentModel = false,\n  /* === */\n  width = '100%',\n  height = '100%',\n  className,\n  wrapperProps = {},\n  /* === */\n  beforeMount = noop,\n  onMount = noop,\n  onChange,\n  onValidate = noop,\n}: EditorProps) {\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isMonacoMounting, setIsMonacoMounting] = useState(true);\n  const monacoRef = useRef<Monaco | null>(null);\n  const editorRef = useRef<editor.IStandaloneCodeEditor | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const onMountRef = useRef(onMount);\n  const beforeMountRef = useRef(beforeMount);\n  const subscriptionRef = useRef<IDisposable>();\n  const valueRef = useRef(value);\n  const previousPath = usePrevious(path);\n  const preventCreation = useRef(false);\n  const preventTriggerChangeEvent = useRef<boolean>(false);\n\n  useMount(() => {\n    const cancelable = loader.init();\n\n    cancelable\n      .then((monaco) => (monacoRef.current = monaco) && setIsMonacoMounting(false))\n      .catch(\n        (error) =>\n          error?.type !== 'cancelation' && console.error('Monaco initialization: error:', error),\n      );\n\n    return () => (editorRef.current ? disposeEditor() : cancelable.cancel());\n  });\n\n  useUpdate(\n    () => {\n      const model = getOrCreateModel(\n        monacoRef.current!,\n        defaultValue || value || '',\n        defaultLanguage || language || '',\n        path || defaultPath || '',\n      );\n\n      if (model !== editorRef.current?.getModel()) {\n        if (saveViewState) viewStates.set(previousPath, editorRef.current?.saveViewState());\n        editorRef.current?.setModel(model);\n        if (saveViewState) editorRef.current?.restoreViewState(viewStates.get(path));\n      }\n    },\n    [path],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      editorRef.current?.updateOptions(options);\n    },\n    [options],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      if (!editorRef.current || value === undefined) return;\n      if (editorRef.current.getOption(monacoRef.current!.editor.EditorOption.readOnly)) {\n        editorRef.current.setValue(value);\n      } else if (value !== editorRef.current.getValue()) {\n        preventTriggerChangeEvent.current = true;\n        editorRef.current.executeEdits('', [\n          {\n            range: editorRef.current.getModel()!.getFullModelRange(),\n            text: value,\n            forceMoveMarkers: true,\n          },\n        ]);\n\n        editorRef.current.pushUndoStop();\n        preventTriggerChangeEvent.current = false;\n      }\n    },\n    [value],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      const model = editorRef.current?.getModel();\n      if (model && language) monacoRef.current?.editor.setModelLanguage(model, language);\n    },\n    [language],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      // reason for undefined check: https://github.com/suren-atoyan/monaco-react/pull/188\n      if (line !== undefined) {\n        editorRef.current?.revealLine(line);\n      }\n    },\n    [line],\n    isEditorReady,\n  );\n\n  useUpdate(\n    () => {\n      monacoRef.current?.editor.setTheme(theme);\n    },\n    [theme],\n    isEditorReady,\n  );\n\n  const createEditor = useCallback(() => {\n    if (!containerRef.current || !monacoRef.current) return;\n    if (!preventCreation.current) {\n      beforeMountRef.current(monacoRef.current);\n      const autoCreatedModelPath = path || defaultPath;\n\n      const defaultModel = getOrCreateModel(\n        monacoRef.current,\n        value || defaultValue || '',\n        defaultLanguage || language || '',\n        autoCreatedModelPath || '',\n      );\n\n      editorRef.current = monacoRef.current?.editor.create(\n        containerRef.current,\n        {\n          model: defaultModel,\n          automaticLayout: true,\n          ...options,\n        },\n        overrideServices,\n      );\n\n      saveViewState && editorRef.current.restoreViewState(viewStates.get(autoCreatedModelPath));\n\n      monacoRef.current.editor.setTheme(theme);\n\n      if (line !== undefined) {\n        editorRef.current.revealLine(line);\n      }\n\n      setIsEditorReady(true);\n      preventCreation.current = true;\n    }\n  }, [\n    defaultValue,\n    defaultLanguage,\n    defaultPath,\n    value,\n    language,\n    path,\n    options,\n    overrideServices,\n    saveViewState,\n    theme,\n    line,\n  ]);\n\n  useEffect(() => {\n    if (isEditorReady) {\n      onMountRef.current(editorRef.current!, monacoRef.current!);\n    }\n  }, [isEditorReady]);\n\n  useEffect(() => {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  // subscription\n  // to avoid unnecessary updates (attach - dispose listener) in subscription\n  valueRef.current = value;\n\n  // onChange\n  useEffect(() => {\n    if (isEditorReady && onChange) {\n      subscriptionRef.current?.dispose();\n      subscriptionRef.current = editorRef.current?.onDidChangeModelContent((event) => {\n        if (!preventTriggerChangeEvent.current) {\n          onChange(editorRef.current!.getValue(), event);\n        }\n      });\n    }\n  }, [isEditorReady, onChange]);\n\n  // onValidate\n  useEffect(() => {\n    if (isEditorReady) {\n      const changeMarkersListener = monacoRef.current!.editor.onDidChangeMarkers((uris) => {\n        const editorUri = editorRef.current!.getModel()?.uri;\n\n        if (editorUri) {\n          const currentEditorHasMarkerChanges = uris.find((uri) => uri.path === editorUri.path);\n          if (currentEditorHasMarkerChanges) {\n            const markers = monacoRef.current!.editor.getModelMarkers({\n              resource: editorUri,\n            });\n            onValidate?.(markers);\n          }\n        }\n      });\n\n      return () => {\n        changeMarkersListener?.dispose();\n      };\n    }\n    return () => {\n      // eslint happy\n    };\n  }, [isEditorReady, onValidate]);\n\n  function disposeEditor() {\n    subscriptionRef.current?.dispose();\n\n    if (keepCurrentModel) {\n      saveViewState && viewStates.set(path, editorRef.current!.saveViewState());\n    } else {\n      editorRef.current!.getModel()?.dispose();\n    }\n\n    editorRef.current!.dispose();\n  }\n\n  return (\n    <MonacoContainer\n      width={width}\n      height={height}\n      isEditorReady={isEditorReady}\n      loading={loading}\n      _ref={containerRef}\n      className={className}\n      wrapperProps={wrapperProps}\n    />\n  );\n}\n\nexport default Editor;\n","import loader from '@monaco-editor/loader';\nexport { loader };\n\nimport DiffEditor from './DiffEditor';\nexport * from './DiffEditor/types';\nexport { DiffEditor };\n\nimport useMonaco from './hooks/useMonaco';\nexport { useMonaco };\n\nimport Editor from './Editor';\nexport * from './Editor/types';\nexport { Editor };\nexport default Editor;\n\n// Monaco\nimport type * as monaco from 'monaco-editor/esm/vs/editor/editor.api';\nexport type Monaco = typeof monaco;\n\n// Default themes\nexport type Theme = 'vs-dark' | 'light';\n","import { memo } from 'react';\n\nimport Editor from './Editor';\n\nexport * from './types';\n\nexport default memo(Editor);\n"],"names":["_excluded","Icon","React","props","ref","className","Component","component","viewBox","spin","rotate","tabIndex","onClick","children","restProps","_objectWithoutProperties","warning","Boolean","useInsertStyles","_React$useContext","Context","_React$useContext$pre","prefixCls","rootClassName","classString","classNames","svgClassString","_defineProperty","concat","svgStyle","msTransform","transform","undefined","innerSvgProps","_objectSpread","svgBaseProps","style","iconTabIndex","role","count","only","type","displayName","CheckCircleOutlined","AntdIcon","icon","CheckCircleOutlinedSvg","DeleteFilled","DeleteFilledSvg","FileSearchOutlined","FileSearchOutlinedSvg","LinkOutlined","LinkOutlinedSvg","QuestionCircleOutlined","QuestionCircleOutlinedSvg","UploadOutlined","UploadOutlinedSvg","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d","resolveProps","defaultProps","output","_extends","Object","keys","forEach","propName","toString","match","defaultSlotProps","slotProps","slotPropName","getLoadingButtonUtilityClass","slot","generateUtilityClass","generateUtilityClasses","LoadingButtonRoot","styled","Button","shouldForwardProp","prop","rootShouldForwardProp","name","overridesResolver","styles","root","startIconLoadingStart","loadingButtonClasses","endIconLoadingEnd","_ref","ownerState","theme","transition","transitions","create","duration","short","opacity","loadingPosition","loading","color","fullWidth","marginRight","marginLeft","LoadingButtonLoadingIndicator","loadingIndicator","capitalize","_ref2","position","visibility","display","variant","left","size","vars","palette","action","disabled","right","inProps","resolvedProps","ButtonGroupContext","useDefaultProps","id","idProp","loadingIndicatorProp","other","_objectWithoutPropertiesLoose","useId","_jsx","CircularProgress","classes","slots","startIcon","endIcon","composedClasses","composeClasses","useUtilityClasses","loadingButtonLoadingIndicator","_jsxs","getUtilityClass","arguments","length","reduce","acc","key","utilityClass","push","join","defaultGenerator","componentName","createClassNameGenerator","generate","configure","generator","reset","globalStateClasses","active","checked","completed","error","expanded","focused","focusVisible","open","readOnly","required","selected","globalStatePrefix","globalStateClass","ClassNameGenerator","result","getButtonGroupUtilityClass","ButtonGroupRoot","buttonGroupClasses","grouped","orientation","firstButton","lastButton","middleButton","disableElevation","vertical","borderRadius","shape","boxShadow","shadows","width","flexDirection","minWidth","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","borderRight","common","onBackgroundChannel","mode","borderBottom","borderColor","mainChannel","alpha","main","borderRightColor","borderBottomColor","grey","dark","borderTopLeftRadius","marginTop","disableFocusRipple","disableRipple","context","validChildren","getValidReactChildren","childrenCount","getButtonPositionClassName","index","isFirstButton","isLastButton","as","clsx","Provider","value","map","child","ButtonGroupButtonContext","getRadioGroupUtilityClass","actions","defaultValue","nameProp","onChange","valueProp","rootRef","row","setValueState","useControlled","controlled","focus","input","current","querySelector","handleRef","useForkRef","contextValue","event","target","RadioGroupContext","FormGroup","module","r","e","n","t","o","i","f","u","a","Error","code","p","call","utils","dateTime","stringToArray","few","ordinals","decades","magnitudes","numberToWords","ordinal","lookup","num","prev","ord","words","tens","Math","floor","remainder","substring","hundreds","mag","log10","factor","pow","mant","wordValues","wordsToNumber","text","values","split","part","segs","top","pop","b","word","toLowerCase","lword","hundredth","val","romanNumerals","romanValues","decimalToRoman","numeral","romanToDecimal","roman","decimal","max","digit","decimalToLetters","aChar","letters","aCode","charCodeAt","unshift","String","fromCharCode","lettersToDecimal","formatInteger","picture","_formatInteger","analyseIntegerPicture","formats","DECIMAL","LETTERS","ROMAN","WORDS","SEQUENCE","tcase","UPPER","LOWER","TITLE","format","formattedInteger","negative","abs","primary","case","toUpperCase","padLength","mandatoryDigits","padding","Array","zeroCode","fromCodePoint","codePointAt","regular","ii","groupingSeparators","pos","substr","character","reverse","separator","suffix","token","decimalGroups","primaryFormat","formatModifier","semicolon","lastIndexOf","optionalDigits","separatorPosition","c","codePoint","group","separators","sepChar","indexes","gcd","indexOf","regularRepeat","defaultPresentationModifiers","Y","M","D","F","W","w","X","x","H","h","P","m","s","Z","z","C","E","analyseDateTimePicture","spec","parts","addLiteral","start","end","literal","charAt","marker","presMod","def","comma","widthMod","dash","min","parseWidth","wm","parseInt","widthDef","presentation1","lastChar","presentation2","names","integerPattern","integerFormat","days","months","millisInADay","startOfFirstWeek","ym","jan1","Date","UTC","year","month","dayOfJan1","getUTCDay","yearMonth","nextMonth","previousMonth","nextYear","previousYear","deltaWeeks","getDateTimeFragment","date","componentValue","getUTCFullYear","getUTCMonth","getUTCDate","thisYear","startOfWeek1","today","week","startOfPreviousYear","thisMonth","startOfPreviousMonth","startOfISOYear","endOfISOYear","now","getTime","startOfISOMonth","endOfISOMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","iso8601Spec","formatDateTime","millis","timezone","offsetHours","offsetMinutes","offset","formatComponent","markerSpec","numDigits","formatSpec","generateRegex","matcher","res","regex","replace","isArray","parse","Number","isUpper","occurrences","digits","sep","char","parseInteger","parseDateTime","timestamp","matchSpec","fullRegex","info","RegExp","exec","dmA","dmB","dmC","dmD","tmA","tmB","components","mpart","getOwnPropertyNames","mask","shift","bit","isType","dateB","dateC","dateD","timeB","comps","this","environment","startSpecified","endSpecified","firstJan","offsetMillis","derivedDate","iso8601regex","toMillis","test","stack","fromMillis","global","functions","isNumeric","isArrayOfStrings","isArrayOfNumbers","createSequence","isSequence","isFunction","isLambda","isPromise","getFunctionArity","deepEquals","isDeepEqual","sum","args","total","apply","average","string","arg","prettify","str","isFinite","space","outerWrapper","JSON","stringify","toPrecision","strArray","strLength","slice","substringBefore","chars","substringAfter","lowercase","uppercase","trim","pad","async","evaluateMatcher","groups","next","contains","limit","matches","pattern","replacement","replacer","self","regexMatch","substitute","dollarVal","maxDigits","log","LOG10E","isNaN","submatch","replacedWith","base64encode","btoa","window","Buffer","from","base64decode","atob","encodeUrlComponent","returnVal","encodeURIComponent","functionName","encodeUrl","encodeURI","decodeUrlComponent","decodeURIComponent","decodeUrl","decodeURI","strs","formatNumber","options","properties","decimalDigitFamily","zeroCharCode","activeChars","subPictures","splitParts","subpicture","mantissaPart","exponentPart","integerPart","fractionalPart","prefix","ch","activePart","exponentPosition","decimalPosition","validate","decimalPos","percent","valid","optionalDigitPos","filter","exponentExists","analyse","getGroupingPositions","toLeft","positions","groupingPosition","charsToTheRight","integerPartGroupingPositions","regularGrouping","fractionalPartGroupingPositions","minimumIntegerPartSize","scalingFactor","fractionalPartArray","minimumFactionalPartSize","maximumFactionalPartSize","exponentPresent","minimumExponentSize","pic","adjustedNumber","mantissa","exponent","variables","minus_sign","zero_digit","decimal_separator","grouping_separator","maxMantissa","minMantissa","makeString","dp","toFixed","stringValue","round","padLeft","padRight","groupCount","stringExponent","formatBase","radix","number","parseFloat","ceil","precision","diff","is","sqrt","power","exp","random","boolean","not","hofFuncArgs","func","arg1","arg2","arg3","func_args","arr","entry","single","hasFoundMatch","positiveResult","zip","prototype","tuple","foldLeft","sequence","init","arity","merge","item","append","exists","spread","obj","each","message","assert","condition","sort","comparator","comp","l","merge_iter","merged","msort","array","middle","shuffle","j","distinct","results","includes","jj","sift","datetime","fn","parser","parseSignature","jsonata","isIterable","staticFrame","createFrame","evaluate","expr","entryCallback","evaluatePath","evaluateBinary","evaluateUnary","evaluateName","evaluateLiteral","evaluateWildcard","evaluateDescendants","label","evaluateCondition","evaluateBlock","evaluateBindExpression","evaluateRegex","evaluateFunction","evaluateVariable","evaluateLambda","evaluatePartialApplication","evaluateApplyExpression","evaluateTransformExpression","hasOwnProperty","predicate","evaluateFilter","evaluateGroupExpression","exitCallback","tupleStream","keepArray","keepSingleton","inputSequence","resultSequence","steps","isTupleStream","tupleBindings","step","consarray","evaluateTupleStep","evaluateStep","keepSingletonArray","cons","createFrameFromTuple","frame","bind","lastStep","evaluateSortExpression","stages","evaluateStages","ss","stage","ee","sorted","stepEnv","bb","assign","ancestor","env","ires","lhs","op","evalrhs","rhs","evaluateBooleanExpression","err","evaluateNumericExpression","evaluateEqualityExpression","evaluateComparisonExpression","evaluateStringConcat","evaluateRangeExpression","evaluateIncludesExpression","expression","generators","Promise","all","expressions","idx","isParallelCall","defineProperty","enumerable","configurable","flatten","flattened","recurseDescendants","member","ltype","rtype","value2","lBool","boolize","booledValue","lstr","rstr","itemIndex","pairIndex","pair","data","exprIndex","reduceTupleStream","isInteger","then","else","re","RegexEngine","closure","fromIndex","lastIndex","source","isTupleSort","terms","term","aa","atype","btype","descending","defineFunction","cloneFunction","isPrototypeOf","constructor","update","updateType","delete","deletions","chainAST","chain","applyto","proc","procedure","evaluatedArgs","_len","params","_key","procName","applyInner","thunk","body","validatedArgs","validateArguments","signature","applyProcedure","_jsonata_function","implementation","_jsonata_lambda","partialApplyProcedure","partialApplyNativeFunction","param","applyNativeFunction","unboundArgs","native","sigArgs","getNativeFunctionArguments","sigArg","bodyAST","definition","functionEval","ast","populateMessage","functionClone","enclosingEnvironment","bindings","ancestry","errorCodes","template","errors","recover","callback","exec_env","it","v","registerFunction","operators","escapes","tokenizer","path","scanRegex","flags","depth","isClosingSlash","backslashCount","currentChar","commentStart","quoteType","qstr","octets","codepoint","node","lexer","symbol_table","remainingTokens","remaining","nxt","base_symbol","nud","symbol","bp","lbp","handleError","advance","infix","next_token","rbp","led","terminal","bindingPower","infixr","sigPos","sig","tok","range","objectParser","tailCallOptimize","ancestorLabel","ancestorIndex","seekParent","level","pushAncestry","seekingParent","resolveAncestry","laststep","processAST","lstep","rest","nextFunction","lit","firststep","sortStep","argAST","arraySignatureMapping","prevParam","findClosingBracket","openSymbol","closeSymbol","contextRegex","endParen","choice","endPos","subtype","regexStr","getSymbol","throwValidationError","badArgs","badSig","partialPattern","goodTo","suppliedSig","isValid","argIndex","contextType","arrayOK","itemType","isNum","iteratorSymbol","Symbol","iterator","lkeys","rkeys","componentWillMount","state","getDerivedStateFromProps","setState","componentWillReceiveProps","nextProps","prevState","componentWillUpdate","nextState","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","writable","_createClass","protoProps","staticProps","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","_createSuper","Derived","Super","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","NewTarget","_possibleConstructorReturn","__suppressDeprecationWarning","Pane","_React$PureComponent","_super","_this$props","styleProps","eleRef","flex","outline","height","propTypes","PropTypes","isRequired","stylePropType","RESIZER_DEFAULT_CLASSNAME","Resizer","_React$Component","_onClick","_onDoubleClick","onDoubleClick","_onMouseDown","onMouseDown","_onTouchEnd","onTouchEnd","_onTouchStart","onTouchStart","resizerClassName","preventDefault","unFocus","document","selection","empty","getSelection","removeAllRanges","getDefaultSize","defaultSize","minSize","maxSize","draggedSize","Infinity","SplitPane","_this","onMouseMove","onTouchMove","onMouseUp","initialSize","resized","pane1Size","pane2Size","instanceProps","addEventListener","getSizeUpdate","removeEventListener","eventWithTouches","touches","clientX","clientY","allowResize","onDragStarted","_this$props2","_this$state","isPrimaryFirst","pane1","pane2","ref2","node2","getBoundingClientRect","positionDelta","sizeDelta","getComputedStyle","order","newMaxSize","splitPane","newSize","newPosition","_this$props3","onDragFinished","_this$state2","_this2","_this$props4","onResizerClick","onResizerDoubleClick","paneClassName","pane1ClassName","pane2ClassName","paneStyle","pane1StyleProps","pane1Style","pane2StyleProps","pane2Style","resizerStyle","_this$state3","disabledClass","resizerClassNamesIncludingDefault","notNullChildren","toArray","removeNullChildren","overflow","MozUserSelect","WebkitUserSelect","msUserSelect","userSelect","bottom","minHeight","pane1Classes","pane2Classes","newState","isPanel1Primary","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","newApiName","componentDidUpdate","maybeSnapshot","snapshot","polyfill","failures","styleKey","supportingArrays","oneOfType","arrayOf","excluded","sourceKeys","sourceSymbolKeys","propertyIsEnumerable","_arrayLikeToArray","len","arr2","curry","curried","_len2","_key2","_len3","nextArgs","_key3","isObject","errorHandler","errorMessages","initialIsRequired","initialType","initialContent","handlerType","handlersType","selectorType","changeType","changeField","validators","changes","initial","some","field","property","selector","handler","_handler","extractChanges","causedChanges","updateState","didStateUpdate","_handler$field","didUpdate","getChanges","fns","reduceRight","y","compose","paths","vs","configIsRequired","configType","deprecation","config","urls","console","warn","monacoBase","CANCELATION_MESSAGE","msg","promise","hasCanceled_","wrappedPromise","resolve","reject","cancel","_state$create","config$1","isInitialized","monaco","_state$create2","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","done","_iterableToArrayLimit","minLen","_unsupportedIterableToArray","_nonIterableRest","getState","injectScripts","script","appendChild","getMonacoLoaderScript","configureLoader","loaderScript","src","createElement","createScript","onload","onerror","_ref3","storeMonacoInstance","wrapperPromise","loader","globalConfig","_validators$config","makeCancelable","editor","__getMonacoInstance","_ref4","wrapper","textAlign","hide","container","justifyContent","alignItems","$","me","isEditorReady","wrapperProps","K","ye","k","xe","Re","ge","getModel","te","De","createModel","be","Uri","ie","original","modified","language","originalLanguage","modifiedLanguage","originalModelPath","modifiedModelPath","keepCurrentOriginalModel","g","keepCurrentModifiedModel","N","V","beforeMount","A","onMount","q","O","T","S","Se","catch","dispose","I","getOriginalEditor","setModel","getModifiedEditor","getOption","EditorOption","setValue","getValue","executeEdits","getFullModelRange","forceMoveMarkers","pushUndoStop","setModelLanguage","setTheme","updateOptions","L","oe","U","createDiffEditor","automaticLayout","ne","ke","Te","se","ve","Ue","_","Map","fe","defaultLanguage","defaultPath","line","overrideServices","saveViewState","keepCurrentModel","onValidate","ue","Q","B","Ne","R","set","restoreViewState","get","revealLine","model","onDidChangeModelContent","onDidChangeMarkers","G","uri","find","J","getModelMarkers","resource","We","Ft","ze"],"sourceRoot":""}