"use strict";(self.webpackChunksunbird_obsrv=self.webpackChunksunbird_obsrv||[]).push([[157],{92157:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var a=i(68903),r=i(53536),s=i.n(r),n=i(65043),l=i(73216),o=i(53764),c=i(51632),u=i(91087),d=i(83547),f=i(99794),b=i(97508),m=i(8387),y=i(69137),p=i(37538),h=i(98612),x=i(70579);const g=()=>{const e=(0,l.Zp)(),t=(0,b.wA)(),[i,r]=(0,n.useState)({error:{alertInfo:!1,queryBuilder:!1}}),[g,A]=(0,n.useState)(!1),F=e=>!0,S=(0,n.useMemo)((()=>{const e={formData:i,setFormData:r,dispatch:t,isFieldEditable:F};return[{id:"queryBuilder",title:"Query Builder",description:"List down the requirements of your query and set the alert conditions",component:(0,x.jsx)(u.A,{...e,existingState:{},sectionLabel:"queryBuilder",isFieldEditable:F})},{id:"alertInfo",title:"Rule Configuration",description:"Set the basic information for your alert",component:(0,x.jsx)(c.A,{...e,existingState:{frequency:"1m",interval:"1m"},sectionLabel:"alertInfo",isFieldEditable:F})},{id:"labels",title:"Labels",description:"Attach labels to your alert",component:(0,x.jsx)(d.A,{...e,existingState:{},sectionLabel:"labels",isFieldEditable:F})},{id:"notifications",title:"Notification Channel",description:"Configure notification channel for your alert",component:(0,x.jsx)(f.A,{...e,existingState:{},sectionLabel:"notifications"})}]}),[]);return(0,x.jsxs)(x.Fragment,{children:[g&&(0,x.jsx)(h.A,{}),(0,x.jsx)(a.Ay,{children:(0,p.H1)({sections:S,formData:i,actionHandler:async()=>{A(!0);try{(0,y.l)(s().get(i,"error"))?(await(async()=>{const e=(0,p.F4)({...i,context:{alertType:"CUSTOM"}});return(0,o.Iw)(e)})(),e("/alertRules/custom"),t((0,m.kX)({message:"Alert Rule created successfully"}))):t((0,m.z3)({message:"Please fill all required fields"}))}catch(a){t((0,m.z3)({message:"Failed to create alert rule"}))}finally{A(!1)}},actionLabel:"Create Rule"})})]})}}}]);
//# sourceMappingURL=157.e460bcdf.chunk.js.map